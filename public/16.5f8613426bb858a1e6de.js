(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"3Qs8":function(t,e,i){"use strict";i.r(e),i.d(e,"SendModule",(function(){return q}));var n=i("WT9V"),o=i("IfiR"),c=i("n47m"),r=i("ptv/"),a=i("LPaM"),s=i("981U"),l=i("iZ6s"),d=i("X8C7"),u=i("qjAt"),p=i("ZDS+"),f=i("LU/F"),b=i("Mumn"),m=i("Jg5f"),h=i("LoAr"),g=i("GiBk"),v=function(){function t(t){this.http=t,this.api=b.a.mainUrl+b.a.apiUrl+"/emails"}return t.prototype.getMails=function(){return this.http.get(this.api).pipe(Object(m.a)((function(t){return t})))},t.prototype.saveEmail=function(t){return this.http.post(this.api,t).pipe(Object(m.a)((function(t){return t})))},t.prototype.editMail=function(t){return this.http.put(this.api,t).pipe(Object(m.a)((function(t){return t})))},t.prototype.deleteMail=function(t){return this.http.delete(this.api+"/rem/"+t.id).pipe(Object(m.a)((function(t){return t})))},t.\u0275fac=function(e){return new(e||t)(h.ic(g.b))},t.\u0275prov=h.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),y=i("2Mvu"),w=i("j4z+"),O=i("OFNr"),S=i("AwSQ"),C=i("hg70");function _(t,e){if(1&t){var i=h.fc();h.ec(0,"div",22),h.Zb(1,"i",23),h.ec(2,"input",24),h.mc("input",(function(t){return h.Lc(i),h.qc(),h.Jc(11).filterGlobal(t.target.value,"contains")})),h.dc(),h.dc()}}function j(t,e){if(1&t&&(h.ec(0,"th",27),h.Wc(1),h.Zb(2,"p-sortIcon",28),h.dc()),2&t){var i=e.$implicit;h.xc("pSortableColumn",i.field),h.Kb(1),h.Yc(" ",i.header," "),h.Kb(1),h.xc("field",i.field)}}function D(t,e){if(1&t&&(h.ec(0,"tr"),h.Uc(1,j,3,3,"th",25),h.ec(2,"th",26),h.Wc(3,"Options"),h.dc(),h.dc()),2&t){var i=e.$implicit;h.Kb(1),h.xc("ngForOf",i)}}function E(t,e){if(1&t){var i=h.fc();h.ec(0,"tr"),h.ec(1,"td"),h.Wc(2),h.dc(),h.ec(3,"td"),h.Wc(4),h.dc(),h.ec(5,"td"),h.Wc(6),h.dc(),h.ec(7,"td"),h.Wc(8),h.rc(9,"number"),h.rc(10,"number"),h.dc(),h.ec(11,"td"),h.ec(12,"button",29),h.mc("click",(function(){h.Lc(i);var t=e.$implicit;return h.qc(2).edit(t)})),h.Zb(13,"i",30),h.dc(),h.ec(14,"button",31),h.mc("click",(function(){h.Lc(i);var t=e.$implicit;return h.qc(2).delete(t)})),h.Zb(15,"i",32),h.dc(),h.dc(),h.dc()}if(2&t){var n=e.$implicit;h.Kb(2),h.Xc(n.subject),h.Kb(2),h.Xc(n.status),h.Kb(2),h.Xc(n.sentTo),h.Kb(2),h.Zc("",h.sc(9,5,n.totalOpen),"/",h.sc(10,7,n.totalRecipient),"")}}var M=function(){return[10,15,20,25]};function x(t,e){if(1&t){var i=h.fc();h.ec(0,"div",11),h.ec(1,"div",3),h.Zb(2,"i",12),h.Wc(3," Target Marketing (Emails) "),h.ec(4,"button",4),h.mc("click",(function(){return h.Lc(i),h.qc().refresh()})),h.Zb(5,"i",13),h.dc(),h.ec(6,"button",14),h.mc("click",(function(){return h.Lc(i),h.qc().newEmail()})),h.Zb(7,"i",15),h.Wc(8," New Email "),h.dc(),h.dc(),h.ec(9,"div",16),h.ec(10,"p-table",17,18),h.Uc(12,_,3,0,"ng-template",19),h.Uc(13,D,4,1,"ng-template",20),h.Uc(14,E,16,9,"ng-template",21),h.dc(),h.dc(),h.dc()}if(2&t){var n=h.qc();h.Kb(10),h.xc("autoLayout",!0)("columns",n.dataSetCols)("paginator",!0)("resizableColumns",!0)("rowsPerPageOptions",h.Ac(7,M))("rows",10)("value",n.dataSet)}}function T(t,e){1&t&&(h.ec(0,"div",61),h.ec(1,"div"),h.Wc(2,"Subject is required"),h.dc(),h.dc())}function k(t,e){1&t&&(h.ec(0,"div",61),h.ec(1,"div"),h.Wc(2,"Audience is required"),h.dc(),h.dc())}function I(t,e){1&t&&(h.ec(0,"div",61),h.ec(1,"div"),h.Wc(2,"Name is required"),h.dc(),h.dc())}function P(t,e){1&t&&(h.ec(0,"div",61),h.ec(1,"div"),h.Wc(2,"Email is invalid"),h.dc(),h.dc())}function W(t,e){if(1&t){var i=h.fc();h.ec(0,"div",40),h.ec(1,"div",62),h.Zb(2,"input",63),h.Uc(3,I,3,0,"div",44),h.dc(),h.ec(4,"div",62),h.Zb(5,"input",64),h.Uc(6,P,3,0,"div",44),h.dc(),h.ec(7,"div",65),h.ec(8,"button",66),h.mc("click",(function(){return h.Lc(i),h.qc(2).addEmail()})),h.Wc(9,"Add"),h.dc(),h.dc(),h.dc()}if(2&t){var n=h.qc(2);h.Kb(2),h.xc("formControl",n.name),h.Kb(1),h.xc("ngIf",n.name.errors),h.Kb(2),h.xc("formControl",n.email),h.Kb(1),h.xc("ngIf",n.email.errors),h.Kb(2),h.xc("disabled",n.name.invalid||n.email.invalid)}}function U(t,e){if(1&t){var i=h.fc();h.ec(0,"p",67),h.mc("click",(function(){h.Lc(i);var t=e.$implicit;return h.qc(2).removeEmail(t)})),h.Wc(1),h.dc()}if(2&t){var n=e.$implicit;h.Kb(1),h.Zc(" ",n.name,"<",n.email,"> ")}}var A=function(t){return{"is-invalid":t}};function K(t,e){if(1&t){var i=h.fc();h.ec(0,"div",33),h.ec(1,"div",34),h.ec(2,"h4",35),h.Wc(3,"Send Email"),h.dc(),h.ec(4,"button",36),h.mc("click",(function(){return h.Lc(i),h.qc().saveModal.hide()})),h.ec(5,"span",37),h.Wc(6,"\xd7"),h.dc(),h.dc(),h.dc(),h.ec(7,"form",38),h.ec(8,"div",39),h.ec(9,"div",40),h.ec(10,"label",41),h.Wc(11,"Mail Subject"),h.dc(),h.ec(12,"div",42),h.Zb(13,"input",43),h.Uc(14,T,3,0,"div",44),h.dc(),h.dc(),h.ec(15,"div",40),h.ec(16,"label",45),h.Wc(17,"Send To"),h.dc(),h.ec(18,"div",42),h.ec(19,"select",46),h.ec(20,"option",47),h.Wc(21,"Active Subscribers"),h.dc(),h.ec(22,"option",48),h.Wc(23,"In-Active Subscribers"),h.dc(),h.ec(24,"option",49),h.Wc(25,"Cancelled Subscriptions"),h.dc(),h.ec(26,"option",50),h.Wc(27,"Changed Subscriptions"),h.dc(),h.ec(28,"option",51),h.Wc(29,"Expired Subscriptions"),h.dc(),h.ec(30,"option",52),h.Wc(31,"Expiring this Month"),h.dc(),h.ec(32,"option",53),h.Wc(33,"Expiring this Week"),h.dc(),h.ec(34,"option",54),h.Wc(35,"Expiring Today"),h.dc(),h.ec(36,"option",55),h.Wc(37,"Others"),h.dc(),h.dc(),h.Uc(38,k,3,0,"div",44),h.dc(),h.dc(),h.Uc(39,W,10,5,"div",56),h.Uc(40,U,2,2,"p",57),h.dc(),h.ec(41,"div",58),h.ec(42,"button",59),h.mc("click",(function(){return h.Lc(i),h.qc().saveModal.hide()})),h.Wc(43,"Close"),h.dc(),h.ec(44,"button",60),h.mc("click",(function(){return h.Lc(i),h.qc().sendEmail(1)})),h.Wc(45,"Save Draft"),h.dc(),h.ec(46,"button",60),h.mc("click",(function(){return h.Lc(i),h.qc().sendEmail(2)})),h.Wc(47,"Send Now"),h.dc(),h.dc(),h.dc(),h.dc()}if(2&t){var n=h.qc();h.Kb(7),h.xc("formGroup",n.addEditForm),h.Kb(6),h.xc("ngClass",h.Bc(8,A,n.f.subject.errors)),h.Kb(1),h.xc("ngIf",n.f.subject.errors),h.Kb(24),h.xc("ngIf",n.f.sentTo.errors),h.Kb(1),h.xc("ngIf",n.enterCustom),h.Kb(1),h.xc("ngForOf",n.customEmails),h.Kb(4),h.xc("disabled",n.addEditForm.invalid),h.Kb(2),h.xc("disabled",n.addEditForm.invalid)}}var F=function(){return{width:"50vw"}},L=[{path:"",component:function(){function t(t,e,i,n,c,r,a){this.http=t,this.confirmService=e,this.lms=i,this.dataStore=n,this.modalService=c,this.messageService=r,this.formBuilder=a,this.view=1,this.dataLoaded=!1,this.dataSetCols=[],this.dataSet=[],this.projectId=4667,this.templateId=47821,this.curData={},this.name=new o.e("",o.x.required),this.email=new o.e("",[o.x.required,o.x.email]),this.customEmails=[],this.enterCustom=!1,this.users=[],this.allUsers=[]}return Object.defineProperty(t.prototype,"f",{get:function(){return this.addEditForm.controls},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.initEditor(),this.dataSetCols=[{field:"subject",header:"Subject"},{field:"status",header:"Status"},{field:"sentTo",header:"Sent To"},{field:"totalOpen",header:"Stats"}],this.refresh(),this.lms.proxyUsers().pipe(Object(y.a)()).subscribe((function(e){t.users=t.allUsers=e}))},t.prototype.initEditor=function(){var t=this,e=this.unlayerScript=document.createElement("script");e.setAttribute("src","//editor.unlayer.com/embed.js"),e.onload=function(){t.loadEditor()},document.head.appendChild(e)},t.prototype.loadEditor=function(){unlayer.init({id:"editor",projectId:this.projectId,templateId:this.templateId,displayMode:"email"}),unlayer.addEventListener("design:loaded",(function(t){console.log("unlayer loaded")}))},t.prototype.refresh=function(){var t=this;this.http.getMails().pipe(Object(y.a)()).subscribe((function(e){t.dataSet=e,t.dataLoaded=!0}))},t.prototype.newEmail=function(){unlayer.loadTemplate(this.templateId),this.view=2},t.prototype.edit=function(t){this.curData=t,unlayer.loadDesign(JSON.parse(t.json)),this.view=2},t.prototype.put=function(t){var e=this;this.http.editMail(t).pipe(Object(y.a)()).subscribe((function(t){var i=e.dataSet;i[e.dataSet.indexOf(e.curData)]=t,e.dataSet=i,e.close(),e.messageService.add({severity:"success",summary:"Update Success",detail:t.name+" Mail Updated Successfully!"})}))},t.prototype.delete=function(t){var e=this;this.confirmService.confirm({message:"Are you sure you want to delete Mail?",header:"Delete Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){e.http.deleteMail(t).pipe(Object(y.a)()).subscribe((function(){e.messageService.add({severity:"success",summary:"Delete Success",detail:"Channel Removed from Platform!"}),e.dataSet=e.dataSet.filter((function(e){return e.id!==t.id}))}))},reject:function(){}})},t.prototype.close=function(){this.view=1},t.prototype.saveSnippet=function(t){var e=this;this.addEditForm=this.formBuilder.group({id:[this.curData.id],subject:[this.curData.subject,o.x.required],sentTo:[this.curData.sentTo,o.x.required]}),this.addEditForm.controls.sentTo.valueChanges.subscribe((function(t){if(e.enterCustom="custom"===t,e.customEmails=[],"active"===t)e.users=e.allUsers.filter((function(t){return"active"===t.status})),e.addEmail(e.users);else if("changed"===t)e.users=e.allUsers.filter((function(t){return"changed"===t.status})),e.addEmail(e.users);else if("expired"===t)e.users=e.allUsers.filter((function(t){return"expired"===t.status})),e.addEmail(e.users);else if("month"===t){var i=new Date;e.users=e.allUsers.filter((function(t){return new Date(t.endDate).getMonth()===i.getMonth()&&new Date(t.endDate).getFullYear()===i.getFullYear()&&"active"===t.status})),e.addEmail(e.users)}else if("week"===t){var n=new Date;e.users=e.allUsers.filter((function(t){return w.a.getDateDiff(new Date(t.endDate),n)<=7&&"active"===t.status})),e.addEmail(e.users)}else if("today"===t){var o=new Date;e.users=e.allUsers.filter((function(t){return new Date(t.endDate).getFullYear()===o.getFullYear()&&new Date(t.endDate).getMonth()===o.getMonth()&&new Date(t.endDate).getDate()===o.getDate()&&"active"===t.status})),e.addEmail(e.users)}else"inactive"===t?(new Date,e.users=e.allUsers.filter((function(t){return"inactive"===t.status})),e.addEmail(e.users)):"cancelled"===t&&(new Date,e.users=e.allUsers.filter((function(t){return t.status.includes("cancel")})),e.addEmail(e.users))})),this.saveModal=this.modalService.show(t)},t.prototype.sendEmail=function(t){var e=this;void 0===t&&(t=1);var i=this.addEditForm.value;unlayer.exportHtml((function(n){if(i.json=JSON.stringify(n.design),i.template=n.html,i.toValues=e.customEmails,i.status=1===t?"draft":"send",e.saveModal.hide(),e.curData.id)return e.put(i);e.http.saveEmail(i).pipe(Object(y.a)()).subscribe((function(t){e.dataSet.push(t),e.close(),e.messageService.add({severity:"success",summary:"Email Processed",detail:t.subject+t.status==="sent"?" Sent Successfully!":" Saved Successfully"})}),(function(){e.messageService.add({severity:"error",summary:"Email Error",detail:"Could Not Process Email at this time due to an unknown error!"})}))}))},t.prototype.addEmail=function(t){void 0===t&&(t=null),t?this.customEmails=t.map((function(t){return{name:t.name,email:t.email}})):(this.customEmails.push({name:this.name.value,email:this.email.value}),this.name.reset(""),this.email.reset("")),console.log(this.customEmails)},t.prototype.removeEmail=function(t){this.customEmails=this.customEmails.filter((function(e){return e!==t}))},t.\u0275fac=function(e){return new(e||t)(h.Yb(v),h.Yb(l.b),h.Yb(O.a),h.Yb(S.a),h.Yb(a.a),h.Yb(l.g),h.Yb(o.d))},t.\u0275cmp=h.Sb({type:t,selectors:[["app-send"]],inputs:{projectId:"projectId",templateId:"templateId"},decls:17,vars:8,consts:[[1,"",3,"hidden"],["class","card animated fadeIn",4,"ngIf"],[1,"card"],[1,"card-header"],["type","button",1,"btn","btn-sm","btn-dark","ml-2","mr-1","float-right",3,"click"],[1,"fa","fa-close"],["type","button",1,"btn","btn-sm","btn-success","ml-2","mr-1","float-right",3,"click"],[1,"fa","fa-save"],[1,"card-body",2,"overflow-y","scroll"],["id","editor"],["saveTemp",""],[1,"card","animated","fadeIn"],[1,"fa","fa-mail-reply-all"],[1,"fa","fa-refresh"],["type","button",1,"btn","btn-sm","btn-info","ml-2","mr-1","float-right",3,"click"],[1,"fa","fa-plus"],[1,"card-body"],["columnResizeMode","fit","sortMode","multiple",3,"autoLayout","columns","paginator","resizableColumns","rowsPerPageOptions","rows","value"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"text-align","right"],[1,"fa","fa-search",2,"margin","4px 4px 0 0"],["pInputText","","placeholder","Search table","size","50","type","text",2,"width","auto",3,"input"],["pResizableColumn","",3,"pSortableColumn",4,"ngFor","ngForOf"],["pResizableColumn",""],["pResizableColumn","",3,"pSortableColumn"],[3,"field"],["title","Edit Mail","type","button",1,"btn","btn-sm","btn-warning","m-1",3,"click"],[1,"fa","fa-edit"],["title","Delete Mail","type","button",1,"btn","btn-sm","btn-danger","m-1",3,"click"],[1,"fa","fa-remove"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["aria-label","Close","type","button",1,"close",3,"click"],["aria-hidden","true"],[3,"formGroup"],[1,"modal-body"],[1,"form-group","row"],["for","subject",1,"col-md-3","col-form-label"],[1,"col-md-9"],["formControlName","subject","id","subject","placeholder","Mail subject...","type","text",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","sentTo",1,"col-md-3","col-form-label"],["id","sentTo","formControlName","sentTo",1,"form-control","float-right","mr-2"],["value","active"],["value","inactive"],["value","cancelled"],["value","changed"],["value","expired"],["value","month"],["value","week"],["value","today"],["value","custom"],["class","form-group row",4,"ngIf"],["tooltip","Click to remove",3,"click",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-block","btn-success",3,"disabled","click"],[1,"invalid-feedback"],[1,"col-sm-5"],["id","name","placeholder","Name","type","text",1,"form-control",3,"formControl"],["id","email","placeholder","Email","type","text",1,"form-control",3,"formControl"],[1,"col-sm-2"],[1,"btn","btn-sm","btn-info",3,"disabled","click"],["tooltip","Click to remove",3,"click"]],template:function(t,e){if(1&t){var i=h.fc();h.ec(0,"div"),h.ec(1,"div",0),h.Uc(2,x,15,8,"div",1),h.dc(),h.ec(3,"div",0),h.ec(4,"div",2),h.ec(5,"div",3),h.Wc(6," Send Mail "),h.ec(7,"button",4),h.mc("click",(function(){return e.close()})),h.Zb(8,"i",5),h.dc(),h.ec(9,"button",6),h.mc("click",(function(){h.Lc(i);var t=h.Jc(16);return e.saveSnippet(t)})),h.Zb(10,"i",7),h.Wc(11," Send "),h.dc(),h.dc(),h.ec(12,"div",8),h.Zb(13,"div",9),h.dc(),h.dc(),h.dc(),h.dc(),h.Zb(14,"p-confirmDialog"),h.Uc(15,K,48,10,"ng-template",null,10,h.Vc)}2&t&&(h.Kb(1),h.xc("hidden",2==e.view),h.Kb(1),h.xc("ngIf",e.dataLoaded),h.Kb(1),h.xc("hidden",1==e.view),h.Kb(10),h.Tc("height",500,"px"),h.Kb(1),h.Sc(h.Ac(7,F)))},directives:[n.m,u.a,p.d,l.i,d.a,n.l,p.a,p.c,p.b,o.z,o.q,o.i,o.c,o.p,o.g,n.k,o.w,o.t,o.y,o.f,C.a],pipes:[n.f],styles:[""]}),t}(),data:{title:"Send Email"}}],q=function(){function t(){}return t.\u0275mod=h.Wb({type:t}),t.\u0275inj=h.Vb({factory:function(e){return new(e||t)},providers:[l.b,{provide:c.d,useValue:"en-NG"},{provide:c.c,useValue:r.a},{provide:c.a,useClass:f.b}],imports:[[n.c,s.g.forChild(L),p.e,d.b,u.b,o.u,a.b.forRoot(),C.b.forRoot()]]}),t}()},"6SRb":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return d})),i.d(e,"a",(function(){return u}));var n=i("D57K"),o=i("LoAr"),c=i("WT9V"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.d)(e,t),e.prototype.transform=function(e){var i=t.prototype.transform.call(this,e),n=new Date(e),o=new Date,c=Math.round(Math.abs((o.getTime()-n.getTime())/1e3)),r=Math.round(Math.abs(c/60)),a=Math.round(Math.abs(r/60));return Number.isNaN(c)||a<25?"Today":a>24&&a<=48?"Yesterday":i},e.\u0275fac=function(t){return a(t||e)},e.\u0275pipe=o.Xb({name:"dayAgo",type:e,pure:!0}),e}(c.e),a=o.gc(r),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.d)(e,t),e.prototype.transform=function(e){try{return t.prototype.transform.call(this,e)}catch(i){return e}},e.\u0275fac=function(t){return l(t||e)},e.\u0275pipe=o.Xb({name:"myDate",type:e,pure:!0}),e}(c.e),l=o.gc(s),d=function(){function t(t,e,i){this.locale=t,this.changeDetectorRef=e,this.ngZone=i}return t.prototype.transform=function(t){var e=this;this.removeTimer();var i=new Date(t),n=new Date,o=Math.round(Math.abs((n.getTime()-i.getTime())/1e3)),r=Number.isNaN(o)?1e3:1e3*this.getSecondsUntilUpdate(o);this.timer=this.ngZone.runOutsideAngular((function(){return"undefined"!=typeof window?window.setTimeout((function(){e.ngZone.run((function(){return e.changeDetectorRef.markForCheck()}))}),r):null}));var a=Math.round(Math.abs(o/60)),s=Math.round(Math.abs(a/60));return Number.isNaN(o)?"now":o<=45?"a few seconds ago":o<=90?"a minute ago":a<=45?a+" minutes ago":s<=24?i.getHours()+":"+i.getMinutes():new c.e(this.locale).transform(t)+" at "+i.getHours()+":"+i.getMinutes()},t.prototype.ngOnDestroy=function(){this.removeTimer()},t.prototype.removeTimer=function(){this.timer&&(window.clearTimeout(this.timer),this.timer=null)},t.prototype.getSecondsUntilUpdate=function(t){return t<60?2:t<3600?30:t<86400?300:3600},t.\u0275fac=function(e){return new(e||t)(o.Yb(o.y),o.kc(),o.Yb(o.E))},t.\u0275pipe=o.Xb({name:"timeAgo",type:t,pure:!1}),t}(),u=function(){function t(){}return t.\u0275mod=o.Wb({type:t}),t.\u0275inj=o.Vb({factory:function(e){return new(e||t)},imports:[[]]}),t}()},hg70:function(t,e,i){"use strict";i.d(e,"a",(function(){return b})),i.d(e,"b",(function(){return m}));var n=i("LoAr"),o=i("G7fI"),c=i("D57K"),r=i("p+0+"),a=i("bAyt"),s=i("0cIN"),l=i("WT9V"),d=["*"],u=function(){function t(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Ub({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),p=function(){function t(t){Object.assign(this,t)}return Object.defineProperty(t.prototype,"isBs3",{get:function(){return Object(o.d)()},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.classMap={in:!1,fade:!1},this.classMap[this.placement]=!0,this.classMap["tooltip-"+this.placement]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)},t.\u0275fac=function(e){return new(e||t)(n.Yb(u))},t.\u0275cmp=n.Sb({type:t,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:7,hostBindings:function(t,e){2&t&&(n.Lb("id",e.id),n.Mb("tooltip in tooltip-"+e.placement+" bs-tooltip-"+e.placement+" "+e.placement+" "+e.containerClass),n.Ob("show",!e.isBs3)("bs3",e.isBs3))},ngContentSelectors:d,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(t,e){1&t&&(n.wc(),n.Zb(0,"div",0),n.ec(1,"div",1),n.vc(2),n.dc())},styles:[".tooltip[_nghost-%COMP%] {\n      display: block;\n      pointer-events: none;\n    }\n    .bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%] {\n      margin-left: -2px;\n    }\n    .bs3.tooltip.bottom[_nghost-%COMP%] {\n      margin-top: 0px;\n    }\n    .bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{\n      margin: 0px;\n    }\n    .bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      margin: .3rem 0;\n    }"],changeDetection:0}),t}(),f=0,b=function(){function t(t,e,i,o,c,r){this._elementRef=o,this._renderer=c,this._positionService=r,this.tooltipId=f++,this.tooltipChange=new n.q,this.containerClass="",this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new n.q,this._tooltip=e.createLoader(this._elementRef,t,this._renderer).provide({provide:u,useValue:i}),Object.assign(this,i),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}return Object.defineProperty(t.prototype,"isOpen",{get:function(){return this._tooltip.isShown},set:function(t){t?this.show():this.hide()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"htmlContent",{set:function(t){Object(o.i)("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_placement",{set:function(t){Object(o.i)("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_isOpen",{get:function(){return Object(o.i)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen},set:function(t){Object(o.i)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_enable",{get:function(){return Object(o.i)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled},set:function(t){Object(o.i)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_appendToBody",{get:function(){return Object(o.i)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container},set:function(t){Object(o.i)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=t?"body":this.container},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_popupClass",{set:function(t){Object(o.i)("tooltipClass deprecated")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_tooltipContext",{set:function(t){Object(o.i)("tooltipContext deprecated")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_tooltipPopupDelay",{set:function(t){Object(o.i)("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_tooltipTrigger",{get:function(){return Object(o.i)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers},set:function(t){Object(o.i)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(t||"").toString()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this._tooltip.listen({triggers:this.triggers,show:function(){return t.show()}}),this.tooltipChange.subscribe((function(e){e||t._tooltip.hide()})),this.onShown.subscribe((function(){t.setAriaDescribedBy()})),this.onHidden.subscribe((function(){t.setAriaDescribedBy()}))},t.prototype.setAriaDescribedBy=function(){this._ariaDescribedby=this.isOpen?"tooltip-"+this.tooltipId:null,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")},t.prototype.toggle=function(){if(this.isOpen)return this.hide();this.show()},t.prototype.show=function(){var t=this;if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition}}}),!(this.isOpen||this.isDisabled||this._delayTimeoutId)&&this.tooltip){var e=function(){t._delayTimeoutId&&(t._delayTimeoutId=void 0),t._tooltip.attach(p).to(t.container).position({attachment:t.placement}).show({content:t.tooltip,placement:t.placement,containerClass:t.containerClass,id:"tooltip-"+t.tooltipId})},i=function(){t._tooltipCancelShowFn&&t._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=Object(s.a)(this.delay).subscribe((function(){e(),i()})),this.triggers&&Object(o.f)(this.triggers).forEach((function(e){t._tooltipCancelShowFn=t._renderer.listen(t._elementRef.nativeElement,e.close,(function(){t._delaySubscription.unsubscribe(),i()}))}))):e()}},t.prototype.hide=function(){var t=this;this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance.classMap.in=!1,setTimeout((function(){t._tooltip.hide()}),this.tooltipFadeDuration))},t.prototype.ngOnDestroy=function(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()},Object(c.c)([Object(o.a)(),Object(c.f)("design:type",Object)],t.prototype,"tooltip",void 0),t.\u0275fac=function(e){return new(e||t)(n.Yb(n.W),n.Yb(r.a),n.Yb(u),n.Yb(n.o),n.Yb(n.L),n.Yb(a.a))},t.\u0275dir=n.Tb({type:t,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{containerClass:"containerClass",tooltipAnimation:"tooltipAnimation",tooltipFadeDuration:"tooltipFadeDuration",isOpen:"isOpen",htmlContent:["tooltipHtml","htmlContent"],_placement:["tooltipPlacement","_placement"],_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],_appendToBody:["tooltipAppendToBody","_appendToBody"],_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"],adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",isDisabled:"isDisabled",delay:"delay"},outputs:{tooltipChange:"tooltipChange",tooltipStateChanged:"tooltipStateChanged",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-tooltip"]}),t}(),m=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[u,r.a,a.a]}},t.\u0275mod=n.Wb({type:t}),t.\u0275inj=n.Vb({factory:function(e){return new(e||t)},imports:[[l.c]]}),t}()}}]);