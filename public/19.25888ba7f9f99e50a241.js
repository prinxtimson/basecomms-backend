(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"6SRb":function(e,t,i){"use strict";i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return d})),i.d(t,"a",(function(){return u}));var r=i("D57K"),n=i("LoAr"),c=i("WT9V"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.transform=function(t){var i=e.prototype.transform.call(this,t),r=new Date(t),n=new Date,c=Math.round(Math.abs((n.getTime()-r.getTime())/1e3)),o=Math.round(Math.abs(c/60)),s=Math.round(Math.abs(o/60));return Number.isNaN(c)||s<25?"Today":s>24&&s<=48?"Yesterday":i},t.\u0275fac=function(e){return s(e||t)},t.\u0275pipe=n.Xb({name:"dayAgo",type:t,pure:!0}),t}(c.e),s=n.gc(o),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.transform=function(t){try{return e.prototype.transform.call(this,t)}catch(i){return t}},t.\u0275fac=function(e){return a(e||t)},t.\u0275pipe=n.Xb({name:"myDate",type:t,pure:!0}),t}(c.e),a=n.gc(l),d=function(){function e(e,t,i){this.locale=e,this.changeDetectorRef=t,this.ngZone=i}return e.prototype.transform=function(e){var t=this;this.removeTimer();var i=new Date(e),r=new Date,n=Math.round(Math.abs((r.getTime()-i.getTime())/1e3)),o=Number.isNaN(n)?1e3:1e3*this.getSecondsUntilUpdate(n);this.timer=this.ngZone.runOutsideAngular((function(){return"undefined"!=typeof window?window.setTimeout((function(){t.ngZone.run((function(){return t.changeDetectorRef.markForCheck()}))}),o):null}));var s=Math.round(Math.abs(n/60)),l=Math.round(Math.abs(s/60));return Number.isNaN(n)?"now":n<=45?"a few seconds ago":n<=90?"a minute ago":s<=45?s+" minutes ago":l<=24?i.getHours()+":"+i.getMinutes():new c.e(this.locale).transform(e)+" at "+i.getHours()+":"+i.getMinutes()},e.prototype.ngOnDestroy=function(){this.removeTimer()},e.prototype.removeTimer=function(){this.timer&&(window.clearTimeout(this.timer),this.timer=null)},e.prototype.getSecondsUntilUpdate=function(e){return e<60?2:e<3600?30:e<86400?300:3600},e.\u0275fac=function(t){return new(t||e)(n.Yb(n.y),n.kc(),n.Yb(n.E))},e.\u0275pipe=n.Xb({name:"timeAgo",type:e,pure:!1}),e}(),u=function(){function e(){}return e.\u0275mod=n.Wb({type:e}),e.\u0275inj=n.Vb({factory:function(t){return new(t||e)},imports:[[]]}),e}()},kY2p:function(e,t,i){"use strict";i.r(t),i.d(t,"ManagerModule",(function(){return ct}));var r=i("WT9V"),n=i("D57K"),c=i("IfiR"),o=i("aOG3"),s=i("2Mvu"),l=i("LU/F"),a=i("LoAr"),d=i("iZ6s"),u=i("LPaM"),f=i("xZX4"),p=i("OQlT"),h=i("ZDS+"),m=i("DdyX"),b=i("i+Mk"),g=["dt"];function v(e,t){if(1&e&&a.Zb(0,"input",30),2&e){var i=a.qc(3);a.xc("formControl",i.searchTerm)}}function y(e,t){if(1&e){var i=a.fc();a.ec(0,"input",31),a.mc("input",(function(e){return a.Lc(i),a.qc(3).table.filterGlobal(e.target.value,"contains")})),a.dc()}}function w(e,t){if(1&e&&a.Zb(0,"img",44),2&e){var i=a.qc().$implicit;a.yc("alt",i.name)}}function L(e,t){if(1&e&&a.Zb(0,"img",45),2&e){var i=a.qc().$implicit,r=a.qc(4);a.yc("src",r.fileLink+i.passport.link,a.Oc),a.yc("alt",i.name)}}function C(e,t){if(1&e&&a.Zb(0,"img",45),2&e){var i=a.qc().$implicit;a.yc("alt",i.name),a.xc("src",i.avatar,a.Oc)}}function x(e,t){if(1&e){var i=a.fc();a.ec(0,"div",46),a.ec(1,"button",47),a.mc("click",(function(){a.Lc(i);var e=a.qc().$implicit,t=a.qc(4),r=a.Jc(4);return t.editUser(r,e)})),a.Zb(2,"i",48),a.Wc(3," Edit Account"),a.dc(),a.ec(4,"button",47),a.mc("click",(function(){a.Lc(i);var e=a.qc().$implicit;return a.qc(4).deleteUser(e)})),a.Zb(5,"i",49),a.Wc(6," Delete Account"),a.dc(),a.dc()}}function D(e,t){if(1&e&&(a.ec(0,"div",34),a.ec(1,"div",35),a.Uc(2,w,1,1,"img",36),a.Uc(3,L,1,2,"img",37),a.Uc(4,C,1,2,"img",37),a.ec(5,"div",38),a.ec(6,"button",39),a.ec(7,"i",40),a.Wc(8,"more_vert"),a.dc(),a.dc(),a.Uc(9,x,7,0,"div",41),a.dc(),a.ec(10,"h4",42),a.Wc(11),a.dc(),a.ec(12,"div",43),a.Wc(13),a.dc(),a.dc(),a.dc()),2&e){var i=t.$implicit;a.Kb(2),a.xc("ngIf",!i.passport&&!i.avatar),a.Kb(1),a.xc("ngIf",i.passport),a.Kb(1),a.xc("ngIf",!i.passport&&i.avatar),a.Kb(7),a.Xc(i.name),a.Kb(2),a.Xc(i.name)}}var k=function(e){return{itemsPerPage:12,currentPage:e}};function U(e,t){if(1&e&&(a.ec(0,"div",32),a.Uc(1,D,14,5,"div",33),a.rc(2,"paginate"),a.dc()),2&e){var i=a.qc(3);a.Kb(1),a.xc("ngForOf",a.tc(2,1,i.users,a.Bc(4,k,i.p)))}}function R(e,t){if(1&e){var i=a.fc();a.ec(0,"div",50),a.ec(1,"div",51),a.ec(2,"div",52),a.ec(3,"pagination-controls",53),a.mc("pageChange",(function(e){return a.Lc(i),a.qc(3).p=e})),a.dc(),a.dc(),a.dc(),a.dc()}}function I(e,t){if(1&e&&(a.ec(0,"th",60),a.Wc(1),a.Zb(2,"p-sortIcon",61),a.dc()),2&e){var i=t.$implicit;a.xc("pSortableColumn",i.field),a.Kb(1),a.Yc(" ",i.header," "),a.Kb(1),a.xc("field",i.field)}}function S(e,t){if(1&e&&(a.ec(0,"tr"),a.Uc(1,I,3,3,"th",58),a.Zb(2,"th",59),a.dc()),2&e){var i=t.$implicit;a.Kb(1),a.xc("ngForOf",i)}}function E(e,t){if(1&e){var i=a.fc();a.ec(0,"tr"),a.ec(1,"td"),a.Wc(2),a.dc(),a.ec(3,"td"),a.Wc(4),a.dc(),a.ec(5,"td"),a.Wc(6),a.dc(),a.ec(7,"td"),a.Wc(8),a.rc(9,"date"),a.dc(),a.ec(10,"td"),a.Wc(11),a.dc(),a.ec(12,"td"),a.ec(13,"button",62),a.mc("click",(function(){a.Lc(i);var e=t.$implicit,r=a.qc(4),n=a.Jc(4);return r.editUser(n,e)})),a.Zb(14,"i",63),a.dc(),a.ec(15,"button",64),a.mc("click",(function(){a.Lc(i);var e=t.$implicit;return a.qc(4).deleteUser(e)})),a.Zb(16,"i",49),a.dc(),a.dc(),a.dc()}if(2&e){var r=t.$implicit;a.Kb(2),a.Xc(r.name),a.Kb(2),a.Xc(r.email),a.Kb(2),a.Xc(r.username),a.Kb(2),a.Xc(a.sc(9,5,r.created_at)),a.Kb(3),a.Xc(r.role)}}var K=function(){return[10,15,20,25]};function q(e,t){if(1&e&&(a.ec(0,"div"),a.ec(1,"p-table",54,55),a.Uc(3,S,3,1,"ng-template",56),a.Uc(4,E,17,7,"ng-template",57),a.dc(),a.dc()),2&e){var i=a.qc(3);a.Kb(1),a.xc("autoLayout",!0)("columns",i.cols)("paginator",!0)("resizableColumns",!0)("rowsPerPageOptions",a.Ac(7,K))("rows",10)("value",i.users)}}function O(e,t){if(1&e){var i=a.fc();a.ec(0,"div",18),a.ec(1,"div",19),a.ec(2,"div",20),a.ec(3,"div",21),a.Uc(4,v,1,1,"input",22),a.Uc(5,y,1,0,"input",23),a.dc(),a.dc(),a.ec(6,"div",24),a.ec(7,"button",25),a.mc("click",(function(){return a.Lc(i),a.qc(2).refresh()})),a.Zb(8,"i",26),a.Wc(9," Refresh "),a.dc(),a.dc(),a.dc(),a.Uc(10,U,3,6,"div",27),a.Uc(11,R,4,0,"div",28),a.Uc(12,q,5,8,"div",29),a.dc()}if(2&e){var r=a.qc(2);a.Kb(4),a.xc("ngIf",r.gridList),a.Kb(1),a.xc("ngIf",!r.gridList),a.Kb(5),a.xc("ngIf",r.gridList),a.Kb(1),a.xc("ngIf",r.gridList&&r.users.length>12),a.Kb(1),a.xc("ngIf",!r.gridList)}}function W(e,t){1&e&&(a.ec(0,"div",18),a.Zb(1,"facebook-content-loader"),a.Zb(2,"facebook-content-loader"),a.Zb(3,"list-content-loader"),a.dc())}function M(e,t){if(1&e){var i=a.fc();a.ec(0,"div",4),a.ec(1,"div",5),a.ec(2,"div",6),a.ec(3,"div",7),a.ec(4,"h3",8),a.Wc(5,"Platform Users"),a.dc(),a.dc(),a.ec(6,"div",9),a.ec(7,"button",10),a.mc("click",(function(){a.Lc(i);var e=a.qc(),t=a.Jc(4);return e.editUser(t,null)})),a.Zb(8,"i",11),a.Wc(9," Add User"),a.dc(),a.ec(10,"div",12),a.ec(11,"button",13),a.mc("click",(function(){return a.Lc(i),a.qc().gridList=!0})),a.Zb(12,"i",14),a.dc(),a.ec(13,"button",15),a.mc("click",(function(){return a.Lc(i),a.qc().gridList=!1})),a.Zb(14,"i",16),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.Uc(15,O,13,5,"div",17),a.Uc(16,W,4,0,"div",17),a.dc()}if(2&e){var r=a.qc();a.Kb(15),a.xc("ngIf",r.dataLoaded),a.Kb(1),a.xc("ngIf",!r.dataLoaded)}}function P(e,t){if(1&e){var i=a.fc();a.ec(0,"div"),a.ec(1,"app-profile-view",65),a.mc("closed",(function(){return a.Lc(i),a.qc().close()})),a.dc(),a.dc()}if(2&e){var r=a.qc();a.Kb(1),a.xc("enableEdit",!1)("enableClose",!0)("user",r.selProfile.user)("profile",r.selProfile)}}function N(e,t){1&e&&(a.ec(0,"div"),a.Wc(1,"User Name is required"),a.dc())}function A(e,t){if(1&e&&(a.ec(0,"div",97),a.Uc(1,N,2,0,"div",29),a.dc()),2&e){var i=a.qc(2);a.Kb(1),a.xc("ngIf",i.f.username.errors.required)}}function T(e,t){1&e&&(a.ec(0,"div"),a.Wc(1,"Email is required"),a.dc())}function Z(e,t){if(1&e&&(a.ec(0,"div",97),a.Uc(1,T,2,0,"div",29),a.dc()),2&e){var i=a.qc(2);a.Kb(1),a.xc("ngIf",i.f.email.errors.required)}}function V(e,t){1&e&&(a.ec(0,"div"),a.Wc(1,"First Name is required"),a.dc())}function $(e,t){if(1&e&&(a.ec(0,"div",97),a.Uc(1,V,2,0,"div",29),a.dc()),2&e){var i=a.qc(2);a.Kb(1),a.xc("ngIf",i.f.firstName.errors.required)}}function j(e,t){1&e&&(a.ec(0,"div"),a.Wc(1,"Last name is required"),a.dc())}function F(e,t){if(1&e&&(a.ec(0,"div",97),a.Uc(1,j,2,0,"div",29),a.dc()),2&e){var i=a.qc(2);a.Kb(1),a.xc("ngIf",i.f.lastName.errors.required)}}function B(e,t){if(1&e&&(a.ec(0,"option",85),a.Wc(1),a.dc()),2&e){var i=t.$implicit;a.xc("value",i.id),a.Kb(1),a.Xc(i.role.toUpperCase())}}function Y(e,t){1&e&&(a.ec(0,"div",97),a.ec(1,"div"),a.Wc(2,"Minimum password length is 6 characters"),a.dc(),a.dc())}function z(e,t){1&e&&(a.ec(0,"div",97),a.ec(1,"div"),a.Wc(2,"Password do not match"),a.dc(),a.dc())}var _=function(e){return{"is-invalid":e}};function X(e,t){if(1&e){var i=a.fc();a.ec(0,"form",66),a.mc("ngSubmit",(function(){return a.Lc(i),a.qc().onSubmit()})),a.ec(1,"div",67),a.ec(2,"h4",68),a.Wc(3),a.dc(),a.ec(4,"button",69),a.mc("click",(function(){return a.Lc(i),a.qc().userEdit.hide()})),a.ec(5,"span",70),a.Wc(6,"\xd7"),a.dc(),a.dc(),a.dc(),a.ec(7,"div",71),a.ec(8,"div",50),a.ec(9,"div",72),a.ec(10,"label",73),a.Wc(11,"Username"),a.dc(),a.Zb(12,"input",74),a.Uc(13,A,2,1,"div",75),a.dc(),a.ec(14,"div",72),a.ec(15,"label",76),a.Wc(16,"Email"),a.dc(),a.Zb(17,"input",77),a.Uc(18,Z,2,1,"div",75),a.dc(),a.dc(),a.ec(19,"div",50),a.ec(20,"div",72),a.ec(21,"label",78),a.Wc(22,"First Name"),a.dc(),a.Zb(23,"input",79),a.Uc(24,$,2,1,"div",75),a.dc(),a.ec(25,"div",72),a.ec(26,"label",76),a.Wc(27,"Last Name"),a.dc(),a.Zb(28,"input",80),a.Uc(29,F,2,1,"div",75),a.dc(),a.dc(),a.ec(30,"div",81),a.ec(31,"label",82),a.Wc(32,"Account Status"),a.dc(),a.ec(33,"div",83),a.ec(34,"select",84),a.ec(35,"option",85),a.Wc(36,"Activate"),a.dc(),a.ec(37,"option",85),a.Wc(38,"Deactivate"),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(39,"div",81),a.ec(40,"label",86),a.Wc(41,"User's Role"),a.dc(),a.ec(42,"div",83),a.ec(43,"select",87),a.ec(44,"option",88),a.Wc(45,"Select Role"),a.dc(),a.Uc(46,B,2,2,"option",89),a.dc(),a.dc(),a.dc(),a.ec(47,"div",90),a.ec(48,"label",91),a.Wc(49,"Password"),a.dc(),a.Zb(50,"input",92),a.Uc(51,Y,3,0,"div",75),a.dc(),a.ec(52,"div",90),a.ec(53,"label",91),a.Wc(54,"Confirm Password"),a.dc(),a.Zb(55,"input",93),a.Uc(56,z,3,0,"div",75),a.dc(),a.dc(),a.ec(57,"div",94),a.ec(58,"button",95),a.mc("click",(function(){return a.Lc(i),a.qc().userEdit.hide()})),a.Wc(59,"Close"),a.dc(),a.ec(60,"button",96),a.Wc(61,"Save User"),a.dc(),a.dc(),a.dc()}if(2&e){var r=a.qc();a.xc("formGroup",r.userForm),a.Kb(3),a.Xc(r.modalTitle),a.Kb(9),a.xc("ngClass",a.Bc(19,_,r.submitted&&r.f.username.errors)),a.Kb(1),a.xc("ngIf",r.submitted&&r.f.username.errors),a.Kb(4),a.xc("ngClass",a.Bc(21,_,r.submitted&&r.f.email.errors)),a.Kb(1),a.xc("ngIf",r.submitted&&r.f.email.errors),a.Kb(5),a.xc("ngClass",a.Bc(23,_,r.submitted&&r.f.firstName.errors)),a.Kb(1),a.xc("ngIf",r.submitted&&r.f.firstName.errors),a.Kb(4),a.xc("ngClass",a.Bc(25,_,r.submitted&&r.f.lastName.errors)),a.Kb(1),a.xc("ngIf",r.submitted&&r.f.lastName.errors),a.Kb(5),a.xc("ngClass",a.Bc(27,_,r.submitted&&r.f.status.errors)),a.Kb(1),a.xc("value",1),a.Kb(2),a.xc("value",0),a.Kb(6),a.xc("ngClass",a.Bc(29,_,r.submitted&&r.f.role.errors)),a.Kb(3),a.xc("ngForOf",r.roles),a.Kb(4),a.xc("ngClass",a.Bc(31,_,r.submitted&&r.f.password.errors)),a.Kb(1),a.xc("ngIf",r.submitted&&r.f.password.errors),a.Kb(4),a.xc("ngClass",a.Bc(33,_,r.submitted&&r.f.password_confirmation.errors)),a.Kb(1),a.xc("ngIf",r.submitted&&r.f.password_confirmation.errors)}}var J=function(){function e(e,t,i,r,n){this.http=e,this.formBuilder=t,this.confirmService=i,this.messageService=r,this.modalService=n,this.dataLoaded=!1,this.gridList=!0,this.searchTerm=new c.e(""),this.users=[],this.allUsers=[],this.p=1,this.fileLink="",this.cols=[],this.view=1,this.modalTitle="Add New User to Platform",this.submitted=!1,this.roles=[]}return Object.defineProperty(e.prototype,"f",{get:function(){return this.userForm.controls},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.cols=[{header:"Name",field:"name"},{header:"Email",field:"email"},{header:"Username",field:"username"},{header:"Join Date",field:"createdAt"},{header:"Role",field:"role"}],this.refresh(),this.http.getRoles().pipe(Object(s.a)()).subscribe((function(t){return e.roles=t})),this.searchTerm.valueChanges.subscribe((function(t){e.users=t.length>0?e.allUsers.filter((function(e){var i,r;return e.username.toLowerCase().includes(t.toLowerCase())||e.email.toLowerCase().includes(t.toLowerCase())||(null===(i=e.firstName)||void 0===i?void 0:i.toLowerCase().includes(t.toLowerCase()))||e.role.toLowerCase().includes(t.toLowerCase())||(null===(r=e.lastName)||void 0===r?void 0:r.toLowerCase().includes(t.toLowerCase()))})):e.allUsers}))},e.prototype.editUser=function(e,t){var i,r,n,o,s,a,d;this.submitted=!1,this.userForm=this.formBuilder.group({username:[null===(i=t)||void 0===i?void 0:i.username,c.x.required],lastName:[null===(r=t)||void 0===r?void 0:r.lastName,c.x.required],email:[null===(n=t)||void 0===n?void 0:n.email,[c.x.required,c.x.email]],firstName:[null===(o=t)||void 0===o?void 0:o.firstName,[c.x.required]],role:[null===(a=null===(s=t)||void 0===s?void 0:s.roles[0])||void 0===a?void 0:a.id,[c.x.required]],status:[(null===(d=t)||void 0===d?void 0:d.status)?1:0,[c.x.required]],password:["",[c.x.minLength(6)]],password_confirmation:["",[c.x.minLength(6)]]},{validators:l.a.MatchPassword}),t&&(this.curUser=t),this.userEdit=this.modalService.show(e)},e.prototype.refresh=function(){var e=this;this.http.getUsers().pipe(Object(s.a)()).subscribe((function(t){e.users=t,e.allUsers=t,e.dataLoaded=!0}))},e.prototype.viewDetails=function(e){},e.prototype.deleteUser=function(e){var t=this;this.confirmService.confirm({message:"Are you sure you want to delete user "+e.username+"?",header:"Delete Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){t.http.deleteUser(e).pipe(Object(s.a)()).subscribe((function(){t.users=t.users.filter((function(t){return t!==e})),t.messageService.add({severity:"success",summary:"Delete Success",detail:e.username.toUpperCase()+" Removed from Platform!"})}))},reject:function(){}})},e.prototype.close=function(){this.view=1},e.prototype.onSubmit=function(){if(this.submitted=!0,this.userForm.updateValueAndValidity(),!this.userForm.invalid){var e=this.userForm.value;e.status=1==+e.status,e.role=[this.roles.find((function(t){return t.id===+e.role}))],this.curUser?(e.id=this.curUser.id,this.put(e)):this.post(e)}},e.prototype.post=function(e){var t=this;this.http.addNewUser(e).pipe(Object(s.a)()).subscribe((function(e){t.users.push(e),t.userEdit.hide(),t.messageService.add({severity:"success",summary:"Register Success",detail:"New User added successfully!"})}))},e.prototype.put=function(e){var t=this,i=Object(n.i)(this.users);this.http.editUser(e).pipe(Object(s.a)()).subscribe((function(e){t.userEdit.hide(),i[t.users.indexOf(t.curUser)]=e,t.users=i,t.messageService.add({severity:"success",summary:"Update Success",detail:t.curUser.username.toUpperCase()+" updated successfully!"})}))},e.\u0275fac=function(t){return new(t||e)(a.Yb(o.a),a.Yb(c.d),a.Yb(d.b),a.Yb(d.g),a.Yb(u.a))},e.\u0275cmp=a.Sb({type:e,selectors:[["app-manager"]],viewQuery:function(e,t){var i;1&e&&a.bd(g,!0),2&e&&a.Ic(i=a.nc())&&(t.table=i.first)},decls:5,vars:3,consts:[[3,"ngSwitch"],["class","content container-fluid",4,"ngSwitchCase"],[4,"ngSwitchCase"],["userEditTemplate",""],[1,"content","container-fluid"],[1,"page-header"],[1,"row","align-items-center"],[1,"col"],[1,"page-title"],[1,"col-auto","float-right","ml-auto"],["data-toggle","modal","data-target","#add_employee",1,"btn","add-btn","btn-ghost-primary",3,"click"],[1,"fa","fa-plus"],[1,"view-icons"],[1,"grid-view","btn","btn-link","active",3,"click"],[1,"fa","fa-th"],[1,"list-view","btn","btn-link",3,"click"],[1,"fa","fa-bars"],["class","animated fadeIn",4,"ngIf"],[1,"animated","fadeIn"],[1,"row","filter-row"],[1,"col-sm-9","col-md-9"],[1,"form-group","form-focus"],["type","text","class","form-control floating","placeholder","Search users...",3,"formControl",4,"ngIf"],["placeholder","Search users...","type","text","class","form-control floating",3,"input",4,"ngIf"],[1,"col-sm-3","col-md-3"],[1,"btn","btn-success","btn-block",3,"click"],[1,"fa","fa-refresh"],["class","row staff-grid-row",4,"ngIf"],["class","row",4,"ngIf"],[4,"ngIf"],["type","text","placeholder","Search users...",1,"form-control","floating",3,"formControl"],["placeholder","Search users...","type","text",1,"form-control","floating",3,"input"],[1,"row","staff-grid-row"],["class","col-md-4 col-sm-6 col-12 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"col-md-4","col-sm-6","col-12","col-lg-4","col-xl-3"],[1,"profile-widget","shadow"],["class","profile-img","src","assets/img/avatars/0.jpeg",3,"alt",4,"ngIf"],["class","profile-img",3,"src","alt",4,"ngIf"],["dropdown","",1,"dropdown","profile-action"],["data-toggle","dropdown","aria-expanded","false","dropdownToggle","",1,"action-icon","bg-transparent","border-0","btn-sm"],[1,"material-icons"],["class","dropdown-menu dropdown-menu-right",4,"dropdownMenu"],[1,"user-name","m-t-10","mb-0","text-ellipsis"],[1,"small","text-muted"],["src","assets/img/avatars/0.jpeg",1,"profile-img",3,"alt"],[1,"profile-img",3,"src","alt"],[1,"dropdown-menu","dropdown-menu-right"],[1,"btn-block","dropdown-item","py-1","m-0",3,"click"],[1,"fa","fa-edit"],[1,"fa","fa-trash-o","m-r-5"],[1,"row"],[1,"col-12"],[1,"has-text-centered","text-centered"],[3,"pageChange"],["columnResizeMode","fit","sortMode","multiple",3,"autoLayout","columns","paginator","resizableColumns","rowsPerPageOptions","rows","value"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pResizableColumn","",3,"pSortableColumn",4,"ngFor","ngForOf"],["pResizableColumn",""],["pResizableColumn","",3,"pSortableColumn"],[3,"field"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"fa","fa-file-o","m-r-5"],[1,"btn","btn-sm","btn-danger","ml-1",3,"click"],[3,"enableEdit","enableClose","user","profile","closed"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["aria-label","Close","type","button",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","col-sm-6"],["for","username"],["formControlName","username","id","username","type","text",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","lastName"],["formControlName","email","id","email","type","email",1,"form-control",3,"ngClass"],["for","firstName"],["formControlName","firstName","id","firstName","type","text",1,"form-control",3,"ngClass"],["formControlName","lastName","id","lastName","type","text",1,"form-control",3,"ngClass"],[1,"form-group","row"],["for","select1",1,"col-md-6","col-form-label"],[1,"col-md-6"],["id","select1","formControlName","status",1,"form-control",3,"ngClass"],[3,"value"],["for","select2",1,"col-md-6","col-form-label"],["id","select2","formControlName","role",1,"form-control",3,"ngClass"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group"],["for","roles"],["formControlName","password","id","roles","placeholder","Leave blank to keep old password","type","password",1,"form-control",3,"ngClass"],["formControlName","password_confirmation","id","roles2","type","password",1,"form-control",3,"ngClass"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"invalid-feedback"]],template:function(e,t){1&e&&(a.ec(0,"div",0),a.Uc(1,M,17,2,"div",1),a.Uc(2,P,2,4,"div",2),a.dc(),a.Uc(3,X,62,35,"ng-template",null,3,a.Vc)),2&e&&(a.xc("ngSwitch",t.view),a.Kb(1),a.xc("ngSwitchCase",1),a.Kb(1),a.xc("ngSwitchCase",2))},directives:[r.o,r.p,r.m,c.c,c.p,c.f,r.l,f.a,f.d,f.b,p.c,h.d,d.i,h.a,h.c,h.b,m.b,m.c,b.a,c.z,c.q,c.i,c.g,r.k,c.w,c.t,c.y],pipes:[p.b,r.e],styles:[""]}),e}(),H=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Sb({type:e,selectors:[["app-reports"]],decls:2,vars:0,template:function(e,t){1&e&&(a.ec(0,"p"),a.Wc(1,"reports works!"),a.dc())},styles:[""]}),e}(),G=i("981U"),Q=i("YOe6"),ee=i("X8C7"),te=i("/sNS"),ie=i("9pe8"),re=i("978F"),ne=i("hKYd"),ce=i("ZrTn");const oe=["listelement"];function se(e,t){if(1&e&&(a.ec(0,"div",12),a.ec(1,"div",13),a.Wc(2),a.dc(),a.dc()),2&e){const e=a.qc();a.Kb(2),a.Xc(e.header)}}function le(e,t){if(1&e){const e=a.fc();a.ec(0,"div",14),a.ec(1,"div",15),a.ec(2,"input",16),a.mc("keyup",(function(t){return a.Lc(e),a.qc().onFilterKeyup(t)})),a.dc(),a.Zb(3,"span",17),a.dc(),a.dc()}if(2&e){const e=a.qc();a.Kb(2),a.Lb("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)}}function ae(e,t){1&e&&a.ac(0)}const de=function(e){return{"p-highlight":e}},ue=function(e,t){return{$implicit:e,index:t}};function fe(e,t){if(1&e){const e=a.fc();a.ec(0,"li",19),a.mc("click",(function(t){a.Lc(e);const i=a.qc(),r=i.$implicit,n=i.index;return a.qc().onItemClick(t,r,n)}))("touchend",(function(){return a.Lc(e),a.qc(2).onItemTouchEnd()}))("keydown",(function(t){a.Lc(e);const i=a.qc(),r=i.$implicit,n=i.index;return a.qc().onItemKeydown(t,r,n)})),a.Uc(1,ae,1,0,"ng-container",20),a.dc()}if(2&e){const e=a.qc(),t=e.$implicit,i=e.index,r=a.qc();a.xc("ngClass",a.Bc(6,de,r.isSelected(t)))("cdkDragData",t)("cdkDragDisabled",!r.dragdrop),a.Lb("aria-selected",r.isSelected(t)),a.Kb(1),a.xc("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",a.Cc(8,ue,t,i))}}function pe(e,t){if(1&e&&a.Uc(0,fe,2,11,"li",18),2&e){const e=t.$implicit,i=a.qc();a.xc("ngIf",i.isItemVisible(e))}}const he=function(e,t){return{"p-orderlist p-component":!0,"p-orderlist-controls-left":e,"p-orderlist-controls-right":t}};let me=(()=>{class e{constructor(e,t,i){this.el=e,this.cd=t,this.filterService=i,this.metaKeySelection=!0,this.dragdrop=!1,this.controlsPosition="left",this.filterMatchMode="contains",this.breakpoint="960px",this.selectionChange=new a.q,this.trackBy=(e,t)=>t,this.onReorder=new a.q,this.onSelectionChange=new a.q,this.onFilterEvent=new a.q,this.id=Object(re.b)()}get selection(){return this._selection}set selection(e){this._selection=e}ngOnInit(){this.responsive&&this.createStyle()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template}})}ngAfterViewChecked(){if(this.movedUp||this.movedDown){let e,t=ie.b.find(this.listViewChild.nativeElement,"li.p-highlight");t.length>0&&(e=this.movedUp?t[0]:t[t.length-1],ie.b.scrollInView(this.listViewChild.nativeElement,e)),this.movedUp=!1,this.movedDown=!1}}get value(){return this._value}set value(e){this._value=e,this.filterValue&&this.filter()}onItemClick(e,t,i){this.itemTouched=!1;let r=re.a.findIndexInList(t,this.selection),n=-1!=r;if(!this.itemTouched&&this.metaKeySelection){let c=e.metaKey||e.ctrlKey||e.shiftKey;n&&c?this._selection=this._selection.filter((e,t)=>t!==r):(this._selection=c&&this._selection?[...this._selection]:[],re.a.insertIntoOrderedArray(t,i,this._selection,this.value))}else n?this._selection=this._selection.filter((e,t)=>t!==r):(this._selection=this._selection?[...this._selection]:[],re.a.insertIntoOrderedArray(t,i,this._selection,this.value));this.selectionChange.emit(this._selection),this.onSelectionChange.emit({originalEvent:e,value:this._selection})}onFilterKeyup(e){this.filterValue=e.target.value.trim().toLocaleLowerCase(this.filterLocale),this.filter(),this.onFilterEvent.emit({originalEvent:e,value:this.visibleOptions})}filter(){let e=this.filterBy.split(",");this.visibleOptions=this.filterService.filter(this.value,e,this.filterValue,this.filterMatchMode,this.filterLocale)}isItemVisible(e){if(!this.filterValue||!this.filterValue.trim().length)return!0;for(let t=0;t<this.visibleOptions.length;t++)if(e==this.visibleOptions[t])return!0}onItemTouchEnd(){this.itemTouched=!0}isSelected(e){return-1!=re.a.findIndexInList(e,this.selection)}moveUp(){if(this.selection){for(let e=0;e<this.selection.length;e++){let t=re.a.findIndexInList(this.selection[e],this.value);if(0==t)break;{let e=this.value[t-1];this.value[t-1]=this.value[t],this.value[t]=e}}this.dragdrop&&this.filterValue&&this.filter(),this.movedUp=!0,this.onReorder.emit(this.selection)}}moveTop(){if(this.selection){for(let e=this.selection.length-1;e>=0;e--){let t=re.a.findIndexInList(this.selection[e],this.value);if(0==t)break;{let e=this.value.splice(t,1)[0];this.value.unshift(e)}}this.dragdrop&&this.filterValue&&this.filter(),this.onReorder.emit(this.selection),this.listViewChild.nativeElement.scrollTop=0}}moveDown(){if(this.selection){for(let e=this.selection.length-1;e>=0;e--){let t=re.a.findIndexInList(this.selection[e],this.value);if(t==this.value.length-1)break;{let e=this.value[t+1];this.value[t+1]=this.value[t],this.value[t]=e}}this.dragdrop&&this.filterValue&&this.filter(),this.movedDown=!0,this.onReorder.emit(this.selection)}}moveBottom(){if(this.selection){for(let e=0;e<this.selection.length;e++){let t=re.a.findIndexInList(this.selection[e],this.value);if(t==this.value.length-1)break;{let e=this.value.splice(t,1)[0];this.value.push(e)}}this.dragdrop&&this.filterValue&&this.filter(),this.onReorder.emit(this.selection),this.listViewChild.nativeElement.scrollTop=this.listViewChild.nativeElement.scrollHeight}}onDrop(e){let t=e.previousIndex,i=e.currentIndex;t!==i&&(this.visibleOptions&&(this.filterValue&&(t=re.a.findIndexInList(e.item.data,this.value),i=re.a.findIndexInList(this.visibleOptions[i],this.value)),Object(ce.f)(this.visibleOptions,e.previousIndex,e.currentIndex)),Object(ce.f)(this.value,t,i),this.onReorder.emit([e.item.data]))}onItemKeydown(e,t,i){let r=e.currentTarget;switch(e.which){case 40:var n=this.findNextItem(r);n&&n.focus(),e.preventDefault();break;case 38:var c=this.findPrevItem(r);c&&c.focus(),e.preventDefault();break;case 13:this.onItemClick(e,t,i),e.preventDefault()}}findNextItem(e){let t=e.nextElementSibling;return t?!ie.b.hasClass(t,"p-orderlist-item")||ie.b.isHidden(t)?this.findNextItem(t):t:null}findPrevItem(e){let t=e.previousElementSibling;return t?!ie.b.hasClass(t,"p-orderlist-item")||ie.b.isHidden(t)?this.findPrevItem(t):t:null}createStyle(){this.styleElement||(this.el.nativeElement.children[0].setAttribute(this.id,""),this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement),this.styleElement.innerHTML=`\n                @media screen and (max-width: ${this.breakpoint}) {\n                    .p-orderlist[${this.id}] {\n                        flex-direction: column;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls {\n                        padding: var(--content-padding);\n                        flex-direction: row;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls .p-button {\n                        margin-right: var(--inline-spacing);\n                        margin-bottom: 0;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls .p-button:last-child {\n                        margin-right: 0;\n                    }\n                }\n            `)}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.destroyStyle()}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(a.o),a.Yb(a.i),a.Yb(d.e))},e.\u0275cmp=a.Sb({type:e,selectors:[["p-orderList"]],contentQueries:function(e,t,i){var r;1&e&&a.Qb(i,d.i,!1),2&e&&a.Ic(r=a.nc())&&(t.templates=r)},viewQuery:function(e,t){var i;1&e&&a.bd(oe,!0),2&e&&a.Ic(i=a.nc())&&(t.listViewChild=i.first)},inputs:{metaKeySelection:"metaKeySelection",dragdrop:"dragdrop",controlsPosition:"controlsPosition",filterMatchMode:"filterMatchMode",breakpoint:"breakpoint",trackBy:"trackBy",selection:"selection",value:"value",header:"header",style:"style",styleClass:"styleClass",listStyle:"listStyle",responsive:"responsive",filterBy:"filterBy",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",ariaFilterLabel:"ariaFilterLabel"},outputs:{selectionChange:"selectionChange",onReorder:"onReorder",onSelectionChange:"onSelectionChange",onFilterEvent:"onFilterEvent"},decls:12,vars:12,consts:[[3,"ngClass","ngStyle"],[1,"p-orderlist-controls"],["type","button","pButton","","pRipple","","icon","pi pi-angle-up",3,"click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-up",3,"click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-down",3,"click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-down",3,"click"],[1,"p-orderlist-list-container"],["class","p-orderlist-header",4,"ngIf"],["class","p-orderlist-filter-container",4,"ngIf"],["cdkDropList","",1,"p-orderlist-list",3,"ngStyle","cdkDropListDropped"],["listelement",""],["ngFor","",3,"ngForTrackBy","ngForOf"],[1,"p-orderlist-header"],[1,"p-orderlist-title"],[1,"p-orderlist-filter-container"],[1,"p-orderlist-filter"],["type","text","role","textbox",1,"p-orderlist-filter-input","p-inputtext","p-component",3,"keyup"],[1,"p-orderlist-filter-icon","pi","pi-search"],["class","p-orderlist-item","tabindex","0","cdkDrag","","pRipple","","role","option",3,"ngClass","cdkDragData","cdkDragDisabled","click","touchend","keydown",4,"ngIf"],["tabindex","0","cdkDrag","","pRipple","","role","option",1,"p-orderlist-item",3,"ngClass","cdkDragData","cdkDragDisabled","click","touchend","keydown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(a.ec(0,"div",0),a.ec(1,"div",1),a.ec(2,"button",2),a.mc("click",(function(){return t.moveUp()})),a.dc(),a.ec(3,"button",3),a.mc("click",(function(){return t.moveTop()})),a.dc(),a.ec(4,"button",4),a.mc("click",(function(){return t.moveDown()})),a.dc(),a.ec(5,"button",5),a.mc("click",(function(){return t.moveBottom()})),a.dc(),a.dc(),a.ec(6,"div",6),a.Uc(7,se,3,1,"div",7),a.Uc(8,le,4,2,"div",8),a.ec(9,"ul",9,10),a.mc("cdkDropListDropped",(function(e){return t.onDrop(e)})),a.Uc(11,pe,1,1,"ng-template",11),a.dc(),a.dc(),a.dc()),2&e&&(a.Mb(t.styleClass),a.xc("ngClass",a.Cc(9,he,"left"===t.controlsPosition,"right"===t.controlsPosition))("ngStyle",t.style),a.Kb(7),a.xc("ngIf",t.header),a.Kb(1),a.xc("ngIf",t.filterBy),a.Kb(1),a.xc("ngStyle",t.listStyle),a.Kb(2),a.xc("ngForTrackBy",t.trackBy)("ngForOf",t.value))},directives:[r.k,r.n,te.a,ne.a,r.m,ce.c,r.l,ce.a,r.r],styles:[".p-orderlist{display:flex}.p-orderlist-controls{display:flex;flex-direction:column;justify-content:center}.p-orderlist-list-container{flex:1 1 auto}.p-orderlist-list{list-style-type:none;margin:0;min-height:12rem;overflow:auto;padding:0}.p-orderlist-item{cursor:pointer;display:block;overflow:hidden;position:relative}.p-orderlist-item:not(.cdk-drag-disabled){cursor:move}.p-orderlist-item.cdk-drag-placeholder{opacity:0}.p-orderlist-item.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.p-orderlist.p-state-disabled .p-button,.p-orderlist.p-state-disabled .p-orderlist-item{cursor:default}.p-orderlist.p-state-disabled .p-orderlist-list{overflow:hidden}.p-orderlist-filter{position:relative}.p-orderlist-filter-icon{margin-top:-.5rem;position:absolute;top:50%}.p-orderlist-filter-input{width:100%}.p-orderlist-controls-right .p-orderlist-controls{order:2}.p-orderlist-controls-right .p-orderlist-list-container{order:1}.p-orderlist-list.cdk-drop-list-dragging .p-orderlist-item:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"],encapsulation:2,changeDetection:0}),e})(),be=(()=>{class e{}return e.\u0275mod=a.Wb({type:e}),e.\u0275inj=a.Vb({factory:function(t){return new(t||e)},imports:[[r.c,te.b,d.j,ne.b,ce.e],d.j,ce.e]}),e})(),ge=(()=>{class e{constructor(e,t){this.el=e,this.zone=t,this.onDragStart=new a.q,this.onDragEnd=new a.q,this.onDrag=new a.q}get pDraggableDisabled(){return this._pDraggableDisabled}set pDraggableDisabled(e){this._pDraggableDisabled=e,this._pDraggableDisabled?this.unbindMouseListeners():(this.el.nativeElement.draggable=!0,this.bindMouseListeners())}ngAfterViewInit(){this.pDraggableDisabled||(this.el.nativeElement.draggable=!0,this.bindMouseListeners())}bindDragListener(){this.dragListener||this.zone.runOutsideAngular(()=>{this.dragListener=this.drag.bind(this),this.el.nativeElement.addEventListener("drag",this.dragListener)})}unbindDragListener(){this.dragListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("drag",this.dragListener),this.dragListener=null})}bindMouseListeners(){this.mouseDownListener||this.mouseUpListener||this.zone.runOutsideAngular(()=>{this.mouseDownListener=this.mousedown.bind(this),this.mouseUpListener=this.mouseup.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener),this.el.nativeElement.addEventListener("mouseup",this.mouseUpListener)})}unbindMouseListeners(){this.mouseDownListener&&this.mouseUpListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),this.el.nativeElement.removeEventListener("mouseup",this.mouseUpListener),this.mouseDownListener=null,this.mouseUpListener=null})}drag(e){this.onDrag.emit(e)}dragStart(e){this.allowDrag()&&!this.pDraggableDisabled?(this.dragEffect&&(e.dataTransfer.effectAllowed=this.dragEffect),e.dataTransfer.setData("text",this.scope),this.onDragStart.emit(e),this.bindDragListener()):e.preventDefault()}dragEnd(e){this.onDragEnd.emit(e),this.unbindDragListener()}mousedown(e){this.handle=e.target}mouseup(e){this.handle=null}allowDrag(){return!this.dragHandle||!this.handle||ie.b.matches(this.handle,this.dragHandle)}ngOnDestroy(){this.unbindDragListener(),this.unbindMouseListeners()}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(a.o),a.Yb(a.E))},e.\u0275dir=a.Tb({type:e,selectors:[["","pDraggable",""]],hostBindings:function(e,t){1&e&&a.mc("dragstart",(function(e){return t.dragStart(e)}))("dragend",(function(e){return t.dragEnd(e)}))},inputs:{pDraggableDisabled:"pDraggableDisabled",scope:["pDraggable","scope"],dragEffect:"dragEffect",dragHandle:"dragHandle"},outputs:{onDragStart:"onDragStart",onDragEnd:"onDragEnd",onDrag:"onDrag"}}),e})(),ve=(()=>{class e{constructor(e,t){this.el=e,this.zone=t,this.onDragEnter=new a.q,this.onDragLeave=new a.q,this.onDrop=new a.q}ngAfterViewInit(){this.pDroppableDisabled||this.bindDragOverListener()}bindDragOverListener(){this.dragOverListener||this.zone.runOutsideAngular(()=>{this.dragOverListener=this.dragOver.bind(this),this.el.nativeElement.addEventListener("dragover",this.dragOverListener)})}unbindDragOverListener(){this.dragOverListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("dragover",this.dragOverListener),this.dragOverListener=null})}dragOver(e){e.preventDefault()}drop(e){this.allowDrop(e)&&(ie.b.removeClass(this.el.nativeElement,"p-draggable-enter"),e.preventDefault(),this.onDrop.emit(e))}dragEnter(e){e.preventDefault(),this.dropEffect&&(e.dataTransfer.dropEffect=this.dropEffect),ie.b.addClass(this.el.nativeElement,"p-draggable-enter"),this.onDragEnter.emit(e)}dragLeave(e){e.preventDefault(),ie.b.removeClass(this.el.nativeElement,"p-draggable-enter"),this.onDragLeave.emit(e)}allowDrop(e){let t=e.dataTransfer.getData("text");if("string"==typeof this.scope&&t==this.scope)return!0;if(this.scope instanceof Array)for(let i=0;i<this.scope.length;i++)if(t==this.scope[i])return!0;return!1}ngOnDestroy(){this.unbindDragOverListener()}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(a.o),a.Yb(a.E))},e.\u0275dir=a.Tb({type:e,selectors:[["","pDroppable",""]],hostBindings:function(e,t){1&e&&a.mc("drop",(function(e){return t.drop(e)}))("dragenter",(function(e){return t.dragEnter(e)}))("dragleave",(function(e){return t.dragLeave(e)}))},inputs:{scope:["pDroppable","scope"],pDroppableDisabled:"pDroppableDisabled",dropEffect:"dropEffect"},outputs:{onDragEnter:"onDragEnter",onDragLeave:"onDragLeave",onDrop:"onDrop"}}),e})(),ye=(()=>{class e{}return e.\u0275mod=a.Wb({type:e}),e.\u0275inj=a.Vb({factory:function(t){return new(t||e)},imports:[[r.c]]}),e})();function we(e,t){if(1&e){var i=a.fc();a.ec(0,"div",19),a.Zb(1,"i",20),a.ec(2,"input",21),a.mc("input",(function(e){return a.Lc(i),a.qc(),a.Jc(12).filterGlobal(e.target.value,"contains")})),a.dc(),a.dc()}}function Le(e,t){if(1&e&&(a.ec(0,"th",23),a.Wc(1),a.Zb(2,"p-sortIcon",24),a.dc()),2&e){var i=t.$implicit;a.xc("pSortableColumn",i.field),a.Kb(1),a.Yc(" ",i.header," "),a.Kb(1),a.xc("field",i.field)}}function Ce(e,t){if(1&e&&(a.ec(0,"tr"),a.Uc(1,Le,3,3,"th",22),a.dc()),2&e){var i=t.$implicit;a.Kb(1),a.xc("ngForOf",i)}}function xe(e,t){1&e&&(a.ec(0,"button",29),a.Zb(1,"i",30),a.dc())}function De(e,t){if(1&e){var i=a.fc();a.ec(0,"button",31),a.mc("click",(function(){a.Lc(i);var e=a.qc().$implicit;return a.qc(2).defaultRole(e)})),a.Zb(1,"i",32),a.dc()}}function ke(e,t){if(1&e){var i=a.fc();a.ec(0,"button",33),a.mc("click",(function(){a.Lc(i);var e=a.qc().$implicit,t=a.qc(2),r=a.Jc(2);return t.editRole(r,e)})),a.Zb(1,"i",34),a.dc()}}function Ue(e,t){if(1&e){var i=a.fc();a.ec(0,"button",35),a.mc("click",(function(){a.Lc(i);var e=a.qc().$implicit;return a.qc(2).deleteRole(e)})),a.Zb(1,"i",36),a.dc()}}function Re(e,t){if(1&e&&(a.ec(0,"tr"),a.ec(1,"td"),a.Wc(2),a.dc(),a.ec(3,"td"),a.Wc(4),a.dc(),a.ec(5,"td"),a.Uc(6,xe,2,0,"button",25),a.Uc(7,De,2,0,"button",26),a.dc(),a.ec(8,"td"),a.Uc(9,ke,2,0,"button",27),a.Uc(10,Ue,2,0,"button",28),a.dc(),a.dc()),2&e){var i=t.$implicit;a.Kb(2),a.Xc(i.role),a.Kb(2),a.Xc(null==i.privileges?null:i.privileges.length),a.Kb(2),a.xc("ngIf",i.defaultRole),a.Kb(1),a.xc("ngIf",!i.defaultRole&&"ADMIN"!==i.role),a.Kb(2),a.xc("ngIf","ADMIN"!==i.role),a.Kb(1),a.xc("ngIf","ADMIN"!==i.role)}}function Ie(e,t){1&e&&(a.ec(0,"tr"),a.ec(1,"th"),a.Wc(2," Modules "),a.dc(),a.dc())}function Se(e,t){if(1&e&&(a.ec(0,"tr"),a.ec(1,"td"),a.Wc(2),a.dc(),a.dc()),2&e){var i=t.$implicit;a.Kb(2),a.Xc(i)}}var Ee=function(){return[10,15,20,25]};function Ke(e,t){if(1&e){var i=a.fc();a.ec(0,"div",2),a.ec(1,"div",3),a.ec(2,"div",4),a.ec(3,"div",5),a.ec(4,"div",6),a.Zb(5,"i",7),a.Wc(6," App Roles "),a.ec(7,"button",8),a.mc("click",(function(){a.Lc(i);var e=a.qc(),t=a.Jc(2);return e.addRole(t)})),a.Zb(8,"i",9),a.Wc(9," Add New Role "),a.dc(),a.dc(),a.ec(10,"div",10),a.ec(11,"p-table",11,12),a.Uc(13,we,3,0,"ng-template",13),a.Uc(14,Ce,2,1,"ng-template",14),a.Uc(15,Re,11,6,"ng-template",15),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(16,"div",16),a.ec(17,"div",5),a.ec(18,"div",6),a.Zb(19,"i",17),a.Wc(20," App Modules "),a.dc(),a.ec(21,"div",10),a.ec(22,"p-table",18),a.Uc(23,Ie,3,0,"ng-template",14),a.Uc(24,Se,3,1,"ng-template",15),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc()}if(2&e){var r=a.qc();a.Kb(11),a.xc("autoLayout",!0)("columns",r.cols)("paginator",!0)("resizableColumns",!0)("rowsPerPageOptions",a.Ac(8,Ee))("rows",10)("value",r.roles),a.Kb(11),a.xc("value",r.domains)}}function qe(e,t){1&e&&(a.ec(0,"div"),a.Wc(1,"Role name is required"),a.dc())}function Oe(e,t){if(1&e&&(a.ec(0,"div",59),a.Uc(1,qe,2,0,"div",60),a.dc()),2&e){var i=a.qc(2);a.Kb(1),a.xc("ngIf",i.roleError)}}function We(e,t){if(1&e&&(a.ec(0,"option",18),a.Wc(1),a.dc()),2&e){var i=t.$implicit;a.yc("value",i),a.Kb(1),a.Xc(i)}}function Me(e,t){if(1&e){var i=a.fc();a.ec(0,"div",61),a.mc("onDragEnd",(function(){return a.Lc(i),a.qc(2).dragEnd()}))("onDragStart",(function(e){a.Lc(i);var r=t.$implicit;return a.qc(2).dragStart(e,r)})),a.ec(1,"div",6),a.Wc(2),a.ec(3,"button",62),a.mc("click",(function(){a.Lc(i);var e=t.$implicit;return a.qc(2).addPrivilege(e)})),a.Zb(4,"i",63),a.dc(),a.dc(),a.dc()}if(2&e){var r=t.$implicit;a.Kb(2),a.Yc(" ",r.name," ")}}function Pe(e,t){1&e&&(a.ec(0,"tr"),a.ec(1,"th"),a.Wc(2,"Module"),a.dc(),a.ec(3,"th"),a.Wc(4,"Name"),a.dc(),a.ec(5,"th"),a.Wc(6,"Acton"),a.dc(),a.dc())}function Ne(e,t){if(1&e){var i=a.fc();a.ec(0,"tr"),a.ec(1,"td"),a.Wc(2),a.dc(),a.ec(3,"td"),a.Wc(4),a.dc(),a.ec(5,"td"),a.ec(6,"button",64),a.mc("click",(function(){a.Lc(i);var e=t.$implicit;return a.qc(2).removeAccess(e)})),a.Zb(7,"i",36),a.dc(),a.dc(),a.dc()}if(2&e){var r=t.$implicit;a.Kb(2),a.Xc(r.module),a.Kb(2),a.Xc(r.name)}}var Ae=function(e){return{"is-invalid":e}},Te=function(){return{height:"250px"}};function Ze(e,t){if(1&e){var i=a.fc();a.ec(0,"div",37),a.ec(1,"h4",38),a.Wc(2),a.dc(),a.ec(3,"button",39),a.mc("click",(function(){return a.Lc(i),a.qc().roleEdit.hide()})),a.ec(4,"span",40),a.Wc(5,"\xd7"),a.dc(),a.dc(),a.dc(),a.ec(6,"div",41),a.ec(7,"div",3),a.ec(8,"div",42),a.ec(9,"form",43),a.ec(10,"div",44),a.ec(11,"label",45),a.Wc(12,"Role Name"),a.dc(),a.Zb(13,"input",46),a.Uc(14,Oe,2,1,"div",47),a.dc(),a.ec(15,"div",44),a.ec(16,"label",48),a.Wc(17,"Select Module"),a.dc(),a.ec(18,"select",49),a.ec(19,"option",50),a.Wc(20,"Select Module..."),a.dc(),a.Uc(21,We,2,2,"option",51),a.dc(),a.dc(),a.ec(22,"p-orderList",52),a.Uc(23,Me,5,1,"ng-template",53),a.dc(),a.dc(),a.dc(),a.ec(24,"div",42),a.ec(25,"div",54),a.mc("onDrop",(function(){return a.Lc(i),a.qc().drop()})),a.ec(26,"p-table",55),a.Uc(27,Pe,7,0,"ng-template",14),a.Uc(28,Ne,8,2,"ng-template",15),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(29,"div",56),a.ec(30,"button",57),a.mc("click",(function(){return a.Lc(i),a.qc().roleEdit.hide()})),a.Wc(31,"Close"),a.dc(),a.ec(32,"button",58),a.mc("click",(function(){return a.Lc(i),a.qc().processRole()})),a.Wc(33,"Save Role "),a.dc(),a.dc()}if(2&e){var r=a.qc();a.Kb(2),a.Xc(r.formTitle),a.Kb(7),a.xc("formGroup",r.nameInput),a.Kb(4),a.xc("ngClass",a.Bc(13,Ae,r.f.role.errors)),a.Kb(1),a.xc("ngIf",r.roleError),a.Kb(4),a.xc("ngClass",a.Bc(15,Ae,r.f.module.errors)),a.Kb(3),a.xc("ngForOf",r.domains),a.Kb(1),a.xc("listStyle",a.Ac(17,Te))("value",r.children),a.Kb(4),a.xc("autoLayout",!0)("paginator",!0)("rows",10)("value",r.selectedPrivileges),a.Kb(6),a.xc("disabled",r.f.role.errors)}}var Ve=function(){function e(e,t,i,r,n){this.http=e,this.modalService=t,this.messageService=i,this.confirmationService=r,this.formBuilder=n,this.dataLoaded=!1,this.roles=[],this.editCurRole={role:"",defaultRole:!1},this.curRole=new Q.b,this.action="add",this.submitted=!1,this.roleError=!1,this.selModules=[]}return Object.defineProperty(e.prototype,"f",{get:function(){return this.nameInput.controls},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.cols=[{field:"role",header:"Role"},{field:"privileges",header:"Privilege Count"},{field:"defaultRole",header:"Default Role"},{field:"action",header:"Action"}],this.http.getRoles().pipe(Object(s.a)()).subscribe((function(t){e.roles=t})),this.http.getDomains().pipe(Object(s.a)()).subscribe((function(t){e.domains=t})),this.http.getPrivileges().pipe(Object(s.a)()).subscribe((function(t){e.appPrivileges=t,e.dataLoaded=!0}))},e.prototype.editRole=function(e,t){this.resetVars(),this.nameInput=this.formBuilder.group({role:[t.role,c.x.required],module:["",c.x.required]}),this.formValueChanges(),this.setAccess(t.privileges),this.editCurRole=t,this.newRole=t.role,this.selectedPrivileges=t.privileges.filter((function(e){return!0!==e.hasChildren})),this.selModules=t.privileges.filter((function(e){return!0===e.hasChildren})),this.formTitle="Editing "+t.role.toUpperCase()+" Role",this.roleEdit=this.modalService.show(e,{class:"modal-lg"})},e.prototype.resetVars=function(){this.access=this.appPrivileges,this.selectedPrivileges=[],this.children=[],this.action="",this.selModules=[]},e.prototype.setAccess=function(e){var t=this.appPrivileges;e.forEach((function(e){t=t.filter((function(t){return t.privilege!==e.privilege}))})),this.access=t,this.selModules=e.filter((function(e){return!0===e.hasChildren}))},e.prototype.addRole=function(e){this.resetVars(),this.action="add",this.nameInput=this.formBuilder.group({role:["",c.x.required],module:["",c.x.required]}),this.formValueChanges(),this.formTitle="Add New Role",this.editCurRole=null,this.selectedPrivileges=[],this.roleEdit=this.modalService.show(e,{class:"modal-lg"})},e.prototype.dragStart=function(e,t){this.draggedPrivilege=t},e.prototype.dragEnd=function(){this.draggedPrivilege=null},e.prototype.drop=function(){var e=this;if(this.draggedPrivilege){if(void 0===this.selModules.find((function(t){return t.module===e.draggedPrivilege.module}))){var t=this.access.find((function(t){return t.module===e.draggedPrivilege.module&&!0===t.hasChildren}));t&&(this.selModules=Object(n.i)(this.selModules,[t]))}this.selectedPrivileges=Object(n.i)(this.selectedPrivileges,[this.draggedPrivilege]),this.children=this.children.filter((function(t){return t!==e.draggedPrivilege})),this.access=this.access.filter((function(t){return t!==e.draggedPrivilege}))}},e.prototype.removeAccess=function(e){this.selectedPrivileges=this.selectedPrivileges.filter((function(t){return t!==e})),this.selectedPrivileges.filter((function(t){return t.module===e.module})).length<1&&(this.selModules=this.selModules.filter((function(t){return t.module!==e.module}))),this.access.push(e),this.curModule===e.module&&this.children.push(e)},e.prototype.formValueChanges=function(){var e=this;this.nameInput.controls.role.valueChanges.subscribe((function(t){e.nameInput.get("role").setValue(t.toUpperCase(),{emitEvent:!1}),e.newRole=t})),this.nameInput.controls.module.valueChanges.subscribe((function(t){e.curModule=t;var i=e.access.filter((function(e){return e.module===t}));e.children=i.filter((function(e){return!e.hasChildren}))}))},e.prototype.processRole=function(){var e=this;"add"===this.action?this.curRole.role=this.newRole.toUpperCase():(this.curRole=this.roles.find((function(t){return t.role===e.editCurRole.role})),this.curRole.role=this.newRole.toUpperCase(),this.roles=this.roles.filter((function(t){return t.role!==e.editCurRole.role}))),this.curRole.privileges=Object(n.i)(this.selectedPrivileges,this.selModules),this.http.editRole(this.curRole).pipe(Object(s.a)()).subscribe((function(t){e.roles.push(t),e.roleEdit.hide(),e.messageService.add({severity:"success",summary:"Update Success",detail:"Role & Privileges persisted to database!"}),e.resetVars()}))},e.prototype.deleteRole=function(e){var t=this;this.confirmationService.confirm({message:"Are you sure you want to delete role "+e.role+"?",header:"Delete Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){t.http.deleteRole(e).pipe(Object(s.a)()).subscribe((function(){t.roles=t.roles.filter((function(t){return t!==e})),t.messageService.add({severity:"success",summary:"Delete Success",detail:"Role deleted from database!"})}))},reject:function(){}})},e.prototype.addPrivilege=function(e){if(void 0===this.selModules.find((function(t){return t.module===e.module}))){var t=this.access.find((function(t){return t.module===e.module&&!0===t.hasChildren}));t&&(this.selModules=Object(n.i)(this.selModules,[t]))}this.selectedPrivileges=Object(n.i)(this.selectedPrivileges,[e]),this.children=this.children.filter((function(t){return t!==e})),this.access=this.access.filter((function(t){return t!==e}))},e.prototype.defaultRole=function(e){var t=this;e.defaultRole=!0,this.http.defaultRole(e).pipe(Object(s.a)()).subscribe((function(e){t.roles.push(e),t.roleEdit.hide(),t.messageService.add({severity:"success",summary:"Update Success",detail:"Role Now Default for New Members/Users"}),t.resetVars()}))},e.\u0275fac=function(t){return new(t||e)(a.Yb(o.a),a.Yb(u.a),a.Yb(d.g),a.Yb(d.b),a.Yb(c.d))},e.\u0275cmp=a.Sb({type:e,selectors:[["app-roles"]],features:[a.Jb([d.g])],decls:3,vars:1,consts:[["class","animated fadeIn",4,"ngIf"],["roleTemplate",""],[1,"animated","fadeIn"],[1,"row"],[1,"col-md-8"],[1,"card"],[1,"card-header"],[1,"fa","fa-lock"],["type","button",1,"btn","btn-sm","btn-warning","float-right",3,"click"],[1,"fa","fa-add"],[1,"card-body"],["columnResizeMode","fit","sortMode","multiple",3,"autoLayout","columns","paginator","resizableColumns","rowsPerPageOptions","rows","value"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"col-md-4"],[1,"fa","fa-list-alt"],[3,"value"],[2,"text-align","right"],[1,"fa","fa-search",2,"margin","4px 4px 0 0"],["pInputText","","placeholder","Search table","size","50","type","text",2,"width","auto",3,"input"],["pResizableColumn","",3,"pSortableColumn",4,"ngFor","ngForOf"],["pResizableColumn","",3,"pSortableColumn"],[3,"field"],["class","btn btn-sm btn-success m-1","title","Default Role ","type","button",4,"ngIf"],["class","btn btn-sm btn-info m-1","title","Make Default","type","button",3,"click",4,"ngIf"],["class","btn btn-sm btn-info m-1","title","Edit Role","type","button",3,"click",4,"ngIf"],["class","btn btn-sm btn-danger m-1","title","Delete Role","type","button",3,"click",4,"ngIf"],["title","Default Role ","type","button",1,"btn","btn-sm","btn-success","m-1"],[1,"fa","fa-check"],["title","Make Default","type","button",1,"btn","btn-sm","btn-info","m-1",3,"click"],[1,"fa","fa-check-circle-o"],["title","Edit Role","type","button",1,"btn","btn-sm","btn-info","m-1",3,"click"],[1,"fa","fa-edit"],["title","Delete Role","type","button",1,"btn","btn-sm","btn-danger","m-1",3,"click"],[1,"fa","fa-remove"],[1,"modal-header"],[1,"modal-title"],["aria-label","Close","type","button",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-sm-6"],[3,"formGroup"],[1,"form-group"],["for","roleName"],["autofocus","","formControlName","role","id","roleName","type","text",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","changeRole"],["formControlName","module","id","changeRole",1,"form-control",3,"ngClass"],["value",""],[3,"value",4,"ngFor","ngForOf"],["header","Privileges",3,"listStyle","value"],["pTemplate","item"],["pDroppable","access",3,"onDrop"],[3,"autoLayout","paginator","rows","value"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-block","btn-success",3,"disabled","click"],[1,"invalid-feedback"],[4,"ngIf"],["pDraggable","access",1,"card","card-accent-success",2,"margin-bottom","0.15em",3,"onDragEnd","onDragStart"],["title","Add Role","type","button",1,"btn","btn-sm","btn-info","m-1","float-right",3,"click"],[1,"fa","fa-plus"],["title","Remove Access","type","button",1,"btn","btn-sm","btn-danger","m-1",3,"click"]],template:function(e,t){1&e&&(a.Uc(0,Ke,25,9,"div",0),a.Uc(1,Ze,34,18,"ng-template",null,1,a.Vc)),2&e&&a.xc("ngIf",t.dataLoaded)},directives:[r.m,h.d,d.i,ee.a,r.l,h.a,h.c,h.b,c.z,c.q,c.i,c.c,c.p,c.g,r.k,c.w,c.t,c.y,me,ve,ge],styles:[""]}),e}(),$e=i("HiMq");function je(e,t){if(1&e){var i=a.fc();a.ec(0,"div",14),a.Zb(1,"i",15),a.ec(2,"input",16),a.mc("input",(function(e){return a.Lc(i),a.qc(),a.Jc(9).filterGlobal(e.target.value,"contains")})),a.dc(),a.dc()}}function Fe(e,t){if(1&e&&(a.ec(0,"th",18),a.Wc(1),a.Zb(2,"p-sortIcon",19),a.dc()),2&e){var i=t.$implicit;a.xc("pSortableColumn",i.field),a.Kb(1),a.Yc(" ",i.header," "),a.Kb(1),a.xc("field",i.field)}}function Be(e,t){if(1&e&&(a.ec(0,"tr"),a.Uc(1,Fe,3,3,"th",17),a.dc()),2&e){var i=t.$implicit;a.Kb(1),a.xc("ngForOf",i)}}function Ye(e,t){if(1&e){var i=a.fc();a.ec(0,"tr"),a.ec(1,"td"),a.Wc(2),a.dc(),a.ec(3,"td"),a.Wc(4),a.dc(),a.ec(5,"td"),a.Wc(6),a.dc(),a.ec(7,"td"),a.ec(8,"button",20),a.mc("click",(function(){a.Lc(i);var e=t.$implicit,r=a.qc(2),n=a.Jc(2);return r.editRole(n,e)})),a.Zb(9,"i",21),a.dc(),a.dc(),a.dc()}if(2&e){var r=t.$implicit;a.Kb(2),a.Xc(r.username),a.Kb(2),a.Xc(r.firstName+" "+r.lastName),a.Kb(2),a.Xc(null==r.roles?null:r.roles.length)}}var ze=function(){return[10,15,20,25]};function _e(e,t){if(1&e){var i=a.fc();a.ec(0,"div",2),a.ec(1,"div",3),a.ec(2,"div",4),a.Zb(3,"i",5),a.Wc(4," Access Control "),a.ec(5,"button",6),a.mc("click",(function(){return a.Lc(i),a.qc().refresh()})),a.Zb(6,"i",7),a.dc(),a.dc(),a.ec(7,"div",8),a.ec(8,"p-table",9,10),a.Uc(10,je,3,0,"ng-template",11),a.Uc(11,Be,2,1,"ng-template",12),a.Uc(12,Ye,10,3,"ng-template",13),a.dc(),a.dc(),a.dc(),a.dc()}if(2&e){var r=a.qc();a.Kb(8),a.xc("autoLayout",!0)("columns",r.cols)("paginator",!0)("resizableColumns",!0)("rowsPerPageOptions",a.Ac(7,ze))("rows",10)("value",r.dataSet)}}function Xe(e,t){if(1&e){var i=a.fc();a.ec(0,"div",36),a.mc("onDragEnd",(function(){return a.Lc(i),a.qc(2).dragEnd()}))("onDragStart",(function(e){a.Lc(i);var r=t.$implicit;return a.qc(2).dragStart(e,r)})),a.ec(1,"div",4),a.Wc(2),a.ec(3,"button",37),a.mc("click",(function(){a.Lc(i);var e=t.$implicit;return a.qc(2).addAccess(e)})),a.Zb(4,"i",38),a.dc(),a.dc(),a.dc()}if(2&e){var r=t.$implicit;a.Kb(2),a.Yc(" ",r.role," ")}}function Je(e,t){1&e&&(a.ec(0,"tr"),a.ec(1,"th"),a.Wc(2,"Name"),a.dc(),a.ec(3,"th"),a.Wc(4,"Acton"),a.dc(),a.dc())}function He(e,t){if(1&e){var i=a.fc();a.ec(0,"tr"),a.ec(1,"td"),a.Wc(2),a.dc(),a.ec(3,"td"),a.ec(4,"button",39),a.mc("click",(function(){a.Lc(i);var e=t.$implicit;return a.qc(2).removeAccess(e)})),a.Zb(5,"i",40),a.dc(),a.dc(),a.dc()}if(2&e){var r=t.$implicit;a.Kb(2),a.Xc(r.role)}}var Ge=function(){return{height:"300px"}};function Qe(e,t){if(1&e){var i=a.fc();a.ec(0,"div",22),a.ec(1,"h4",23),a.Wc(2),a.dc(),a.ec(3,"button",24),a.mc("click",(function(){return a.Lc(i),a.qc().roleEdit.hide()})),a.ec(4,"span",25),a.Wc(5,"\xd7"),a.dc(),a.dc(),a.dc(),a.ec(6,"div",26),a.ec(7,"div",27),a.ec(8,"div",28),a.ec(9,"p-orderList",29),a.Uc(10,Xe,5,1,"ng-template",30),a.dc(),a.dc(),a.ec(11,"div",28),a.ec(12,"div",31),a.mc("onDrop",(function(){return a.Lc(i),a.qc().drop()})),a.ec(13,"p-table",32),a.Uc(14,Je,5,0,"ng-template",12),a.Uc(15,He,6,1,"ng-template",13),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(16,"div",33),a.ec(17,"button",34),a.mc("click",(function(){return a.Lc(i),a.qc().roleEdit.hide()})),a.Wc(18,"Close"),a.dc(),a.ec(19,"button",35),a.mc("click",(function(){return a.Lc(i),a.qc().processAccess()})),a.Wc(20),a.dc(),a.dc()}if(2&e){var r=a.qc();a.Kb(2),a.Yc("Assign Roles to ",r.editCurUser.firstName+" "+r.editCurUser.lastName,""),a.Kb(7),a.xc("listStyle",a.Ac(8,Ge))("value",r.roleList),a.Kb(4),a.xc("autoLayout",!0)("paginator",!0)("rows",10)("value",r.selRoles),a.Kb(7),a.Yc("Assign Role(s) to ",r.editCurUser.firstName+" "+r.editCurUser.lastName,"")}}var et=function(){function e(e,t,i){this.http=e,this.modalService=t,this.messageService=i,this.dataLoaded=!1,this.roles=[],this.roleList=[]}return Object.defineProperty(e.prototype,"f",{get:function(){return this.nameInput.controls},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.cols=[{field:"username",header:"Username"},{field:"firstName",header:"Name"},{field:"roles",header:"Role Count"},{field:"action",header:"Action"}],this.http.getRoles().pipe(Object(s.a)()).subscribe((function(t){e.roles=t})),this.refresh()},e.prototype.refresh=function(){var e=this;this.http.getUsers().pipe().subscribe((function(t){e.dataSet=t.filter((function(e){return"raines"!==e.username})),e.dataLoaded=!0}))},e.prototype.editRole=function(e,t){this.resetVars(),this.editCurUser=t,this.selRoles=Object(n.i)(t.roles),this.setList(),this.roleEdit=this.modalService.show(e,{class:"modal-lg"})},e.prototype.resetVars=function(){this.roleList=this.roles,this.selRoles=[]},e.prototype.setList=function(){var e=this.roles;this.selRoles.forEach((function(t){e=e.filter((function(e){return e.role!==t.role}))})),this.roleList=e},e.prototype.dragStart=function(e,t){this.draggedRole=t},e.prototype.dragEnd=function(){this.draggedRole=null},e.prototype.drop=function(){var e=this;this.draggedRole&&(this.selRoles=Object(n.i)(this.selRoles,[this.draggedRole]),this.roleList=this.roleList.filter((function(t){return t.role!==e.draggedRole.role})))},e.prototype.addAccess=function(e){this.selRoles=Object(n.i)(this.selRoles,[e]),this.roleList=this.roleList.filter((function(t){return t.role!==e.role}))},e.prototype.removeAccess=function(e){this.selRoles=this.selRoles.filter((function(t){return t!==e})),this.roleList.push(e)},e.prototype.processAccess=function(){var e=this;this.editCurUser.roles=this.selRoles;var t=Object(n.i)(this.dataSet);this.http.editUserRole(this.editCurUser).pipe(Object(s.a)()).subscribe((function(i){t[e.dataSet.indexOf(e.editCurUser)]=i,e.dataSet=t,e.roleEdit.hide(),e.messageService.add({severity:"success",summary:"Role Assign Success",detail:"User Roles & Privileges persisted to database!"}),e.resetVars()}))},e.\u0275fac=function(t){return new(t||e)(a.Yb(o.a),a.Yb(u.a),a.Yb(d.g))},e.\u0275cmp=a.Sb({type:e,selectors:[["app-privilege"]],features:[a.Jb([d.g])],decls:3,vars:1,consts:[["class","animated fadeIn",4,"ngIf"],["roleTemplate",""],[1,"animated","fadeIn"],[1,"card"],[1,"card-header"],[1,"fa","fa-lock"],["data-toggle","modal","type","button",1,"btn","btn-sm","btn-dark","mr-1","float-right",3,"click"],[1,"fa","fa-refresh"],[1,"card-body"],["columnResizeMode","fit","sortMode","multiple",3,"autoLayout","columns","paginator","resizableColumns","rowsPerPageOptions","rows","value"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"text-align","right"],[1,"fa","fa-search",2,"margin","4px 4px 0 0"],["pInputText","","placeholder","Search table","size","50","type","text",2,"width","auto",3,"input"],["pResizableColumn","",3,"pSortableColumn",4,"ngFor","ngForOf"],["pResizableColumn","",3,"pSortableColumn"],[3,"field"],["title","Edit Role","type","button",1,"btn","btn-sm","btn-info","m-1",3,"click"],[1,"fa","fa-edit"],[1,"modal-header"],[1,"modal-title"],["aria-label","Close","type","button",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col-sm-6"],["header","Roles",3,"listStyle","value"],["pTemplate","item"],["pDroppable","access",3,"onDrop"],[3,"autoLayout","paginator","rows","value"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-success",3,"click"],["pDraggable","access",1,"card","card-accent-success",2,"margin-bottom","0.15em",3,"onDragEnd","onDragStart"],["title","Add Role","type","button",1,"btn","btn-sm","btn-info","m-1","float-right",3,"click"],[1,"fa","fa-plus"],["title","Remove Access","type","button",1,"btn","btn-sm","btn-danger","m-1",3,"click"],[1,"fa","fa-remove"]],template:function(e,t){1&e&&(a.Uc(0,_e,13,8,"div",0),a.Uc(1,Qe,21,9,"ng-template",null,1,a.Vc)),2&e&&a.xc("ngIf",t.dataLoaded)},directives:[r.m,h.d,d.i,ee.a,r.l,h.a,h.c,h.b,me,ve,ge],styles:[""]}),e}(),tt=i("j4z+"),it=i("6SRb"),rt=i("hg70"),nt=[{path:"",data:{title:""},children:[{path:"",component:J,data:{title:"Manage Users"}},{path:"users",component:J,data:{title:"Manage Users"}},{path:"lms",component:tt.a,data:{title:"LMS Candidates"}},{path:"report",component:H,data:{title:"Platform Reports"}},{path:"roles",component:Ve,data:{title:"Platform Roles"}},{path:"access",component:et,data:{title:"Access Control"}}]}],ct=function(){function e(){}return e.\u0275mod=a.Wb({type:e}),e.\u0275inj=a.Vb({factory:function(t){return new(t||e)},imports:[[r.c,G.g.forChild(nt),f.c,u.b.forChild(),h.e,ee.b,c.u,be,ye,p.a,m.a,$e.a,u.b.forChild(),it.a,rt.b.forRoot()]]}),e}()}}]);