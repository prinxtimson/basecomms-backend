(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"B/oq":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return w})),n.d(e,"d",(function(){return E})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return h})),n.d(e,"i",(function(){return f})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return a})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return l})),n.d(e,"o",(function(){return v}));var r=n("D57K");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function h(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function l(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return u().indexOf("Electron/")>=0}function p(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return u().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return Object(r.d)(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?b(o,r):"Error",u=this.serviceName+": "+s+" ("+i+").",a=new y(i,u,r);return a},t}();function b(t,e){return t.replace(m,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var m=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function E(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=I),void 0===r.error&&(r.error=I),void 0===r.complete&&(r.complete=I);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function I(){}},Gjt8:function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},a=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),h=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},f=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=h,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function l(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=u[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:u,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},QoMx:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u}));var r=n("D57K"),i=n("B/oq"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(h){}try{for(var i=Object(r.j)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.g)(o.value,2),u=s[1],a=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(a);u.resolve(c)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.e)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.h)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},bacK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("D57K"),i=n("HnWI"),o=n("c1xn"),s=n("8tfy"),u=function(t){function e(e,n,r){void 0===n&&(n=0),void 0===r&&(r=o.a);var i=t.call(this)||this;return i.source=e,i.delayTime=n,i.scheduler=r,(!Object(s.a)(n)||n<0)&&(i.delayTime=0),r&&"function"==typeof r.schedule||(i.scheduler=o.a),i}return r.d(e,t),e.create=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=o.a),new e(t,n,r)},e.dispatch=function(t){return this.add(t.source.subscribe(t.subscriber))},e.prototype._subscribe=function(t){return this.scheduler.schedule(e.dispatch,this.delayTime,{source:this.source,subscriber:t})},e}(i.a);function a(t,e){return void 0===e&&(e=0),function(n){return n.lift(new c(t,e))}}var c=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new u(e,this.delay,this.scheduler).subscribe(t)},t}()},cb3a:function(t,e,n){"use strict";n.r(e),n.d(e,"Chat2Module",(function(){return lp}));var r=n("8AiQ"),i=n("AwSQ"),o=n("1C3z"),s=n("diMa"),u=n("HnWI"),a=n("iJR/"),c=n("pN2L"),h=n("W/Ou"),f=n("QagP"),l=n("Jg5f"),d=n("4S5C"),p=n("lqvn"),v=n("z5yO"),y=n("CxUu"),g=n("lykB"),b=n("xzNC"),m=n("e2bd"),w=n("Gjt8"),E=n("B/oq"),O=function(t,e){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function I(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var _,T="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},A=A||{},j=T||self;function N(){}function S(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function x(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var D="closure_uid_"+(1e9*Math.random()>>>0),k=0;function P(t,e,n){return t.call.apply(t.bind,arguments)}function C(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function L(t,e,n){return(L=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?P:C).apply(null,arguments)}function U(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function R(){return Date.now()}function V(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function M(){this.j=this.j,this.i=this.i}M.prototype.j=!1,M.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,D)&&t[D]||(t[D]=++k)}(this)},M.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var F=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function B(t){return Array.prototype.concat.apply([],arguments)}function z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function H(t){return/^[\s\xa0]*$/.test(t)}var G,Q=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function W(t,e){return-1!=t.indexOf(e)}function Y(t,e){return t<e?-1:t>e?1:0}t:{var Z=j.navigator;if(Z){var X=Z.userAgent;if(X){G=X;break t}}G=""}function K(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function J(t){var e={};for(var n in t)e[n]=t[n];return e}var $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<$.length;o++)n=$[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function et(t){return et[" "](t),t}et[" "]=N;var nt,rt,it=W(G,"Opera"),ot=W(G,"Trident")||W(G,"MSIE"),st=W(G,"Edge"),ut=st||ot,at=W(G,"Gecko")&&!(W(G.toLowerCase(),"webkit")&&!W(G,"Edge"))&&!(W(G,"Trident")||W(G,"MSIE"))&&!W(G,"Edge"),ct=W(G.toLowerCase(),"webkit")&&!W(G,"Edge");function ht(){var t=j.document;return t?t.documentMode:void 0}t:{var ft="",lt=(rt=G,at?/rv:([^\);]+)(\)|;)/.exec(rt):st?/Edge\/([\d\.]+)/.exec(rt):ot?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(rt):ct?/WebKit\/(\S+)/.exec(rt):it?/(?:Version)[ \/]?(\S+)/.exec(rt):void 0);if(lt&&(ft=lt?lt[1]:""),ot){var dt=ht();if(null!=dt&&dt>parseFloat(ft)){nt=String(dt);break t}}nt=ft}var pt={};function vt(t){return function(t,e){var n=pt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Q(String(nt)).split("."),r=Q(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=Y(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||Y(0==s[2].length,0==u[2].length)||Y(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e}))}var yt=j.document&&ot&&(ht()||parseInt(nt,10))||void 0,gt=!ot||9<=Number(yt),bt=ot&&!vt("9"),mt=function(){if(!j.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{j.addEventListener("test",N,e),j.removeEventListener("test",N,e)}catch(n){}return t}();function wt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Et(t,e){if(wt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(at){t:{try{et(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ot[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}wt.prototype.b=function(){this.defaultPrevented=!0},V(Et,wt);var Ot={2:"touch",3:"pen",4:"mouse"};Et.prototype.b=function(){Et.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,bt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var It="closure_listenable_"+(1e6*Math.random()|0),_t=0;function Tt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++_t,this.Y=this.Z=!1}function At(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function jt(t){this.src=t,this.a={},this.b=0}function Nt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=F(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(At(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function St(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}jt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=St(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Tt(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var xt="closure_lm_"+(1e6*Math.random()|0),Dt={};function kt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Ft(r),e&&e[It]?e.wa(n,r,x(i)?!!i.capture:!!i,o):Pt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)kt(t,e[o],n,r,i);return null}return n=Ft(n),t&&t[It]?t.va(e,n,x(r)?!!r.capture:!!r,i):Pt(t,e,n,!1,r,i)}function Pt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=x(i)?!!i.capture:!!i;if(s&&!gt)return null;var u=Vt(t);if(u||(t[xt]=u=new jt(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Rt,e=gt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)mt||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Lt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ct(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[It])Nt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Lt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Vt(e))?(Nt(n,t),0==n.b&&(n.src=null,e[xt]=null)):At(t)}}}function Lt(t){return t in Dt?Dt[t]:Dt[t]="on"+t}function Ut(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ct(t),n.call(r,e)}function Rt(t,e){if(t.Y)return!0;if(!gt){if(!e)t:{e=["window","event"];for(var n=j,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ut(t,e=new Et(e,this))}return Ut(t,new Et(e,this))}function Vt(t){return(t=t[xt])instanceof jt?t:null}var Mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ft(t){return"function"==typeof t?t:(t[Mt]||(t[Mt]=function(e){return t.handleEvent(e)}),t[Mt])}function qt(){M.call(this),this.c=new jt(this),this.J=this,this.C=null}function Bt(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new wt(e,t);else if(e instanceof wt)e.target=e.target||t;else{var i=e;tt(e=new wt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=zt(s,r,!0,e)&&i}if(i=zt(s=e.a=t,r,!0,e)&&i,i=zt(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=zt(s=e.a=n[o],r,!1,e)&&i}function zt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&Nt(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}V(qt,M),qt.prototype[It]=!0,(_=qt.prototype).addEventListener=function(t,e,n,r){kt(this,t,e,n,r)},_.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=x(i)?!!i.capture:!!i,r=Ft(r),e&&e[It]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=St(s=e.a[n],r,i,o))&&(At(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Vt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=St(n,r,i,o)),(r=-1<e?n[e]:null)&&Ct(r))}(this,t,e,n,r)},_.G=function(){if(qt.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)At(n[r]);delete e.a[t],e.b--}}this.C=null},_.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},_.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ht=j.JSON.stringify;function Gt(){this.b=this.a=null}var Qt,Wt=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Zt}),(function(t){t.reset()}));function Yt(){var t=$t,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Zt(){this.next=this.b=this.a=null}function Xt(t){j.setTimeout((function(){throw t}),0)}function Kt(t,e){Qt||function(){var t=j.Promise.resolve(void 0);Qt=function(){t.then(te)}}(),Jt||(Qt(),Jt=!0),$t.add(t,e)}Gt.prototype.add=function(t,e){var n=Wt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Zt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Zt.prototype.reset=function(){this.next=this.b=this.a=null};var Jt=!1,$t=new Gt;function te(){for(var t;t=Yt();){try{t.a.call(t.b)}catch(n){Xt(n)}var e=Wt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Jt=!1}function ee(t,e){qt.call(this),this.b=t||1,this.a=e||j,this.f=L(this.Za,this),this.g=R()}function ne(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function re(t,e,n){if("function"==typeof t)n&&(t=L(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=L(t.handleEvent,t)}return 2147483647<Number(e)?-1:j.setTimeout(t,e||0)}function ie(t){t.a=re((function(){t.a=null,t.c&&(t.c=!1,ie(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}V(ee,qt),(_=ee.prototype).aa=!1,_.M=null,_.Za=function(){if(this.aa){var t=R()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Bt(this,"tick"),this.aa&&(ne(this),this.start()))}},_.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=R())},_.G=function(){ee.X.G.call(this),ne(this),delete this.a};var oe=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ie(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(j.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(M);function se(t){M.call(this),this.b=t,this.a={}}V(se,M);var ue=[];function ae(t,e,n,r){Array.isArray(n)||(n&&(ue[0]=n.toString()),n=ue);for(var i=0;i<n.length;i++){var o=kt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ce(t){K(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Ct(t)}),t),t.a={}}function he(){this.a=!0}function fe(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ht(n)}catch(u){return e}}(t,n)+(r?" "+r:"")}))}se.prototype.G=function(){se.X.G.call(this),ce(this)},se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},he.prototype.info=function(){};var le={},de=null;function pe(){return de=de||new qt}function ve(t){wt.call(this,le.Fa,t)}function ye(t){var e=pe();Bt(e,new ve(e,t))}function ge(t,e){wt.call(this,le.STAT_EVENT,t),this.stat=e}function be(t){var e=pe();Bt(e,new ge(e,t))}function me(t){wt.call(this,le.Ga,t)}function we(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return j.setTimeout((function(){t()}),e)}le.Fa="serverreachability",V(ve,wt),le.STAT_EVENT="statevent",V(ge,wt),le.Ga="timingevent",V(me,wt);var Ee={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Oe={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ie(){}function _e(){}Ie.prototype.a=null;var Te,Ae={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function je(){wt.call(this,"d")}function Ne(){wt.call(this,"c")}function Se(){}function xe(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new se(this),this.P=De,this.R=new ee(t=ut?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}V(je,wt),V(Ne,wt),V(Se,Ie),Te=new Se;var De=45e3,ke={},Pe={};function Ce(t,e,n){t.H=1,t.i=nn(Xe(e)),t.j=n,t.I=!0,Le(t,null)}function Le(t,e){t.u=R(),Ve(t),t.l=Xe(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),yn(n.b,"t",r),t.D=0,t.a=hr(t.g,t.g.C?e:null),0<t.O&&(t.F=new oe(L(t.Ca,t,t.a),t.O)),ae(t.J,t.a,"readystatechange",t.Xa),e=t.B?J(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ye(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var h=c[0];c=c[1];var f=h.split("_");s=2<=f.length&&"type"==f[1]?s+(h+"=")+c+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Ue(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Re(t,n);if(i==Pe){4==e&&(t.h=4,be(14),r=!1),fe(t.c,t.f,null,"[Incomplete Response]");break}if(i==ke){t.h=4,be(15),fe(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}fe(t.c,t.f,i,null),ze(t,i)}4==e&&0==n.length&&(t.h=1,be(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),nr(e),e.F=!0,be(11))):(fe(t.c,t.f,n,"[Invalid Chunked Response]"),Be(t),qe(t))}function Re(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Pe:(n=Number(e.substring(n,r)),isNaN(n)?ke:(r+=1)+n>e.length?Pe:(e=e.substr(r,n),t.D=r+n,e))}function Ve(t){t.T=R()+t.P,Me(t,t.P)}function Me(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=we(L(t.Va,t),e)}function Fe(t){t.o&&(j.clearTimeout(t.o),t.o=null)}function qe(t){0==t.g.v||t.A||or(t.g,t)}function Be(t){Fe(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,ne(t.R),ce(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ze(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||In(n.b,t)))if(n.I=t.N,!t.C&&In(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Ql){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;ir(n),Wn(n)}er(n),be(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=we(L(n.Sa,n),6e3));if(1>=On(n.b)&&n.ea){try{n.ea()}catch(Ql){}n.ea=void 0}}else ur(n,11)}else if((t.C||n.a==t)&&ir(n),!H(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var h=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var f=a.b;!f.a&&(W(h,"spdy")||W(h,"quic")||W(h,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(_n(f,f.b),f.b=null))}if(a.A){var l=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;l&&(a.na=l,en(a.B,a.A,l))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=R()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((a=n).la=cr(a,a.C?a.ga:null,a.fa),d.C){Tn(a.b,d);var p=d,v=a.D;v&&p.setTimeout(v),p.o&&(Fe(p),Ve(p)),a.a=d}else tr(a);0<n.g.length&&Xn(n)}else"stop"!=i[0]&&"close"!=i[0]||ur(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?ur(n,7):Qn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ye(4)}catch(Ql){}}function He(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(S(t)||"string"==typeof t)q(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(S(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(S(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ge(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ge)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Qe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];We(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)We(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function We(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(_=xe.prototype).setTimeout=function(t){this.P=t},_.Xa=function(t){t=t.target;var e=this.F;e&&3==Bn(t)?e.f():this.Ca(t)},_.Ca=function(t){try{if(t==this.a)t:{var e=Bn(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ut&&!this.a.$())){this.A||4!=e||7==n||ye(8==n||0>=r?3:2),Fe(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,be(12),Be(this),qe(this);break t}fe(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ze(this,a)}this.I?(Ue(this,e,o),ut&&this.b&&3==e&&(ae(this.J,this.R,"tick",this.Wa),this.R.start())):(fe(this.c,this.f,o,null),ze(this,o)),4==e&&Be(this),this.b&&!this.A&&(4==e?or(this.g,this):(this.b=!1,Ve(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,be(12)):(this.h=0,be(13)),Be(this),qe(this)}}}catch(c){}},_.Wa=function(){if(this.a){var t=Bn(this.a),e=this.a.$();this.D<e.length&&(Fe(this),Ue(this,t,e),this.b&&4!=t&&Ve(this))}},_.cancel=function(){this.A=!0,Be(this)},_.Va=function(){this.o=null;var t=R();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(ye(3),be(17)),Be(this),this.h=2,qe(this)):Me(this,this.T-t)},(_=Ge.prototype).K=function(){Qe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},_.L=function(){return Qe(this),this.a.concat()},_.get=function(t,e){return We(this.b,t)?this.b[t]:e},_.set=function(t,e){We(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},_.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ye=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ze(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ze){this.a=void 0!==e?e:t.a,Ke(this,t.f),this.j=t.j,Je(this,t.c),$e(this,t.h),this.g=t.g,e=t.b;var n=new ln;n.c=e.c,e.a&&(n.a=new Ge(e.a),n.b=e.b),tn(this,n),this.i=t.i}else t&&(n=String(t).match(Ye))?(this.a=!!e,Ke(this,n[1]||"",!0),this.j=rn(n[2]||""),Je(this,n[3]||"",!0),$e(this,n[4]),this.g=rn(n[5]||"",!0),tn(this,n[6]||"",!0),this.i=rn(n[7]||"")):(this.a=!!e,this.b=new ln(null,this.a))}function Xe(t){return new Ze(t)}function Ke(t,e,n){t.f=n?rn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Je(t,e,n){t.c=n?rn(e,!0):e}function $e(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function tn(t,e,n){e instanceof ln?(t.b=e,function(t,e){e&&!t.f&&(dn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(pn(this,e),yn(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=on(e,hn)),t.b=new ln(e,t.a))}function en(t,e,n){t.b.set(e,n)}function nn(t){return en(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^R()).toString(36)),t}function rn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function on(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,sn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ze.prototype.toString=function(){var t=[],e=this.f;e&&t.push(on(e,un,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(on(e,un,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(on(n,"/"==n.charAt(0)?cn:an,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",on(n,fn)),t.join("")};var un=/[#\/\?@]/g,an=/[#\?:]/g,cn=/[#\?]/g,hn=/[#\?@]/g,fn=/#/g;function ln(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function dn(t){t.a||(t.a=new Ge,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function pn(t,e){dn(t),e=gn(t,e),We(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,We((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Qe(t)))}function vn(t,e){return dn(t),e=gn(t,e),We(t.a.b,e)}function yn(t,e,n){pn(t,e),0<n.length&&(t.c=null,t.a.set(gn(t,e),z(n)),t.b+=n.length)}function gn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(_=ln.prototype).add=function(t,e){dn(this),this.c=null,t=gn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},_.forEach=function(t,e){dn(this),this.a.forEach((function(n,r){q(n,(function(n){t.call(e,n,r,this)}),this)}),this)},_.L=function(){dn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},_.K=function(t){dn(this);var e=[];if("string"==typeof t)vn(this,t)&&(e=B(e,this.a.get(gn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=B(e,t[n])}return e},_.set=function(t,e){return dn(this),this.c=null,vn(this,t=gn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},_.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},_.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var bn=function(){return function(t,e){this.b=t,this.a=e}}();function mn(t){this.g=t||wn,t=j.PerformanceNavigationTiming?0<(t=j.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(j.ia&&j.ia.ya&&j.ia.ya()&&j.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var wn=10;function En(t){return!!t.b||!!t.a&&t.a.size>=t.f}function On(t){return t.b?1:t.a?t.a.size:0}function In(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function _n(t,e){t.a?t.a.add(e):t.b=e}function Tn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function An(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=I(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return z(t.c)}function jn(){}function Nn(){this.a=new jn}function Sn(t,e,n){var r=n||"";try{He(t,(function(t,n){var i=t;x(t)&&(i=Ht(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Pd){throw e.push(r+"type="+encodeURIComponent("_badmap")),Pd}}function xn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}mn.prototype.cancel=function(){var t,e;if(this.c=An(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=I(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},jn.prototype.stringify=function(t){return j.JSON.stringify(t,void 0)},jn.prototype.parse=function(t){return j.JSON.parse(t,void 0)};var Dn=j.JSON.parse;function kn(t){qt.call(this),this.headers=new Ge,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Pn,this.D=this.F=!1}V(kn,qt);var Pn="",Cn=/^https?$/i,Ln=["POST","PUT"];function Un(t){return"content-type"==t.toLowerCase()}function Rn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Vn(t),Fn(t)}function Vn(t){t.u||(t.u=!0,Bt(t,"complete"),Bt(t,"error"))}function Mn(t){if(t.b&&void 0!==A&&(!t.s[1]||4!=Bn(t)||2!=t.W()))if(t.l&&4==Bn(t))re(t.za,0,t);else if(Bt(t,"readystatechange"),4==Bn(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ye)[1]||null;if(!o&&j.self&&j.self.location){var s=j.self.location.protocol;o=s.substr(0,s.length-1)}i=!Cn.test(o?o.toLowerCase():"")}e=i}if(e)Bt(t,"complete"),Bt(t,"success");else{t.h=6;try{var u=2<Bn(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",Vn(t)}}finally{Fn(t)}}}function Fn(t,e){if(t.a){qn(t);var n=t.a,r=t.s[0]?N:null;t.a=null,t.s=null,e||Bt(t,"ready");try{n.onreadystatechange=r}catch(Pd){}}}function qn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(j.clearTimeout(t.m),t.m=null)}function Bn(t){return t.a?t.a.readyState:0}function zn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return K(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):en(t,e,n))}function Hn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Gn(t){this.pa=0,this.g=[],this.c=new he,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Hn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Hn("baseRetryDelayMs",5e3,t),this.Ra=Hn("retryDelaySeedMs",1e4,t),this.Ma=Hn("forwardChannelMaxRetries",2,t),this.ma=Hn("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new mn(t&&t.concurrentRequestLimit),this.ka=new Nn,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Qn(t){if(Yn(t),3==t.v){var e=t.R++,n=Xe(t.B);en(n,"SID",t.J),en(n,"RID",e),en(n,"TYPE","terminate"),Jn(t,n),(e=new xe(t,t.c,e,void 0)).H=2,e.i=nn(Xe(n)),n=!1,j.navigator&&j.navigator.sendBeacon&&(n=j.navigator.sendBeacon(e.i.toString(),"")),!n&&j.Image&&((new Image).src=e.i,n=!0),n||(e.a=hr(e.g,null),e.a.ba(e.i)),e.u=R(),Ve(e)}ar(t)}function Wn(t){t.a&&(nr(t),t.a.cancel(),t.a=null)}function Yn(t){Wn(t),t.j&&(j.clearTimeout(t.j),t.j=null),ir(t),t.b.cancel(),t.h&&("number"==typeof t.h&&j.clearTimeout(t.h),t.h=null)}function Zn(t,e){t.g.push(new bn(t.Oa++,e)),3==t.v&&Xn(t)}function Xn(t){En(t.b)||t.h||(t.h=!0,Kt(t.Ba,t),t.u=0)}function Kn(t,e){var n;n=e?e.f:t.R++;var r=Xe(t.B);en(r,"SID",t.J),en(r,"RID",n),en(r,"AID",t.P),Jn(t,r),t.i&&t.l&&zn(r,t.i,t.l),n=new xe(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=$n(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),_n(t.b,n),Ce(n,r,e)}function Jn(t,e){t.f&&He({},(function(t,n){en(e,n,t)}))}function $n(t,e,n){n=Math.min(t.g.length,n);var r=t.f?L(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].b,h=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),u=!1;else try{Sn(h,s,"req"+c+"_")}catch(Qr){r&&r(h)}}if(u){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function tr(t){t.a||t.j||(t.T=1,Kt(t.Aa,t),t.o=0)}function er(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=we(L(t.Aa,t),sr(t,t.o)),t.o++,0))}function nr(t){null!=t.s&&(j.clearTimeout(t.s),t.s=null)}function rr(t){t.a=new xe(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Xe(t.la);en(e,"RID","rpc"),en(e,"SID",t.J),en(e,"CI",t.H?"0":"1"),en(e,"AID",t.P),Jn(t,e),en(e,"TYPE","xmlhttp"),t.i&&t.l&&zn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=nn(Xe(e)),n.j=null,n.I=!0,Le(n,t)}function ir(t){null!=t.m&&(j.clearTimeout(t.m),t.m=null)}function or(t,e){var n=null;if(t.a==e){ir(t),nr(t),t.a=null;var r=2}else{if(!In(t.b,e))return;n=e.s,Tn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=R()-e.u;var i=t.u;Bt(r=pe(),new me(r,n,e,i)),Xn(t)}else tr(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(On(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=we(L(t.Ba,t,e),sr(t,t.u)),t.u++,0)))}(t,e)||2==r&&er(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:ur(t,5);break;case 4:ur(t,10);break;case 3:ur(t,6);break;default:ur(t,2)}}function sr(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function ur(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=L(t.Ya,t);n||(n=new Ze("//www.google.com/images/cleardot.gif"),j.location&&"http"==j.location.protocol||Ke(n,"https"),nn(n)),function(t,e){var n=new he;if(j.Image){var r=new Image;r.onload=U(xn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=U(xn,n,r,"TestLoadImage: error",!1,e),r.onabort=U(xn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=U(xn,n,r,"TestLoadImage: timeout",!1,e),j.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else be(2);t.v=0,t.f&&t.f.ra(e),ar(t),Yn(t)}function ar(t){t.v=0,t.I=-1,t.f&&(0==An(t.b).length&&0==t.g.length||(t.b.c.length=0,z(t.g),t.g.length=0),t.f.qa())}function cr(t,e,n){var r=function(t){return t instanceof Ze?Xe(t):new Ze(t,void 0)}(n);if(""!=r.c)e&&Je(r,e+"."+r.c),$e(r,r.h);else{var i=j.location;r=function(t,e,n,r){var i=new Ze(null,void 0);return t&&Ke(i,t),e&&Je(i,e),n&&$e(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&K(t.V,(function(t,e){en(r,e,t)})),n=t.na,(e=t.A)&&n&&en(r,e,n),en(r,"VER",t.ha),Jn(t,r),r}function hr(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new kn(t.Na)).F=t.C,e}function fr(){}function lr(){if(ot&&!(10<=Number(yt)))throw Error("Environmental error: no available transport.")}function dr(t,e){qt.call(this),this.a=new Gn(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!H(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!H(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new yr(this)}function pr(t){je.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function vr(){Ne.call(this),this.status=1}function yr(t){this.a=t}(_=kn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Te),this.a.onreadystatechange=L(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Rn(this,o)}t=n||"";var i=new Ge(this.headers);r&&He(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Un,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=j.FormData&&t instanceof j.FormData,!(0<=F(Ln,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{qn(this),0<this.o&&((this.D=function(t){return ot&&vt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=L(this.xa,this)):this.m=re(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Rn(this,o)}},_.xa=function(){void 0!==A&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Bt(this,"timeout"),this.abort(8))},_.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Bt(this,"complete"),Bt(this,"abort"),Fn(this))},_.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Fn(this,!0)),kn.X.G.call(this)},_.za=function(){this.j||(this.A||this.l||this.g?Mn(this):this.Ua())},_.Ua=function(){Mn(this)},_.W=function(){try{return 2<Bn(this)?this.a.status:-1}catch(rt){return-1}},_.$=function(){try{return this.a?this.a.responseText:""}catch(rt){return""}},_.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Dn(e)}},_.ua=function(){return this.h},_.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(_=Gn.prototype).ha=8,_.v=1,_.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new xe(this,this.c,t,void 0),r=this.l;if(this.O&&(r?tt(r=J(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=$n(this,n,e),en(i=Xe(this.B),"RID",t),en(i,"CVER",22),this.A&&en(i,"X-HTTP-Session-Id",this.A),Jn(this,i),this.i&&r&&zn(i,this.i,r),_n(this.b,n),this.Ia&&en(i,"TYPE","init"),this.da?(en(i,"$req",e),en(i,"SID","null"),n.U=!0,Ce(n,i,null)):Ce(n,i,e),this.v=2}}else 3==this.v&&(t?Kn(this,t):0==this.g.length||En(this.b)||Kn(this))},_.Aa=function(){if(this.j=null,rr(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=we(L(this.Ta,this),t)}},_.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,be(10),Wn(this),rr(this))},_.Sa=function(){null!=this.m&&(this.m=null,Wn(this),er(this),be(19))},_.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),be(2)):(this.c.info("Failed to ping google.com"),be(1))},(_=fr.prototype).ta=function(){},_.sa=function(){},_.ra=function(){},_.qa=function(){},_.Ja=function(){},lr.prototype.a=function(t,e){return new dr(t,e)},V(dr,qt),dr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;be(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=cr(t,null,t.fa),Xn(t)},dr.prototype.close=function(){Qn(this.a)},dr.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Zn(this.a,e)}else this.l?((e={}).__data__=Ht(t),Zn(this.a,e)):Zn(this.a,t)},dr.prototype.G=function(){this.a.f=null,delete this.f,Qn(this.a),delete this.a,dr.X.G.call(this)},V(pr,je),V(vr,Ne),V(yr,fr),yr.prototype.ta=function(){Bt(this.a,"a")},yr.prototype.sa=function(t){Bt(this.a,new pr(t))},yr.prototype.ra=function(t){Bt(this.a,new vr(t))},yr.prototype.qa=function(){Bt(this.a,"b")},lr.prototype.createWebChannel=lr.prototype.a,dr.prototype.send=dr.prototype.h,dr.prototype.open=dr.prototype.g,dr.prototype.close=dr.prototype.close,Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,Oe.COMPLETE="complete",_e.EventType=Ae,Ae.OPEN="a",Ae.CLOSE="b",Ae.ERROR="c",Ae.MESSAGE="d",qt.prototype.listen=qt.prototype.va,kn.prototype.listenOnce=kn.prototype.wa,kn.prototype.getLastError=kn.prototype.Qa,kn.prototype.getLastErrorCode=kn.prototype.ua,kn.prototype.getStatus=kn.prototype.W,kn.prototype.getResponseJson=kn.prototype.Pa,kn.prototype.getResponseText=kn.prototype.$,kn.prototype.send=kn.prototype.ba;var gr=Ee,br=Oe,mr=le,wr=_e,Er=kn,Or=n("D57K"),Ir=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},_r=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Tr=new w.b("@firebase/firestore");function Ar(){return Tr.logLevel}function jr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Tr.logLevel<=w.a.DEBUG){var r=e.map(xr);Tr.debug.apply(Tr,Object(Or.i)(["Firestore (8.2.9): "+t],r))}}function Nr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Tr.logLevel<=w.a.ERROR){var r=e.map(xr);Tr.error.apply(Tr,Object(Or.i)(["Firestore (8.2.9): "+t],r))}}function Sr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Tr.logLevel<=w.a.WARN){var r=e.map(xr);Tr.warn.apply(Tr,Object(Or.i)(["Firestore (8.2.9): "+t],r))}}function xr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Pd){return t}}function Dr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.9) INTERNAL ASSERTION FAILED: "+t;throw Nr(e),new Error(e)}function kr(t,e){t||Dr()}function Pr(t,e){return t}function Cr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Lr=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Cr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Ur(t,e){return t<e?-1:t>e?1:0}function Rr(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Vr(t){return t+"\0"}var Mr=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return Ur(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();Mr.T=new Mr("");var Fr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},qr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Or.d)(e,t),e}(Error),Br=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(Mr.fromBase64String(e))}catch(e){throw new qr(Fr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Mr.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),zr=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();zr.UNAUTHENTICATED=new zr(null),zr.R=new zr("google-credentials-uid"),zr.P=new zr("first-party-uid");var Hr=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},Gr=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(zr.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),Qr=function(){function t(t){var e=this;this.D=null,this.currentUser=zr.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then((function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.N!==e?(jr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(kr("string"==typeof n.accessToken),new Hr(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return kr(null===t||"string"==typeof t),new zr(t)},t}(),Wr=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=zr.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Yr=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new Wr(this.F,this.O))},t.prototype.v=function(t){t(zr.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),Zr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();Zr.q=-1;var Xr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new qr(Fr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new qr(Fr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new qr(Fr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new qr(Fr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?Ur(this.nanoseconds,t.nanoseconds):Ur(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Kr=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new Xr(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),Jr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Dr(),void 0===n?n=t.length-e:n>t.length-e&&Dr(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),$r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.d)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new qr(Fr.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.ct=function(){return new e([])},e}(Jr),ti=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ei=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.d)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return ti.test(t)},e.prototype.rt=function(){return this.it().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new qr(Fr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new qr(Fr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new qr(Fr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new qr(Fr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(Jr),ni=function(){function t(t){this.path=t}return t._t=function(e){return new t($r.ot(e))},t.ft=function(e){return new t($r.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===$r.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return $r.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new $r(e.slice()))},t}();function ri(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ii(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oi(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var si=function(){function t(t){this.fields=t,t.sort(ei.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return Rr(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),ui=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ai(t){if(kr(!!t),"string"==typeof t){var e=0,n=ui.exec(t);if(kr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ci(t.seconds),nanos:ci(t.nanos)}}function ci(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function hi(t){return"string"==typeof t?Mr.fromBase64String(t):Mr.fromUint8Array(t)}function fi(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function li(t){var e=ai(t.mapValue.fields.__local_write_time__.timestampValue);return new Xr(e.seconds,e.nanos)}function di(t){return null==t}function pi(t){return 0===t&&1/t==-1/0}function vi(t){return"number"==typeof t&&Number.isInteger(t)&&!pi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function yi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fi(t)?4:10:Dr()}function gi(t,e){var n=yi(t);if(n!==yi(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return li(t).isEqual(li(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ai(t.timestampValue),r=ai(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return hi(t.bytesValue).isEqual(hi(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ci(t.geoPointValue.latitude)===ci(e.geoPointValue.latitude)&&ci(t.geoPointValue.longitude)===ci(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ci(t.integerValue)===ci(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ci(t.doubleValue),r=ci(e.doubleValue);return n===r?pi(n)===pi(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Rr(t.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(ri(n)!==ri(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!gi(n[i],r[i])))return!1;return!0}(t,e);default:return Dr()}}function bi(t,e){return void 0!==(t.values||[]).find((function(t){return gi(t,e)}))}function mi(t,e){var n=yi(t),r=yi(e);if(n!==r)return Ur(n,r);switch(n){case 0:return 0;case 1:return Ur(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ci(t.integerValue||t.doubleValue),r=ci(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return wi(t.timestampValue,e.timestampValue);case 4:return wi(li(t),li(e));case 5:return Ur(t.stringValue,e.stringValue);case 6:return function(t,e){var n=hi(t),r=hi(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ur(n[i],r[i]);if(0!==o)return o}return Ur(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ur(ci(t.latitude),ci(e.latitude));return 0!==n?n:Ur(ci(t.longitude),ci(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=mi(n[i],r[i]);if(o)return o}return Ur(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=Ur(r[s],o[s]);if(0!==u)return u;var a=mi(n[r[s]],i[o[s]]);if(0!==a)return a}return Ur(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Dr()}}function wi(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ur(t,e);var n=ai(t),r=ai(e),i=Ur(n.seconds,r.seconds);return 0!==i?i:Ur(n.nanos,r.nanos)}function Ei(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=ai(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?hi(e.bytesValue).toBase64():"referenceValue"in e?ni.ft(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Dr();var n}(t)}function Oi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function Ii(t){return!!t&&"integerValue"in t}function _i(t){return!!t&&"arrayValue"in t}function Ti(t){return!!t&&"nullValue"in t}function Ai(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ji(t){return!!t&&"mapValue"in t}var Ni=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!ji(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return gi(this.proto,t.proto)},t}(),Si=function(){function t(t){void 0===t&&(t=Ni.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===yi(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(ei.ct(),this.At);return null!=t?new Ni(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=ji(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function xi(t){var e=[];return ii(t.fields||{},(function(t,n){var r=new ei([t]);if(ji(n)){var i=xi(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new si(e)}var Di=function(t,e){this.key=t,this.version=e},ki=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Or.d)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Di),Pi=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Or.d)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Di),Ci=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.d)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Di),Li=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function Ui(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Li(t,e,n,r,i,o,s)}function Ri(t){var e=Pr(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.rt()+t.op.toString()+Ei(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.rt()+t.dir}(t)})).join(","),di(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Xi(e.startAt)),e.endAt&&(n+="|ub:",n+=Xi(e.endAt)),e.vt=n}return e.vt}function Vi(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ji(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!gi(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!to(t.startAt,e.startAt)&&to(t.endAt,e.endAt)}function Mi(t){return ni.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Fi=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Or.d)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new qi(t,n,r):"array-contains"===n?new Gi(t,r):"in"===n?new Qi(t,r):"not-in"===n?new Wi(t,r):"array-contains-any"===n?new Yi(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new Bi(t,n):new zi(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(mi(e,this.value)):null!==e&&yi(this.value)===yi(e)&&this.Dt(mi(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Dr()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),qi=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ni.ft(r.referenceValue),i}return Object(Or.d)(e,t),e.prototype.matches=function(t){var e=ni.H(t.key,this.key);return this.Dt(e)},e}(Fi),Bi=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Hi(0,n),r}return Object(Or.d)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Fi),zi=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Hi(0,n),r}return Object(Or.d)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Fi);function Hi(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return ni.ft(t.referenceValue)}))}var Gi=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Or.d)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return _i(e)&&bi(e.arrayValue,this.value)},e}(Fi),Qi=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Or.d)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&bi(this.value.arrayValue,e)},e}(Fi),Wi=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Or.d)(e,t),e.prototype.matches=function(t){if(bi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!bi(this.value.arrayValue,e)},e}(Fi),Yi=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Or.d)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!_i(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return bi(e.value.arrayValue,t)}))},e}(Fi),Zi=function(t,e){this.position=t,this.before=e};function Xi(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Ei(t)})).join(",")}var Ki=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ji(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function $i(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?ni.H(ni.ft(s.referenceValue),n.key):mi(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function to(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!gi(t.position[n],e.position[n]))return!1;return!0}var eo=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.Nt=null,this.$t=null};function no(t,e,n,r,i,o,s,u){return new eo(t,e,n,r,i,o,s,u)}function ro(t){return new eo(t)}function io(t){return!di(t.limit)&&"F"===t.limitType}function oo(t){return!di(t.limit)&&"L"===t.limitType}function so(t){return t.xt.length>0?t.xt[0].field:null}function uo(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function ao(t){return null!==t.collectionGroup}function co(t){var e=Pr(t);if(null===e.Nt){e.Nt=[];var n=uo(e),r=so(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new Ki(n)),e.Nt.push(new Ki(ei.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var u=s[o];e.Nt.push(u),u.field.ut()&&(i=!0)}if(!i){var a=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new Ki(ei.ht(),a))}}}return e.Nt}function ho(t){var e=Pr(t);if(!e.$t)if("F"===e.limitType)e.$t=Ui(e.path,e.collectionGroup,co(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=co(e);r<i.length;r++){var o=i[r];n.push(new Ki(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Zi(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Zi(e.startAt.position,!e.startAt.before):null;e.$t=Ui(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.$t}function fo(t,e,n){return new eo(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lo(t,e){return Vi(ho(t),ho(e))&&t.limitType===e.limitType}function po(t){return Ri(ho(t))+"|lt:"+t.limitType}function vo(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.rt()+" "+e.op+" "+Ei(e.value);var e})).join(", ")+"]"),di(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Xi(t.startAt)),t.endAt&&(e+=", endAt: "+Xi(t.endAt)),"Target("+e+")"}(ho(t))+"; limitType="+t.limitType+")"}function yo(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):ni.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!$i(t.startAt,co(t),e)||t.endAt&&$i(t.endAt,co(t),e))}(t,e)}function go(t){return function(e,n){for(var r=!1,i=0,o=co(t);i<o.length;i++){var s=o[i],u=bo(s,e,n);if(0!==u)return u;r=r||s.field.ut()}return 0}}function bo(t,e,n){var r=t.field.ut()?ni.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?mi(r,i):Dr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Dr()}}var mo=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Kr.min()),void 0===o&&(o=Kr.min()),void 0===s&&(s=Mr.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();function wo(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pi(e)?"-0":e}}function Eo(t){return{integerValue:""+t}}function Oo(t,e){return vi(e)?Eo(e):wo(t,e)}var Io=function(){this.qt=void 0};function _o(t,e,n){return t instanceof jo?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof No?So(t,e):t instanceof xo?Do(t,e):function(t,e){var n=Ao(t,e),r=Po(n)+Po(t.Ut);return Ii(n)&&Ii(t.Ut)?Eo(r):wo(t.Qt,r)}(t,e)}function To(t,e,n){return t instanceof No?So(t,e):t instanceof xo?Do(t,e):n}function Ao(t,e){return t instanceof ko?Ii(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var jo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.d)(e,t),e}(Io),No=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Or.d)(e,t),e}(Io);function So(t,e){for(var n=Co(e),r=function(t){n.some((function(e){return gi(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var xo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Or.d)(e,t),e}(Io);function Do(t,e){for(var n=Co(e),r=function(t){n=n.filter((function(e){return!gi(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ko=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(Or.d)(e,t),e}(Io);function Po(t){return ci(t.integerValue||t.doubleValue)}function Co(t){return _i(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Lo=function(t,e){this.field=t,this.transform=e},Uo=function(t,e){this.version=t,this.transformResults=e},Ro=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Vo(t,e){return void 0!==t.updateTime?e instanceof ki&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof ki}var Mo=function(){};function Fo(t,e,n){return t instanceof Go?function(t,e,n){var r=t.value;if(n.transformResults){var i=Yo(t.fieldTransforms,e,n.transformResults);r=Xo(t.fieldTransforms,r,i)}return new ki(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Qo?function(t,e,n){if(!Vo(t.jt,e))return new Ci(t.key,n.version);var r=Wo(t,e,n.transformResults?Yo(t.fieldTransforms,e,n.transformResults):[]);return new ki(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Pi(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function qo(t,e,n){return t instanceof Go?function(t,e,n){if(!Vo(t.jt,e))return e;var r=t.value,i=Zo(t.fieldTransforms,n,e);r=Xo(t.fieldTransforms,r,i);var o=Ho(e);return new ki(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof Qo?function(t,e,n){if(!Vo(t.jt,e))return e;var r=Ho(e),i=Wo(t,e,Zo(t.fieldTransforms,n,e));return new ki(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return Vo(t.jt,e)?new Pi(t.key,Kr.min()):e}(t,e)}function Bo(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof ki?e.field(o.field):void 0,u=Ao(o.transform,s||null);null!=u&&(n=null==n?(new Si).set(o.field,u):n.set(o.field,u))}return n?n.Pt():null}(t.fieldTransforms,e)}function zo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Rr(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof No&&e instanceof No||t instanceof xo&&e instanceof xo?Rr(t.elements,e.elements,gi):t instanceof ko&&e instanceof ko?gi(t.Ut,e.Ut):t instanceof jo&&e instanceof jo}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function Ho(t){return t instanceof ki?t.version:Kr.min()}var Go=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return Object(Or.d)(e,t),e}(Mo),Qo=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return Object(Or.d)(e,t),e}(Mo);function Wo(t,e,n){var r;return r=function(t,e){var n=new Si(e);return t.Gt.fields.forEach((function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Pt()}(t,r=e instanceof ki?e.data():Ni.empty()),Xo(t.fieldTransforms,r,n)}function Yo(t,e,n){var r=[];kr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof ki&&(u=e.field(o.field)),r.push(To(s,u,n[i]))}return r}function Zo(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],u=s.transform,a=null;n instanceof ki&&(a=n.field(s.field)),r.push(_o(u,a,e))}return r}function Xo(t,e,n){for(var r=new Si(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var Ko,Jo,$o=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(Or.d)(e,t),e}(Mo),ts=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(Or.d)(e,t),e}(Mo),es=function(t){this.count=t};function ns(t){switch(t){case Fr.OK:return Dr();case Fr.CANCELLED:case Fr.UNKNOWN:case Fr.DEADLINE_EXCEEDED:case Fr.RESOURCE_EXHAUSTED:case Fr.INTERNAL:case Fr.UNAVAILABLE:case Fr.UNAUTHENTICATED:return!1;case Fr.INVALID_ARGUMENT:case Fr.NOT_FOUND:case Fr.ALREADY_EXISTS:case Fr.PERMISSION_DENIED:case Fr.FAILED_PRECONDITION:case Fr.ABORTED:case Fr.OUT_OF_RANGE:case Fr.UNIMPLEMENTED:case Fr.DATA_LOSS:return!0;default:return Dr()}}function rs(t){if(void 0===t)return Nr("GRPC error has no .code"),Fr.UNKNOWN;switch(t){case Ko.OK:return Fr.OK;case Ko.CANCELLED:return Fr.CANCELLED;case Ko.UNKNOWN:return Fr.UNKNOWN;case Ko.DEADLINE_EXCEEDED:return Fr.DEADLINE_EXCEEDED;case Ko.RESOURCE_EXHAUSTED:return Fr.RESOURCE_EXHAUSTED;case Ko.INTERNAL:return Fr.INTERNAL;case Ko.UNAVAILABLE:return Fr.UNAVAILABLE;case Ko.UNAUTHENTICATED:return Fr.UNAUTHENTICATED;case Ko.INVALID_ARGUMENT:return Fr.INVALID_ARGUMENT;case Ko.NOT_FOUND:return Fr.NOT_FOUND;case Ko.ALREADY_EXISTS:return Fr.ALREADY_EXISTS;case Ko.PERMISSION_DENIED:return Fr.PERMISSION_DENIED;case Ko.FAILED_PRECONDITION:return Fr.FAILED_PRECONDITION;case Ko.ABORTED:return Fr.ABORTED;case Ko.OUT_OF_RANGE:return Fr.OUT_OF_RANGE;case Ko.UNIMPLEMENTED:return Fr.UNIMPLEMENTED;case Ko.DATA_LOSS:return Fr.DATA_LOSS;default:return Dr()}}(Jo=Ko||(Ko={}))[Jo.OK=0]="OK",Jo[Jo.CANCELLED=1]="CANCELLED",Jo[Jo.UNKNOWN=2]="UNKNOWN",Jo[Jo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jo[Jo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jo[Jo.NOT_FOUND=5]="NOT_FOUND",Jo[Jo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jo[Jo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jo[Jo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jo[Jo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jo[Jo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jo[Jo.ABORTED=10]="ABORTED",Jo[Jo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jo[Jo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jo[Jo.INTERNAL=13]="INTERNAL",Jo[Jo.UNAVAILABLE=14]="UNAVAILABLE",Jo[Jo.DATA_LOSS=15]="DATA_LOSS";var is=function(){function t(t,e){this.H=t,this.root=e||ss.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,ss.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,ss.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Xt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new os(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new os(this.root,t,this.H,!1)},t.prototype.ne=function(){return new os(this.root,null,this.H,!0)},t.prototype.se=function(t){return new os(this.root,t,this.H,!0)},t}(),os=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),ss=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw Dr();if(this.right.le())throw Dr();var t=this.left.Ie();if(t!==this.right.Ie())throw Dr();return t+(this.le()?0:1)},t}();ss.EMPTY=null,ss.RED=!0,ss.Ht=!1,ss.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Dr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Dr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Dr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Dr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Dr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new ss(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var us=function(){function t(t){this.H=t,this.data=new is(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt((function(e,n){return t(e),!1}))},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new as(this.data.te())},t.prototype.ee=function(t){return new as(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),as=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),cs=new is(ni.H);function hs(){return cs}function fs(){return hs()}var ls=new is(ni.H);function ds(){return ls}var ps=new is(ni.H);function vs(){return ps}var ys=new us(ni.H);function gs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ys,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var bs=new us(Ur);function ms(){return bs}var ws=function(){function t(t){this.H=t?function(e,n){return t(e,n)||ni.H(e.key,n.key)}:function(t,e){return ni.H(t.key,e.key)},this.ge=ds(),this.Ve=new is(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),Es=function(){function t(){this.be=new is(ni.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):Dr():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt((function(e,n){t.push(n)})),t},t}(),Os=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=u}return t.Ne=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,ws.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&lo(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Is=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,_s.Le(e,n)),new t(Kr.min(),r,ms(),hs(),gs())},t}(),_s=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(Mr.T,n,gs(),gs(),gs())},t}(),Ts=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},As=function(t,e){this.targetId=t,this.je=e},js=function(t,e,n,r){void 0===n&&(n=Mr.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ns=function(){function t(){this.Ge=0,this.ze=Ds(),this.He=Mr.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=gs(),e=gs(),n=gs();return this.ze.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Dr()}})),new _s(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=Ds()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),Ss=function(){function t(t){this.un=t,this.hn=new Map,this.ln=hs(),this._n=xs(),this.fn=new us(Ur)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof ki?this.wn(r,t.We):t.We instanceof Pi&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.En(r=o[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,(function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:Dr()}}))},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach((function(t,r){n.An(r)&&e(r)}))},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(Mi(i))if(0===n){var o=new ni(i.path);this.En(e,o,new Pi(o,Kr.min()))}else kr(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach((function(r,i){var o=e.yn(i);if(o){if(r.Be&&Mi(o.target)){var s=new ni(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new Pi(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}}));var r=gs();this._n.forEach((function(t,n){var i=!0;n.Ae((function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Is(t,n,this.fn,this.ln,r);return this.ln=hs(),this._n=xs(),this.fn=new us(Ur),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new Ns,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new us(Ur),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||jr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new Ns),this.un.vn(t).forEach((function(n){e.En(t,n,null)}))},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function xs(){return new is(ni.H)}function Ds(){return new is(ni.H)}var ks={asc:"ASCENDING",desc:"DESCENDING"},Ps={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cs=function(t,e){this.t=t,this.Bt=e};function Ls(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Us(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function Rs(t,e){return Ls(t,e.j())}function Vs(t){return kr(!!t),Kr.K(function(t){var e=ai(t);return new Xr(e.seconds,e.nanos)}(t))}function Ms(t,e){return function(t){return new $r(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function Fs(t){var e=$r.ot(t);return kr(cu(e)),e}function qs(t,e){return Ms(t.t,e.path)}function Bs(t,e){var n=Fs(e);if(n.get(1)!==t.t.projectId)throw new qr(Fr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new qr(Fr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new ni(Qs(n))}function zs(t,e){return Ms(t.t,e)}function Hs(t){var e=Fs(t);return 4===e.length?$r.ct():Qs(e)}function Gs(t){return new $r(["projects",t.t.projectId,"databases",t.t.database]).rt()}function Qs(t){return kr(t.length>4&&"documents"===t.get(4)),t.Y(5)}function Ws(t,e,n){return{name:qs(t,e),fields:n.proto.mapValue.fields}}function Ys(t,e,n){var r=Bs(t,e.name),i=Vs(e.updateTime),o=new Ni({mapValue:{fields:e.fields}});return new ki(r,i,o,{hasCommittedMutations:!!n})}function Zs(t,e){var n;if(e instanceof Go)n={update:Ws(t,e.key,e.value)};else if(e instanceof $o)n={delete:qs(t,e.key)};else if(e instanceof Qo)n={update:Ws(t,e.key,e.data),updateMask:au(e.Gt)};else{if(!(e instanceof ts))return Dr();n={verify:qs(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof jo)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof No)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof xo)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof ko)return{fieldPath:e.field.rt(),increment:n.Ut};throw Dr()}(0,t)}))),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Rs(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Dr()}(t,e.jt)),n}function Xs(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ro.updateTime(Vs(t.updateTime)):void 0!==t.exists?Ro.exists(t.exists):Ro.Kt()}(e.currentDocument):Ro.Kt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(kr("REQUEST_TIME"===e.setToServerValue),n=new jo):"appendMissingElements"in e?n=new No(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new xo(e.removeAllFromArray.values||[]):"increment"in e?n=new ko(t,e.increment):Dr();var r=ei.lt(e.fieldPath);return new Lo(r,n)}(t,e)})):[];if(e.update){var i=Bs(t,e.update.name),o=new Ni({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new si((t.fieldPaths||[]).map((function(t){return ei.lt(t)})))}(e.updateMask);return new Qo(i,o,s,n,r)}return new Go(i,o,n,r)}if(e.delete){var u=Bs(t,e.delete);return new $o(u,n)}if(e.verify){var a=Bs(t,e.verify);return new ts(a,n)}return Dr()}function Ks(t,e){return{documents:[zs(t,e.path)]}}function Js(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=zs(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=zs(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Ai(t.value))return{unaryFilter:{field:iu(t.field),op:"IS_NAN"}};if(Ti(t.value))return{unaryFilter:{field:iu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ai(t.value))return{unaryFilter:{field:iu(t.field),op:"IS_NOT_NAN"}};if(Ti(t.value))return{unaryFilter:{field:iu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:iu(t.field),op:ru(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:iu(t.field),direction:nu(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Bt||di(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=tu(e.startAt)),e.endAt&&(n.structuredQuery.endAt=tu(e.endAt)),n}function $s(t){var e=Hs(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){kr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[uu(e)]:void 0!==e.fieldFilter?[su(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Dr():[]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(t){return function(t){return new Ki(ou(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var a=null;n.limit&&(a=function(t){var e;return di(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=eu(n.startAt));var h=null;return n.endAt&&(h=eu(n.endAt)),no(e,i,u,s,a,"F",c,h)}function tu(t){return{before:t.before,values:t.position}}function eu(t){return new Zi(t.values||[],!!t.before)}function nu(t){return ks[t]}function ru(t){return Ps[t]}function iu(t){return{fieldPath:t.rt()}}function ou(t){return ei.lt(t.fieldPath)}function su(t){return Fi.create(ou(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Dr()}}(t.fieldFilter.op),t.fieldFilter.value)}function uu(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ou(t.unaryFilter.field);return Fi.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ou(t.unaryFilter.field);return Fi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ou(t.unaryFilter.field);return Fi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ou(t.unaryFilter.field);return Fi.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Dr()}}function au(t){var e=[];return t.fields.forEach((function(t){return e.push(t.rt())})),{fieldPaths:e}}function cu(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var hu=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},fu=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t((function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)}),(function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&Dr(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t((function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}}))},t.prototype.On=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn((function(){return e(n)})):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Mn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Mn(r)},t}(),lu=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new hu,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new vu(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=wu(e.target.error);n.Bn.reject(new vu(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new vu(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(jr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new gu(e)},t}(),du=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Object(E.g)())&&Nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return jr("SimpleDb","Removing database:",t),bu(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(E.g)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Object(Or.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Or.e)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(jr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new vu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new qr(Fr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new vu(t,n))},i.onupgradeneeded=function(t){jr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){jr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}}))}))},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Or.b)(this,void 0,void 0,(function(){var i,o,s,u,a;return Object(Or.e)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,a,c,h;return Object(Or.e)(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,u.Hn(t)];case 2:return u.db=f.sent(),e=lu.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),fu.reject(t)})).On(),a={},s.catch((function(){})),[4,e.qn];case 3:return[2,(a.value=(f.sent(),s),a)];case 4:return jr("SimpleDb","Transaction failed with error:",(c=f.sent()).message,"Retrying:",h="FirebaseError"!==c.name&&o<3),u.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),pu=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return bu(this.Zn.delete())},t}(),vu=function(t){function e(e,n){var r=this;return(r=t.call(this,Fr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Or.d)(e,t),e}(qr);function yu(t){return"IndexedDbTransactionError"===t.name}var gu=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(jr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(jr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),bu(n)},t.prototype.add=function(t){return jr("SimpleDb","ADD",this.store.name,t,t),bu(this.store.add(t))},t.prototype.get=function(t){var e=this;return bu(this.store.get(t)).next((function(n){return void 0===n&&(n=null),jr("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return jr("SimpleDb","DELETE",this.store.name,t),bu(this.store.delete(t))},t.prototype.count=function(){return jr("SimpleDb","COUNT",this.store.name),bu(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.cs=function(t,e){jr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,(function(t,e,n){return n.delete()}))},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new fu((function(n,r){e.onerror=function(t){var e=wu(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.os=function(t,e){var n=[];return new fu((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new pu(i),s=e(i.primaryKey,i.value,o);if(s instanceof fu){var u=s.catch((function(t){return o.done(),fu.reject(t)}));n.push(u)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}})).next((function(){return fu.Mn(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function bu(t){return new fu((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=wu(t.target.error);n(e)}}))}var mu=!1;function wu(t){var e=du.Qn(Object(E.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new qr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return mu||(mu=!0,setTimeout((function(){throw r}),0)),r}}return t}var Eu=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new hu,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch((function(t){}))}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout((function(){return e.As()}),t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new qr(Fr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps((function(){return null!==t.Is?(t.clearTimeout(),t.op().then((function(e){return t.Es.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function Ou(t,e){if(Nr("AsyncQueue",e+": "+t),yu(t))return new qr(Fr.UNAVAILABLE,e+": "+t);throw t}var Iu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_u=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach((function(t){return t()}))},t}();function Tu(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ju(e)),e=Au(t.get(n),e);return ju(e)}function Au(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ju(t){return t+"\x01\x01"}function Nu(t){var e=t.length;if(kr(e>=2),2===e)return kr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),$r.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Dr(),t.charAt(s+1)){case"\x01":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Dr()}o=s+2}return new $r(r)}var Su=function(t,e){this.seconds=t,this.nanoseconds=e},xu=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};xu.store="owner",xu.key="owner";var Du=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Du.store="mutationQueues",Du.keyPath="userId";var ku=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ku.store="mutations",ku.keyPath="batchId",ku.userMutationsIndex="userMutationsIndex",ku.userMutationsKeyPath=["userId","batchId"];var Pu=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Tu(e)]},t.key=function(t,e,n){return[t,Tu(e),n]},t}();Pu.store="documentMutations",Pu.PLACEHOLDER=new Pu;var Cu=function(t,e){this.path=t,this.readTime=e},Lu=function(t,e){this.path=t,this.version=e},Uu=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Uu.store="remoteDocuments",Uu.readTimeIndex="readTimeIndex",Uu.readTimeIndexPath="readTime",Uu.collectionReadTimeIndex="collectionReadTimeIndex",Uu.collectionReadTimeIndexPath=["parentPath","readTime"];var Ru=function(t){this.byteSize=t};Ru.store="remoteDocumentGlobal",Ru.key="remoteDocumentGlobalKey";var Vu=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Vu.store="targets",Vu.keyPath="targetId",Vu.queryTargetsIndexName="queryTargetsIndex",Vu.queryTargetsKeyPath=["canonicalId","targetId"];var Mu=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Mu.store="targetDocuments",Mu.keyPath=["targetId","path"],Mu.documentTargetsIndex="documentTargetsIndex",Mu.documentTargetsKeyPath=["path","targetId"];var Fu=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Fu.key="targetGlobalKey",Fu.store="targetGlobal";var qu=function(t,e){this.collectionId=t,this.parent=e};qu.store="collectionParents",qu.keyPath=["collectionId","parent"];var Bu=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Bu.store="clientMetadata",Bu.keyPath="clientId";var zu=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};zu.store="bundles",zu.keyPath="bundleId";var Hu=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Hu.store="namedQueries",Hu.keyPath="name";var Gu=Object(Or.i)(Object(Or.i)(Object(Or.i)(Object(Or.i)([Du.store,ku.store,Pu.store,Uu.store,Vu.store,xu.store,Fu.store,Mu.store],[Bu.store]),[Ru.store]),[qu.store]),[zu.store,Hu.store]),Qu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(Or.d)(e,t),e}(_u);function Wu(t,e){var n=Pr(t);return du.zn(n.ps,e)}var Yu=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Fo(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=qo(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=qo(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),gs())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Rr(this.mutations,t.mutations,(function(t,e){return zo(t,e)}))&&Rr(this.baseMutations,t.baseMutations,(function(t,e){return zo(t,e)}))},t}(),Zu=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){kr(e.mutations.length===r.length);for(var i=vs(),o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Xu=function(t){this.Fs=t};function Ku(t,e){if(e.document)return Ys(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ni.Et(e.noDocument.path),r=na(e.noDocument.readTime);return new Pi(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ni.Et(e.unknownDocument.path);return r=na(e.unknownDocument.version),new Ci(i,r)}return Dr()}function Ju(t,e,n){var r=$u(n),i=e.key.path.X().it();if(e instanceof ki){var o=function(t,e){return{name:qs(t,e.key),fields:e.bt().mapValue.fields,updateTime:Ls(t,e.version.j())}}(t.Fs,e),s=e.hasCommittedMutations;return new Uu(null,null,o,s,r,i)}if(e instanceof Pi){var u=e.key.path.it(),a=ea(e.version);return s=e.hasCommittedMutations,new Uu(null,new Cu(u,a),null,s,r,i)}if(e instanceof Ci){var c=e.key.path.it(),h=ea(e.version);return new Uu(new Lu(c,h),null,null,!0,r,i)}return Dr()}function $u(t){var e=t.j();return[e.seconds,e.nanoseconds]}function ta(t){var e=new Xr(t[0],t[1]);return Kr.K(e)}function ea(t){var e=t.j();return new Su(e.seconds,e.nanoseconds)}function na(t){var e=new Xr(t.seconds,t.nanoseconds);return Kr.K(e)}function ra(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Xs(t.Fs,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return Xs(t.Fs,e)})),o=Xr.fromMillis(e.localWriteTimeMs);return new Yu(e.batchId,o,n,i)}function ia(t){var e,n,r=na(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?na(t.lastLimboFreeSnapshotVersion):Kr.min();return void 0!==t.query.documents?(kr(1===(n=t.query).documents.length),e=ho(ro(Hs(n.documents[0])))):e=function(t){return ho($s(t))}(t.query),new mo(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Mr.fromBase64String(t.resumeToken))}function oa(t,e){var n,r=ea(e.Ot),i=ea(e.lastLimboFreeSnapshotVersion);n=Mi(e.target)?Ks(t.Fs,e.target):Js(t.Fs,e.target);var o=e.resumeToken.toBase64();return new Vu(e.targetId,Ri(e.target),r,o,e.sequenceNumber,i,n)}function sa(t){var e=$s({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?fo(e,e.limit,"L"):e}var ua=function(){function t(){}return t.prototype.Os=function(t,e){return aa(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:na(e.createTime),version:e.version};var e}))},t.prototype.ks=function(t,e){return aa(t).put({bundleId:(n=e).id,createTime:ea(Vs(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return ca(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:sa(e.bundledQuery),readTime:na(e.readTime)};var e}))},t.prototype.Ls=function(t,e){return ca(t).put(function(t){return{name:t.name,readTime:ea(Vs(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function aa(t){return Wu(t,zu.store)}function ca(t){return Wu(t,Hu.store)}var ha=function(){function t(){this.Bs=new fa}return t.prototype.qs=function(t,e){return this.Bs.add(e),fu.resolve()},t.prototype.Us=function(t,e){return fu.resolve(this.Bs.getEntries(e))},t}(),fa=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new us($r.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new us($r.H)).it()},t}(),la=function(){function t(){this.Qs=new fa}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs((function(){n.Qs.add(e)}));var o={collectionId:r,parent:Tu(i)};return da(t).put(o)}return fu.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Vr(e),""],!1,!0);return da(t).rs(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Nu(o.parent))}return n}))},t}();function da(t){return Wu(t,qu.store)}var pa={Ks:!1,Ws:0,js:0,Gs:0},va=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function ya(t){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.e)(this,(function(e){if(t.code!==Fr.FAILED_PRECONDITION||t.message!==Iu)throw t;return jr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}va.Xs=10,va.Zs=1e3,va.ti=new va(41943040,va.Xs,va.Zs),va.ei=new va(-1,0,0);var ga=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.si(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ii(this.ii,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.et=function(){return oi(this.ii)},t}(),ba=function(){function t(){this.ri=new ga((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:Kr.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?fu.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function ma(t,e,n){var r=t.store(ku.store),i=t.store(Pu.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.hs({range:s},(function(t,e,n){return u++,n.delete()}));o.push(a.next((function(){kr(1===u)})));for(var c=[],h=0,f=n.mutations;h<f.length;h++){var l=f[h],d=Pu.key(e,l.key.path,n.batchId);o.push(i.delete(d)),c.push(l.key)}return fu.Mn(o).next((function(){return c}))}function wa(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Dr();e=t.noDocument}return JSON.stringify(e).length}var Ea=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return kr(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ia(t).hs({index:ku.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Ri=function(t,e,n,r){var i=this,o=_a(t),s=Ia(t);return s.add({}).next((function(u){kr("number"==typeof u);for(var a=new Yu(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Zs(t.Fs,e)})),i=n.mutations.map((function(e){return Zs(t.Fs,e)}));return new ku(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,a),h=[],f=new us((function(t,e){return Ur(t.rt(),e.rt())})),l=0,d=r;l<d.length;l++){var p=d[l],v=Pu.key(i.userId,p.key.path,u);f=f.add(p.key.path.X()),h.push(s.put(c)),h.push(o.put(v,Pu.PLACEHOLDER))}return f.forEach((function(e){h.push(i.Ei.qs(t,e))})),t.gs((function(){i.Ii[u]=a.keys()})),fu.Mn(h).next((function(){return a}))}))},t.prototype.Pi=function(t,e){var n=this;return Ia(t).get(e).next((function(t){return t?(kr(t.userId===n.userId),ra(n.Qt,t)):null}))},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?fu.resolve(this.Ii[e]):this.Pi(t,e).next((function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null}))},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ia(t).hs({index:ku.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(kr(e.batchId>=r),o=ra(n.Qt,e)),i.done()})).next((function(){return o}))},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ia(t).hs({index:ku.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ia(t).rs(ku.userMutationsIndex,n).next((function(t){return t.map((function(t){return ra(e.Qt,t)}))}))},t.prototype.bi=function(t,e){var n=this,r=Pu.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return _a(t).hs({range:i},(function(r,i,s){var u=r[0],a=r[2],c=Nu(r[1]);if(u===n.userId&&e.path.isEqual(c))return Ia(t).get(a).next((function(t){if(!t)throw Dr();kr(t.userId===n.userId),o.push(ra(n.Qt,t))}));s.done()})).next((function(){return o}))},t.prototype.vi=function(t,e){var n=this,r=new us(Ur),i=[];return e.forEach((function(e){var o=Pu.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=_a(t).hs({range:s},(function(t,i,o){var s=t[0],u=t[2],a=Nu(t[1]);s===n.userId&&e.path.isEqual(a)?r=r.add(u):o.done()}));i.push(u)})),fu.Mn(i).next((function(){return n.Si(t,r)}))},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=Pu.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new us(Ur);return _a(t).hs({range:s},(function(t,e,o){var s=t[0],a=t[2],c=Nu(t[1]);s===n.userId&&r.nt(c)?c.length===i&&(u=u.add(a)):o.done()})).next((function(){return n.Si(t,u)}))},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Ia(t).get(e).next((function(t){if(null===t)throw Dr();kr(t.userId===n.userId),r.push(ra(n.Qt,t))})))})),fu.Mn(i).next((function(){return r}))},t.prototype.Ci=function(t,e){var n=this;return ma(t.ps,this.userId,e).next((function(r){return t.gs((function(){n.xi(e.batchId)})),fu.forEach(r,(function(e){return n.Ti.Ni(t,e)}))}))},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next((function(n){if(!n)return fu.resolve();var r=IDBKeyRange.lowerBound(Pu.prefixForUser(e.userId)),i=[];return _a(t).hs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Nu(t[1]);i.push(o)}else r.done()})).next((function(){kr(0===i.length)}))}))},t.prototype.Fi=function(t,e){return Oa(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return Ta(t).get(this.userId).next((function(t){return t||new Du(e.userId,-1,"")}))},t}();function Oa(t,e,n){var r=Pu.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return _a(t).hs({range:o,us:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Ia(t){return Wu(t,ku.store)}function _a(t){return Wu(t,Pu.store)}function Ta(t){return Wu(t,Du.store)}var Aa=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),ja=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next((function(n){var r=new Aa(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Qi=function(t){return this.qi(t).next((function(t){return Kr.K(new Xr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ki=function(t){return this.qi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)}))},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next((function(){return n.qi(t).next((function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)}))}))},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next((function(){return Na(t).delete(e.targetId)})).next((function(){return n.qi(t)})).next((function(e){return kr(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)}))},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return Na(t).hs((function(s,u){var a=ia(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Ji(t,a)))})).next((function(){return fu.Mn(o)})).next((function(){return i}))},t.prototype.In=function(t,e){return Na(t).hs((function(t,n){var r=ia(n);e(r)}))},t.prototype.qi=function(t){return Sa(t).get(Fu.key).next((function(t){return kr(null!==t),t}))},t.prototype.Ui=function(t,e){return Sa(t).put(Fu.key,e)},t.prototype.Gi=function(t,e){return Na(t).put(oa(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next((function(t){return t.targetCount}))},t.prototype.tr=function(t,e){var n=Ri(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Na(t).hs({range:r,index:Vu.queryTargetsIndexName},(function(t,n,r){var o=ia(n);Vi(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.er=function(t,e,n){var r=this,i=[],o=xa(t);return e.forEach((function(e){var s=Tu(e.path);i.push(o.put(new Mu(n,s))),i.push(r.Ti.nr(t,n,e))})),fu.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=xa(t);return fu.forEach(e,(function(e){var o=Tu(e.path);return fu.Mn([i.delete([n,o]),r.Ti.ir(t,n,e)])}))},t.prototype.Yi=function(t,e){var n=xa(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=xa(t),i=gs();return r.hs({range:n,us:!0},(function(t,e,n){var r=Nu(t[1]),o=new ni(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Fi=function(t,e){var n=Tu(e.path),r=IDBKeyRange.bound([n],[Vr(n)],!1,!0),i=0;return xa(t).hs({index:Mu.documentTargetsIndex,us:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Sn=function(t,e){return Na(t).get(e).next((function(t){return t?ia(t):null}))},t}();function Na(t){return Wu(t,Vu.store)}function Sa(t){return Wu(t,Fu.store)}function xa(t){return Wu(t,Mu.store)}function Da(t,e){var n=t[1],r=e[1],i=Ur(t[0],e[0]);return 0===i?Ur(n,r):i}var ka=function(){function t(t){this.cr=t,this.buffer=new us(Da),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Da(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Pa=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;jr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,(function(){return Object(Or.b)(e,void 0,void 0,(function(){var e;return Object(Or.e)(this,(function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return yu(e=n.sent())?(jr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ya(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Ca=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Pr=function(t,e){var n=this;if(0===e)return fu.resolve(Zr.q);var r=new ka(e);return this.mr.In(t,(function(t){return r.hr(t.sequenceNumber)})).next((function(){return n.mr.yr(t,(function(t){return r.hr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(jr("LruGarbageCollector","Garbage collection skipped; disabled"),fu.resolve(pa)):this.pr(t).next((function(r){return r<n.params.zs?(jr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),pa):n.br(t,e)}))},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,u,a,c=this,h=Date.now();return this.Ar(t,this.params.Hs).next((function(e){return e>c.params.Js?(jr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)})).next((function(r){return n=r,s=Date.now(),c.Xi(t,n,e)})).next((function(e){return i=e,u=Date.now(),c.gr(t,n)})).next((function(t){return a=Date.now(),Ar()<=w.a.DEBUG&&jr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-h)+"ms"),fu.resolve({Ks:!0,Ws:r,js:i,Gs:t})}))},t}(),La=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new Ca(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.vr=function(t){var e=0;return this.yr(t,(function(t){e++})).next((function(){return e}))},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,(function(t,n){return e(n)}))},t.prototype.nr=function(t,e,n){return Ua(t,n)},t.prototype.ir=function(t,e,n){return Ua(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return Ua(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return Ta(t).ls((function(r){return Oa(t,r,e).next((function(t){return t&&(n=!0),fu.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],o=0;return this.Dr(t,(function(s,u){if(u<=e){var a=n.Cr(t,s).next((function(e){if(!e)return o++,r._i(t,s).next((function(){return r.li(s),xa(t).delete([0,Tu(s.path)])}))}));i.push(a)}})).next((function(){return fu.Mn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return Ua(t,e)},t.prototype.Dr=function(t,e){var n,r=xa(t),i=Zr.q;return r.hs({index:Mu.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Zr.q&&e(new ni(Nu(n)),i),i=s,n=o):i=Zr.q})).next((function(){i!==Zr.q&&e(new ni(Nu(n)),i)}))},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function Ua(t,e){return xa(t).put(function(t,e){return new Mu(0,Tu(t.path),e)}(e,t.bs))}var Ra=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return Fa(t).put(qa(e),n)},t.prototype.li=function(t,e){var n=Fa(t),r=qa(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.kr(t,r)}))},t.prototype._i=function(t,e){var n=this;return Fa(t).get(qa(e)).next((function(t){return n.Mr(t)}))},t.prototype.Lr=function(t,e){var n=this;return Fa(t).get(qa(e)).next((function(t){var e=n.Mr(t);return e?{hi:e,size:wa(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=fs();return this.Br(t,e,(function(t,e){var i=n.Mr(e);r=r.zt(t,i)})).next((function(){return r}))},t.prototype.qr=function(t,e){var n=this,r=fs(),i=new is(ni.H);return this.Br(t,e,(function(t,e){var o=n.Mr(e);o?(r=r.zt(t,o),i=i.zt(t,wa(e))):(r=r.zt(t,null),i=i.zt(t,0))})).next((function(){return{Ur:r,Qr:i}}))},t.prototype.Br=function(t,e,n){if(e.et())return fu.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return Fa(t).hs({range:r},(function(t,e,r){for(var s=ni.Et(t);o&&ni.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ce()?i.oe():null}))},t.prototype.Kr=function(t,e,n){var r=this,i=ds(),o=e.path.length+1,s={};if(n.isEqual(Kr.min())){var u=e.path.it();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.it(),c=$u(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=Uu.collectionReadTimeIndex}return Fa(t).hs(s,(function(t,n,s){if(t.length===o){var u=Ku(r.Qt,n);e.path.nt(u.key.path)?u instanceof ki&&yo(e,u)&&(i=i.zt(u.key,u)):s.done()}})).next((function(){return i}))},t.prototype.Nr=function(t){return new Va(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Ma(t).get(Ru.key).next((function(t){return kr(!!t),t}))},t.prototype.kr=function(t,e){return Ma(t).put(Ru.key,e)},t.prototype.Mr=function(t){if(t){var e=Ku(this.Qt,t);return e instanceof Pi&&e.version.isEqual(Kr.min())?null:e}return null},t}(),Va=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new ga((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Or.d)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new us((function(t,e){return Ur(t.rt(),e.rt())}));return this.ri.forEach((function(o,s){var u=e.Gr.get(o);if(s.hi){var a=Ju(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=wa(a);r+=c-u,n.push(e.jr.ai(t,o,a))}else if(r-=u,e.Wr){var h=Ju(e.jr.Qt,new Pi(o,Kr.min()),e.ci(o));n.push(e.jr.ai(t,o,h))}else n.push(e.jr.li(t,o))})),i.forEach((function(r){n.push(e.jr.Ei.qs(t,r))})),n.push(this.jr.updateMetadata(t,r)),fu.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next((function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)}))},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next((function(t){var e=t.Ur;return t.Qr.forEach((function(t,e){n.Gr.set(t,e)})),e}))},e}(ba);function Ma(t){return Wu(t,Ru.store)}function Fa(t){return Wu(t,Uu.store)}function qa(t){return t.path.it()}var Ba=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;kr(n<r&&n>=0&&r<=11);var o=new lu("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(xu.store)}(t),function(t){t.createObjectStore(Du.store,{keyPath:Du.keyPath}),t.createObjectStore(ku.store,{keyPath:ku.keyPath,autoIncrement:!0}).createIndex(ku.userMutationsIndex,ku.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Pu.store)}(t),za(t),function(t){t.createObjectStore(Uu.store)}(t));var s=fu.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Mu.store),t.deleteObjectStore(Vu.store),t.deleteObjectStore(Fu.store)}(t),za(t)),s=s.next((function(){return function(t){var e=t.store(Fu.store),n=new Fu(0,0,Kr.min().j(),0);return e.put(Fu.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(ku.store).rs().next((function(n){t.deleteObjectStore(ku.store),t.createObjectStore(ku.store,{keyPath:ku.keyPath,autoIncrement:!0}).createIndex(ku.userMutationsIndex,ku.userMutationsKeyPath,{unique:!0});var r=e.store(ku.store),i=n.map((function(t){return r.put(t)}));return fu.Mn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Bu.store,{keyPath:Bu.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.zr(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Ru.store)}(t),i.Hr(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.Jr(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Yr(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Uu.store);e.createIndex(Uu.readTimeIndex,Uu.readTimeIndexPath,{unique:!1}),e.createIndex(Uu.collectionReadTimeIndex,Uu.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Xr(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(zu.store,{keyPath:zu.keyPath})}(t),function(t){t.createObjectStore(Hu.store,{keyPath:Hu.keyPath})}(t)}))),s},t.prototype.Hr=function(t){var e=0;return t.store(Uu.store).hs((function(t,n){e+=wa(n)})).next((function(){var n=new Ru(e);return t.store(Ru.store).put(Ru.key,n)}))},t.prototype.zr=function(t){var e=this,n=t.store(Du.store),r=t.store(ku.store);return n.rs().next((function(n){return fu.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(ku.userMutationsIndex,i).next((function(r){return fu.forEach(r,(function(r){kr(r.userId===n.userId);var i=ra(e.Qt,r);return ma(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Jr=function(t){var e=t.store(Mu.store),n=t.store(Uu.store);return t.store(Fu.store).get(Fu.key).next((function(t){var r=[];return n.hs((function(n,i){var o=new $r(n),s=function(t){return[0,Tu(t)]}(o);r.push(e.get(s).next((function(n){return n?fu.resolve():function(n){return e.put(new Mu(0,Tu(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return fu.Mn(r)}))}))},t.prototype.Yr=function(t,e){t.createObjectStore(qu.store,{keyPath:qu.keyPath});var n=e.store(qu.store),r=new fa,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:Tu(i)})}};return e.store(Uu.store).hs({us:!0},(function(t,e){var n=new $r(t);return i(n.X())})).next((function(){return e.store(Pu.store).hs({us:!0},(function(t,e){var n=Nu(t[1]);return i(n.X())}))}))},t.prototype.Xr=function(t){var e=this,n=t.store(Vu.store);return n.hs((function(t,r){var i=ia(r),o=oa(e.Qt,i);return n.put(o)}))},t}();function za(t){t.createObjectStore(Mu.store,{keyPath:Mu.keyPath}).createIndex(Mu.documentTargetsIndex,Mu.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Vu.store,{keyPath:Vu.keyPath}).createIndex(Vu.queryTargetsIndexName,Vu.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Fu.store)}var Ha="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ga=function(){function t(e,n,r,i,o,s,u,a,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=u,this.eo=c,this.no=h,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new qr(Fr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new La(this,i),this.ho=n+"main",this.Qt=new Xu(a),this.lo=new du(this.ho,11,new Ba(this.Qt)),this._o=new ja(this.Ti,this.Qt),this.Ei=new la,this.fo=function(t,e){return new Ra(t,e)}(this.Qt,this.Ei),this.wo=new ua,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===h&&Nr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new qr(Fr.FAILED_PRECONDITION,Ha);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t._o.Ki(e)}))})).then((function(e){t.so=new Zr(e,t.eo)})).then((function(){t.io=!0})).catch((function(e){return t.lo&&t.lo.close(),Promise.reject(e)}))},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(Or.b)(e,void 0,void 0,(function(){return Object(Or.e)(this,(function(e){return this.Er?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn((function(n){return Object(Or.b)(e,void 0,void 0,(function(){return Object(Or.e)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps((function(){return Object(Or.b)(e,void 0,void 0,(function(){return Object(Or.e)(this,(function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Wa(e).put(new Bu(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Vo(e).next((function(e){e||(t.isPrimary=!1,t.Zr.po((function(){return t.uo(!1)})))}))})).next((function(){return t.bo(e)})).next((function(n){return t.isPrimary&&!n?t.vo(e).next((function(){return!1})):!!n&&t.So(e).next((function(){return!0}))}))})).catch((function(e){if(yu(e))return jr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return jr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Zr.po((function(){return t.uo(e)})),t.isPrimary=e}))},t.prototype.Vo=function(t){var e=this;return Qa(t).get(xu.key).next((function(t){return fu.resolve(e.Do(t))}))},t.prototype.Co=function(t){return Wa(t).delete(this.clientId)},t.prototype.xo=function(){return Object(Or.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(Or.e)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Wu(t,Bu.store);return e.rs().next((function(t){var n=r.$o(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return fu.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Fo(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,(function(){return t.To().then((function(){return t.xo()})).then((function(){return t.Ao()}))}))},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?fu.resolve(!0):Qa(t).get(xu.key).next((function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new qr(Fr.FAILED_PRECONDITION,Ha);return!1}}return!(!e.networkEnabled||!e.inForeground)||Wa(t).rs().next((function(t){return void 0===e.$o(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&jr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.ko=function(){return Object(Or.b)(this,void 0,void 0,(function(){var t=this;return Object(Or.e)(this,(function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[xu.store,Bu.store],(function(e){var n=new Qu(e,Zr.q);return t.vo(n).next((function(){return t.Co(n)}))}))];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}}))}))},t.prototype.$o=function(t,e){var n=this;return t.filter((function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)}))},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Wa(e).rs().next((function(e){return t.$o(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return Ea.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return jr("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Gu,(function(o){return r=new Qu(o,i.so?i.so.next():Zr.q),"readwrite-primary"===e?i.Vo(r).next((function(t){return!!t||i.bo(r)})).next((function(e){if(!e)throw Nr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po((function(){return i.uo(!1)})),new qr(Fr.FAILED_PRECONDITION,Iu);return n(r)})).next((function(t){return i.So(r).next((function(){return t}))})):i.jo(r).next((function(){return n(r)}))})).then((function(t){return r.Vs(),t}))},t.prototype.jo=function(t){var e=this;return Qa(t).get(xu.key).next((function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new qr(Fr.FAILED_PRECONDITION,Ha)}))},t.prototype.So=function(t){var e=new xu(this.clientId,this.allowTabSynchronization,Date.now());return Qa(t).put(xu.key,e)},t.Kn=function(){return du.Kn()},t.prototype.vo=function(t){var e=this,n=Qa(t);return n.get(xu.key).next((function(t){return e.Do(t)?(jr("IndexedDbPersistence","Releasing primary lease."),n.delete(xu.key)):fu.resolve()}))},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Nr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps((function(){return t.inForeground="visible"===t.document.visibilityState,t.To()}))},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps((function(){return e.ko()}))},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return jr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Nr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){Nr("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Qa(t){return Wu(t,xu.store)}function Wa(t){return Wu(t,Bu.store)}function Ya(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Za=function(t,e){this.progress=t,this.Go=e},Xa=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next((function(r){return n.Jo(t,e,r)}))},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t}))},t.prototype.Yo=function(t,e,n){var r=fs();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)})),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next((function(e){return n.Zo(t,e)}))},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next((function(r){var i=n.Yo(t,e,r),o=hs();return i.forEach((function(t,e){e||(e=new Pi(t,Kr.min())),o=o.zt(t,e)})),o}))},t.prototype.Kr=function(t,e,n){return function(t){return ni.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):ao(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new ni(e)).next((function(t){var e=ds();return t instanceof ki&&(e=e.zt(t.key,t)),e}))},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=ds();return this.Ei.Us(t,i).next((function(s){return fu.forEach(s,(function(s){var u=function(t,e){return new eo(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.nc(t,u,n).next((function(t){t.forEach((function(t,e){o=o.zt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next((function(n){return r=n,o.zo.Di(t,e)})).next((function(e){return o.sc(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,h=qo(a,r.get(c),o.vs);r=h instanceof ki?r.zt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){yo(e,n)||(r=r.remove(t))})),r}))},t.prototype.sc=function(t,e,n){for(var r=gs(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof Qo&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.fo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof ki&&(c=c.zt(t,e))})),c}))},t}(),Ka=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=gs(),i=gs(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Ja=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(Kr.min())?this.uc(t,e):this.ac.Xo(t,r).next((function(o){var s=i.hc(e,o);return(io(e)||oo(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):(Ar()<=w.a.DEBUG&&jr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),vo(e)),i.ac.Kr(t,e,n).next((function(t){return s.forEach((function(e){t=t.zt(e.key,e)})),t})))}))},t.prototype.hc=function(t,e){var n=new us(go(t));return e.forEach((function(e,r){r instanceof ki&&yo(t,r)&&(n=n.add(r))})),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return Ar()<=w.a.DEBUG&&jr("QueryEngine","Using full collection scan to execute query:",vo(e)),this.ac.Kr(t,e,Kr.min())},t}(),$a=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new is(Ur),this.dc=new ga((function(t){return Ri(t)}),Vi),this.wc=Kr.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new Xa(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Vr(n,e.fc)}))},t}();function tc(t,e,n,r){return new $a(t,e,n,r)}function ec(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Or.e)(this,(function(s){switch(s.label){case 0:return n=Pr(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.zo.pi(t).next((function(s){return o=s,r=n.persistence.Qo(e),i=new Xa(n.Ec,r,n.persistence.Ko()),r.pi(t)})).next((function(e){for(var n=[],r=[],s=gs(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var h=0,f=c.mutations;h<f.length;h++)s=s.add(f[h].key)}for(var l=0,d=e;l<d.length;l++){var p=d[l];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)s=s.add(y[v].key)}return i.Xo(t,s).next((function(t){return{Ic:t,mc:n,Ac:r}}))}))}))];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}}))}))}function nc(t,e){var n=Pr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=fu.resolve();return o.forEach((function(t){s=s.next((function(){return r._i(e,t)})).next((function(e){var o=e,s=n.$s.get(t);kr(null!==s),(!o||o.version._(s)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)}))})),s.next((function(){return t.zo.Ci(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.zo.$i(t)})).next((function(){return n.Tc.Xo(t,r)}))}))}function rc(t){var e=Pr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e._o.Qi(t)}))}function ic(t,e){var n=Pr(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.$e.forEach((function(e,o){var u=i.get(o);if(u){s.push(n._o.sr(t,e.Qe,o).next((function(){return n._o.er(t,e.qe,o)})));var a=e.resumeToken;if(a.l()>0){var c=u.Mt(a,r).kt(t.bs);i=i.zt(o,c),function(t,e,n){return kr(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(u,c,e)&&s.push(n._o.Hi(t,c))}}}));var u=hs();if(e.Oe.forEach((function(r,i){e.ke.has(r)&&s.push(n.persistence.Ti.Fr(t,r))})),s.push(oc(t,o,e.Oe,r,void 0).next((function(t){u=t}))),!r.isEqual(Kr.min())){var a=n._o.Qi(t).next((function(e){return n._o.Wi(t,t.bs,r)}));s.push(a)}return fu.Mn(s).next((function(){return o.apply(t)})).next((function(){return n.Tc.Zo(t,u)}))})).then((function(t){return n.fc=i,t}))}function oc(t,e,n,r,i){var o=gs();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=hs();return n.forEach((function(n,s){var u=t.get(n),a=(null==i?void 0:i.get(n))||r;s instanceof Pi&&s.version.isEqual(Kr.min())?(e.li(n,a),o=o.zt(n,s)):null==u||s.version._(u.version)>0||0===s.version._(u.version)&&u.hasPendingWrites?(e.ai(s,a),o=o.zt(n,s)):jr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",s.version)})),o}))}function sc(t,e){var n=Pr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)}))}function uc(t,e){var n=Pr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n._o.tr(t,e).next((function(i){return i?fu.resolve(r=i):n._o.Bi(t).next((function(i){return r=new mo(e,i,0,t.bs),n._o.ji(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t}))}function ac(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Or.e)(this,(function(u){switch(u.label){case 0:r=Pr(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ti.removeTarget(t,i)}))];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!yu(s=u.sent()))throw s;return jr("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}}))}))}function cc(t,e,n){var r=Pr(t),i=Kr.min(),o=gs();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Pr(t),i=r.dc.get(n);return void 0!==i?fu.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,ho(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r._c.Kr(t,e,n?i:Kr.min(),n?o:gs())})).next((function(t){return{documents:t,Rc:o}}))}))}function hc(t,e){var n=Pr(t),r=Pr(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Sn(t,e).next((function(t){return t?t.target:null}))}))}function fc(t){var e=Pr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Pr(t),i=hs(),o=$u(n),s=Fa(e),u=IDBKeyRange.lowerBound(o,!0);return s.hs({index:Uu.readTimeIndex,range:u},(function(t,e){var n=Ku(r.Qt,e);i=i.zt(n.key,n),o=e.readTime})).next((function(){return{Go:i,readTime:ta(o)}}))}(e.Ec,t,e.wc)})).then((function(t){var n=t.Go;return e.wc=t.readTime,n}))}function lc(t){return Object(Or.b)(this,void 0,void 0,(function(){var e;return Object(Or.e)(this,(function(n){return[2,(e=Pr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Fa(t),n=Kr.min();return e.hs({index:Uu.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=ta(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.wc=t}))]}))}))}function dc(t,e,n,r){return Object(Or.b)(this,void 0,void 0,(function(){var i,o,s,u,a,c,h,f,l,d;return Object(Or.e)(this,(function(p){switch(p.label){case 0:for(i=Pr(t),o=gs(),s=hs(),u=vs(),a=0,c=n;a<c.length;a++)f=e.Pc((h=c[a]).metadata.name),h.document&&(o=o.add(f)),s=s.zt(f,e.yc(h)),u=u.zt(f,e.gc(h.metadata.readTime));return l=i.Ec.Nr({Wr:!0}),[4,uc(i,function(t){return ho(ro($r.ot("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return oc(t,l,s,Kr.min(),u).next((function(e){return l.apply(t),e})).next((function(e){return i._o.Yi(t,d.targetId).next((function(){return i._o.er(t,o,d.targetId)})).next((function(){return i.Tc.Zo(t,e)}))}))}))]}}))}))}function pc(t,e,n){return void 0===n&&(n=gs()),Object(Or.b)(this,void 0,void 0,(function(){var r,i;return Object(Or.e)(this,(function(o){switch(o.label){case 0:return[4,uc(t,ho(sa(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Pr(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Vs(e.readTime);if(r.Ot._(o)>=0)return i.wo.Ls(t,e);var s=r.Mt(Mr.T,o);return i.fc=i.fc.zt(s.targetId,s),i._o.Hi(t,s).next((function(){return i._o.Yi(t,r.targetId)})).next((function(){return i._o.er(t,n,r.targetId)})).next((function(){return i.wo.Ls(t,e)}))}))]}}))}))}var vc=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return fu.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:Vs(n.createTime)}),fu.resolve()},t.prototype.Ms=function(t,e){return fu.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:sa(t.bundledQuery),readTime:Vs(t.readTime)}}(e)),fu.resolve()},t}(),yc=function(){function t(){this.vc=new us(gc.Sc),this.Dc=new us(gc.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new gc(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach((function(t){return n.nr(t,e)}))},t.prototype.ir=function(t,e){this.Nc(new gc(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},t.prototype.Fc=function(t){var e=this,n=new ni(new $r([])),r=new gc(n,t),i=new gc(n,t+1),o=[];return this.Dc.me([r,i],(function(t){e.Nc(t),o.push(t.key)})),o},t.prototype.Oc=function(){var t=this;this.vc.forEach((function(e){return t.Nc(e)}))},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new ni(new $r([])),n=new gc(e,t),r=new gc(e,t+1),i=gs();return this.Dc.me([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Fi=function(t){var e=new gc(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),gc=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return ni.H(t.key,e.key)||Ur(t.Mc,e.Mc)},t.Cc=function(t,e){return Ur(t.Mc,e.Mc)||ni.H(t.key,e.key)},t}(),bc=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new us(gc.Sc)}return t.prototype.Ai=function(t){return fu.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++;var o=new Yu(i,e,n,r);this.zo.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.Bc=this.Bc.add(new gc(a.key,i)),this.Ei.qs(t,a.key.path.X())}return fu.resolve(o)},t.prototype.Pi=function(t,e){return fu.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return fu.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return fu.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return fu.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new gc(e,0),i=new gc(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],(function(t){var e=n.qc(t.Mc);o.push(e)})),fu.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new us(Ur);return e.forEach((function(t){var e=new gc(t,0),i=new gc(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],(function(t){r=r.add(t.Mc)}))})),fu.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;ni.wt(i)||(i=i.child(""));var o=new gc(new ni(i),0),s=new us(Ur);return this.Bc.Ae((function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Mc)),!0)}),o),fu.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.qc(t);null!==r&&n.push(r)})),n},t.prototype.Ci=function(t,e){var n=this;kr(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return fu.forEach(e.mutations,(function(i){var o=new gc(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)})).next((function(){n.Bc=r}))},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new gc(e,0),r=this.Bc.Re(n);return fu.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return fu.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),mc=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new is(ni.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return fu.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=fs();return e.forEach((function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)})),fu.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=ds(),i=new ni(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),u=s.value,a=u.hi,c=u.readTime;if(!e.path.nt(s.key.path))break;c._(n)<=0||a instanceof ki&&yo(e,a)&&(r=r.zt(a.key,a))}return fu.resolve(r)},t.prototype.jc=function(t,e){return fu.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Nr=function(t){return new wc(this)},t.prototype.Or=function(t){return fu.resolve(this.size)},t}(),wc=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(Or.d)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach((function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)})),fu.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(ba),Ec=function(){function t(t){this.persistence=t,this.Gc=new ga((function(t){return Ri(t)}),Vi),this.lastRemoteSnapshotVersion=Kr.min(),this.highestTargetId=0,this.zc=0,this.Hc=new yc,this.targetCount=0,this.Jc=Aa.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach((function(t,n){return e(n)})),fu.resolve()},t.prototype.Qi=function(t){return fu.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return fu.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),fu.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),fu.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new Aa(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,fu.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),fu.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,fu.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach((function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,u.targetId)),i++)})),fu.Mn(o).next((function(){return i}))},t.prototype.Zi=function(t){return fu.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return fu.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),fu.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach((function(e){i.push(r.Ni(t,e))})),fu.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),fu.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return fu.resolve(n)},t.prototype.Fi=function(t,e){return fu.resolve(this.Hc.Fi(e))},t}(),Oc=function(){function t(t,e){var n=this;this.Yc={},this.so=new Zr(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new Ec(this),this.Ei=new ha,this.fo=function(t,e){return new mc(t,(function(t){return n.Ti.Xc(t)}))}(this.Ei),this.Qt=new Xu(e),this.wo=new vc(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new bc(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;jr("MemoryPersistence","Starting transaction:",t);var i=new Ic(this.so.next());return this.Ti.Zc(),n(i).next((function(t){return r.Ti.ta(i).next((function(){return t}))})).On().then((function(t){return i.Vs(),t}))},t.prototype.ea=function(t,e){return fu.Ln(Object.values(this.Yc).map((function(n){return function(){return n.Fi(t,e)}})))},t}(),Ic=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(Or.d)(e,t),e}(_u),_c=function(){function t(t){this.persistence=t,this.na=new yc,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw Dr()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),fu.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),fu.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),fu.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach((function(t){return n.ra.add(t.toString())}));var r=this.persistence.Sr();return r.rr(t,e.targetId).next((function(t){t.forEach((function(t){return n.ra.add(t.toString())}))})).next((function(){return r.Ji(t,e)}))},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return fu.forEach(this.ra,(function(r){var i=ni._t(r);return e.oa(t,i).next((function(t){t||n.li(i)}))})).next((function(){return e.sa=null,n.apply(t)}))},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next((function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())}))},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return fu.Ln([function(){return fu.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function Tc(t,e){return"firestore_clients_"+t+"_"+e}function Ac(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function jc(t,e){return"firestore_targets_"+t+"_"+e}var Nc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new qr(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Nr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Sc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new qr(i.error.code,i.error.message)),o?new t(e,i.state,r):(Nr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),xc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ms(),s=0;i&&s<r.activeTargetIds.length;++s)i=vi(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Nr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Dc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Nr("SharedClientState","Failed to parse online state: "+e),null)},t}(),kc=function(){function t(){this.activeTargetIds=ms()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Pc=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new is(Ur),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=Tc(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new kc),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Or.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,u,a,c,h=this;return Object(Or.e)(this,(function(f){switch(f.label){case 0:return[4,this._a.Uo()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(Tc(this.persistenceKey,r)))&&(o=xc.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(u=this.pa(s))&&this.ba(u),a=0,c=this.Ta;a<c.length;a++)this.wa(c[a]);return this.Ta=[],this.window.addEventListener("unload",(function(){return h.ko()})),this.Er=!0,[2]}}))}))},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(jc(this.persistenceKey,t));if(n){var r=Sc.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(jc(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach((function(t){r.$a(t)})),this.currentUser=t,n.forEach((function(t){r.Ca(t)}))},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return jr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){jr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){jr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(jr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void Nr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po((function(){return Object(Or.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(Or.e)(this,(function(u){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=Zr.q;if(null!=t)try{var n=JSON.parse(t);kr("number"==typeof n),e=n}catch(t){Nr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Zr.q&&this.k(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new Nc(this.currentUser,t,e,n),i=Ac(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=Ac(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=jc(this.persistenceKey,t),i=new Sc(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return xc.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return Nc.ca(new zr(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Sc.ca(r,e)},t.prototype.pa=function(t){return Dc.ca(t)},t.prototype.Ya=function(t){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.e)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(jr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],u=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||u.push(t)})),this._a.su(s,u).then((function(){n.Ea=r}))},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=ms();return t.forEach((function(t,n){e=e.Pe(n.activeTargetIds)})),e},t}(),Cc=function(){function t(){this.iu=new kc,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new kc,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),Lc=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),Uc=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){jr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){jr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Rc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Vc=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),Mc=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Or.d)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise((function(i,o){var s=new Er;s.listenOnce(br.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case gr.NO_ERROR:var e=s.getResponseJson();jr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case gr.TIMEOUT:jr("Connection",'RPC "'+t+'" timed out'),o(new qr(Fr.DEADLINE_EXCEEDED,"Request time out"));break;case gr.HTTP_ERROR:var n=s.getStatus();if(jr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Fr).indexOf(e)>=0?e:Fr.UNKNOWN}(r.status);o(new qr(u,r.message))}else o(new qr(Fr.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new qr(Fr.UNAVAILABLE,"Connection failed."));break;default:Dr()}}finally{jr("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);s.send(e,"POST",u,n,15)}))},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new lr,i=pe(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(o.initMessageHeaders,e),Object(E.l)()||Object(E.n)()||Object(E.j)()||Object(E.k)()||Object(E.o)()||Object(E.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");jr("Connection","Creating WebChannel: "+s,o);var u=r.createWebChannel(s,o),a=!1,c=!1,h=new Vc({fu:function(t){c?jr("Connection","Not sending because WebChannel is closed:",t):(a||(jr("Connection","Opening WebChannel transport."),u.open(),a=!0),jr("Connection","WebChannel sending:",t),u.send(t))},du:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,wr.EventType.OPEN,(function(){c||jr("Connection","WebChannel transport opened.")})),f(u,wr.EventType.CLOSE,(function(){c||(c=!0,jr("Connection","WebChannel transport closed"),h.Ru())})),f(u,wr.EventType.ERROR,(function(t){c||(c=!0,Sr("Connection","WebChannel transport errored:",t),h.Ru(new qr(Fr.UNAVAILABLE,"The operation could not be completed")))})),f(u,wr.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];kr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){jr("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Ko[t];if(void 0!==e)return rs(e)}(i),s=r.message;void 0===o&&(o=Fr.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,h.Ru(new qr(o,s)),u.close()}else jr("Connection","WebChannel received:",n),h.Pu(n)}})),f(i,mr.STAT_EVENT,(function(t){10===t.stat?jr("Connection","Detected buffering proxy"):11===t.stat&&jr("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Au()}),0),h},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);jr("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then((function(t){return jr("RestConnection","Received: ",t),t}),(function(e){throw Sr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.9",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+Rc[t]},t}());function Fc(){return"undefined"!=typeof window?window:null}function qc(){return"undefined"!=typeof document?document:null}function Bc(t){return new Cs(t,!0)}var zc=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&jr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,(function(){return e.ku=Date.now(),t()})),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),Hc=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new zc(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.e)(this,(function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,(function(){return t.Zu()})))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.e)(this,(function(t){return this.Hu()?[2,this.close(0)]:[2]}))}))},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.e)(this,(function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===Fr.RESOURCE_EXHAUSTED?(Nr(e.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===Fr.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then((function(e){t.Wu===n&&t.ih(e)}),(function(n){e((function(){var e=new qr(Fr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)}))}))},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu((function(){n((function(){return e.state=2,e.listener.wu()}))})),this.stream.Tu((function(t){n((function(){return e.rh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu((function(){return Object(Or.b)(t,void 0,void 0,(function(){return Object(Or.e)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.rh=function(t){return jr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps((function(){return e.Wu===t?n():(jr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Gc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return Object(Or.d)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Dr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(kr(void 0===e||"string"==typeof e),Mr.fromBase64String(e||"")):(kr(void 0===e||e instanceof Uint8Array),Mr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?Fr.UNKNOWN:rs(t.code);return new qr(e,t.message||"")}(u);n=new js(r,i,o,s||null)}else if("documentChange"in e){i=Bs(t,(r=e.documentChange).document.name),o=Vs(r.document.updateTime);var u=new Ni({mapValue:{fields:r.document.fields}}),a=(s=new ki(i,o,u,{}),r.targetIds||[]);n=new Ts(a,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Bs(t,(r=e.documentDelete).document),o=r.readTime?Vs(r.readTime):Kr.min(),u=new Pi(i,o),n=new Ts([],s=r.removedTargetIds||[],u.key,u);else if("documentRemove"in e)i=Bs(t,(r=e.documentRemove).document),n=new Ts([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Dr();var c=e.filter;i=new es(r=c.count||0),n=new As(o=c.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return Kr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Kr.min():e.readTime?Vs(e.readTime):Kr.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=Gs(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=Mi(r)?{documents:Ks(t,r)}:{query:Js(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=Us(t,e.resumeToken):e.Ot._(Kr.min())>0&&(n.readTime=Ls(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dr()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=Gs(this.Qt),e.removeTarget=t,this.th(e)},e}(Hc),Qc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return Object(Or.d)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(kr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(kr(void 0!==e),t.map((function(t){return function(t,e){var n=Vs(t.updateTime?t.updateTime:e);n.isEqual(Kr.min())&&(n=Vs(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Uo(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Vs(t.commitTime);return this.listener.dh(n,e)}return kr(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=Gs(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Zs(e.Qt,t)}))};this.th(n)},e}(Hc),Wc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(Or.d)(e,t),e.prototype.Ih=function(){if(this.Th)throw new qr(Fr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.pu(t,e,n,i)})).catch((function(t){throw t.code===Fr.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.Du(t,e,n,i)})).catch((function(t){throw t.code===Fr.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.terminate=function(){this.Th=!1},e}((function(){})),Yc=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,(function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()})))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(Nr(e),this.Rh=!1):jr("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),Zc=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou((function(t){n.Ps((function(){return Object(Or.b)(o,void 0,void 0,(function(){return Object(Or.e)(this,(function(t){switch(t.label){case 0:return ih(this)?(jr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Or.b)(this,void 0,void 0,(function(){var e;return Object(Or.e)(this,(function(n){switch(n.label){case 0:return(e=Pr(t)).Nh.add(4),[4,Kc(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,Xc(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Oh=new Yc(n,r)};function Xc(t){return Object(Or.b)(this,void 0,void 0,(function(){var e,n;return Object(Or.e)(this,(function(r){switch(r.label){case 0:if(!ih(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Kc(t){return Object(Or.b)(this,void 0,void 0,(function(){var e,n;return Object(Or.e)(this,(function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Jc(t,e){var n=Pr(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),rh(n)?nh(n):mh(n).Hu()&&th(n,e))}function $c(t,e){var n=Pr(t),r=mh(n);n.xh.delete(e),r.Hu()&&eh(n,e),0===n.xh.size&&(r.Hu()?r.Xu():ih(n)&&n.Oh.set("Unknown"))}function th(t,e){t.kh.on(e.targetId),mh(t).uh(e)}function eh(t,e){t.kh.on(e),mh(t).hh(e)}function nh(t){t.kh=new Ss({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),mh(t).start(),t.Oh.Ph()}function rh(t){return ih(t)&&!mh(t).zu()&&t.xh.size>0}function ih(t){return 0===Pr(t).Nh.size}function oh(t){t.kh=void 0}function sh(t){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.e)(this,(function(e){return t.xh.forEach((function(e,n){th(t,e)})),[2]}))}))}function uh(t,e){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.e)(this,(function(n){return oh(t),rh(t)?(t.Oh.Vh(e),nh(t)):t.Oh.set("Unknown"),[2]}))}))}function ah(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r,i,o;return Object(Or.e)(this,(function(s){switch(s.label){case 0:if(t.Oh.set("Online"),!(e instanceof js&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Or.e)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.xh.has(o=i[r])?[4,t.Dh.Mh(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.xh.delete(o),t.kh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),jr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,ch(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ts?t.kh.dn(e):e instanceof As?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(Kr.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,rc(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach((function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}})),n.Fe.forEach((function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt(Mr.T,n.Ot)),eh(t,e);var r=new mo(n.target,e,1,n.sequenceNumber);th(t,r)}})),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return jr("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,ch(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function ch(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r=this;return Object(Or.e)(this,(function(i){switch(i.label){case 0:if(!yu(e))throw e;return t.Nh.add(1),[4,Kc(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return rc(t.bh)}),t._s.po((function(){return Object(Or.b)(r,void 0,void 0,(function(){return Object(Or.e)(this,(function(e){switch(e.label){case 0:return jr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,Xc(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function hh(t,e){return e().catch((function(n){return ch(t,n,e)}))}function fh(t){return Object(Or.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(Or.e)(this,(function(s){switch(s.label){case 0:e=Pr(t),n=wh(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return ih(t)&&t.Ch.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,sc(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=wh(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,ch(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return lh(e)&&dh(e),[2]}}))}))}function lh(t){return ih(t)&&!wh(t).zu()&&t.Ch.length>0}function dh(t){wh(t).start()}function ph(t){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.e)(this,(function(e){return wh(t).Eh(),[2]}))}))}function vh(t){return Object(Or.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Or.e)(this,(function(i){for(e=wh(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]}))}))}function yh(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r,i;return Object(Or.e)(this,(function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=Zu.from(r,e,n),[4,hh(t,(function(){return t.Dh.Bh(i)}))];case 1:return o.sent(),[4,fh(t)];case 2:return o.sent(),[2]}}))}))}function gh(t,e){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.e)(this,(function(n){switch(n.label){case 0:return e&&wh(t)._h?[4,function(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r;return Object(Or.e)(this,(function(i){switch(i.label){case 0:return ns(r=e.code)&&r!==Fr.ABORTED?(n=t.Ch.shift(),wh(t).Yu(),[4,hh(t,(function(){return t.Dh.qh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,fh(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return lh(t)&&dh(t),[2]}}))}))}function bh(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n;return Object(Or.e)(this,(function(r){switch(r.label){case 0:return n=Pr(t),e?(n.Nh.delete(2),[4,Xc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,Kc(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function mh(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=Pr(t);return r.Ih(),new Gc(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:sh.bind(null,t),Tu:uh.bind(null,t),ah:ah.bind(null,t)}),t.$h.push((function(n){return Object(Or.b)(e,void 0,void 0,(function(){return Object(Or.e)(this,(function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),rh(t)?nh(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),oh(t),e.label=3;case 3:return[2]}}))}))}))),t.Uh}function wh(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Pr(t);return r.Ih(),new Qc(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:ph.bind(null,t),Tu:gh.bind(null,t),wh:vh.bind(null,t),dh:yh.bind(null,t)}),t.$h.push((function(n){return Object(Or.b)(e,void 0,void 0,(function(){return Object(Or.e)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,fh(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(jr("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qh}var Eh=function(){this.Kh=void 0,this.listeners=[]},Oh=function(){this.queries=new ga((function(t){return po(t)}),lo),this.onlineState="Unknown",this.Wh=new Set};function Ih(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u,a;return Object(Or.e)(this,(function(c){switch(c.label){case 0:if(n=Pr(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Eh),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return u=c.sent(),a=Ou(u,"Initialization of query '"+vo(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&jh(n),[2]}}))}))}function _h(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Or.e)(this,(function(u){return n=Pr(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]}))}))}function Th(t,e){for(var n=Pr(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=n.queries.get(s.query);if(u){for(var a=0,c=u.listeners;a<c.length;a++)c[a].zh(s)&&(r=!0);u.Kh=s}}r&&jh(n)}function Ah(t,e,n){var r=Pr(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function jh(t){t.Wh.forEach((function(t){t.next()}))}var Nh=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Os(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=Os.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),Sh=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),xh=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return Bs(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?Ys(this.Qt,t.document,!1):new Pi(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return Vs(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new xh(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Pc(o.metadata.name),u=0,a=o.metadata.queries;u<a.length;u++){var c=a[u],h=(e.get(c)||gs()).add(s);e.set(c,h)}}return e},t.prototype.complete=function(){return Object(Or.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(Or.e)(this,(function(o){switch(o.label){case 0:return[4,dc(this.bh,new xh(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,pc(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Za(Object.assign({},this.progress),t))]}}))}))}}();var Dh=function(t){this.key=t},kh=function(t){this.key=t},Ph=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=gs(),this.De=gs(),this.hl=go(t),this.ll=new ws(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new Es,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,u=!1,a=io(this.query)&&i.size===this.query.limit?i.last():null,c=oo(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt((function(t,e){var h=i.get(t),f=e instanceof ki?e:null;f&&(f=yo(n.query,f)?f:null);var l=!!h&&n.De.has(h.key),d=!!f&&(f.Vt||n.De.has(f.key)&&f.hasCommittedMutations),p=!1;h&&f?h.data().isEqual(f.data())?l!==d&&(r.track({type:3,doc:f}),p=!0):n.wl(h,f)||(r.track({type:2,doc:f}),p=!0,(a&&n.hl(f,a)>0||c&&n.hl(f,c)<0)&&(u=!0)):!h&&f?(r.track({type:0,doc:f}),p=!0):h&&!f&&(r.track({type:1,doc:h}),p=!0,(a||c)&&(u=!0)),p&&(f?(s=s.add(f),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),io(this.query)||oo(this.query))for(;s.size>this.query.limit;){var h=io(this.query)?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{ll:s,dl:r,lc:u,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dr()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)})),this.El(n);var s=e?this.Tl():[],u=0===this.ul.size&&this.Be?1:0,a=u!==this.al;return this.al=u,0!==o.length||a?{snapshot:new Os(this.query,t.ll,i,o,t.De,0===u,a,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new Es,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach((function(t){return e.cl=e.cl.add(t)})),t.Ue.forEach((function(t){})),t.Qe.forEach((function(t){return e.cl=e.cl.delete(t)})),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=gs(),this.ll.forEach((function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))}));var n=[];return e.forEach((function(e){t.ul.has(e)||n.push(new kh(e))})),this.ul.forEach((function(t){e.has(t)||n.push(new Dh(t))})),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=gs();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return Os.Ne(this.query,this.ll,this.De,0===this.al)},t}(),Ch=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Lh=function(t){this.key=t,this.Pl=!1},Uh=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new ga((function(t){return po(t)}),lo),this.Sl=new Map,this.Dl=new Set,this.Cl=new is(ni.H),this.xl=new Map,this.Nl=new yc,this.$l={},this.Fl=new Map,this.Ol=Aa.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function Rh(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Or.e)(this,(function(u){switch(u.label){case 0:return n=df(t),(i=n.vl.get(e))?(n.Vl.Fa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,uc(n.bh,ho(e))];case 2:return o=u.sent(),s=n.Vl.Fa(o.targetId),[4,Vh(n,e,o.targetId,"current"===s)];case 3:r=u.sent(),n.Ml&&Jc(n.yl,o),u.label=4;case 4:return[2,r]}}))}))}function Vh(t,e,n,r){return Object(Or.b)(this,void 0,void 0,(function(){var i,o,s,u,a,c;return Object(Or.e)(this,(function(h){switch(h.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return Object(Or.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Or.e)(this,(function(u){switch(u.label){case 0:return(i=e.view.fl(n)).lc?[4,cc(t.bh,e.query,!1).then((function(t){return e.view.fl(t.documents,i)}))]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.$e.get(e.targetId),s=e.view.wi(i,t.Ml,o),[2,(Kh(t,e.targetId,s.Il),s.snapshot)]}}))}))}(t,e,n,r)},[4,cc(t.bh,e,!0)];case 1:return i=h.sent(),o=new Ph(e,i.Rc),s=o.fl(i.documents),u=_s.Le(n,r&&"Offline"!==t.onlineState),a=o.wi(s,t.Ml,u),Kh(t,n,a.Il),c=new Ch(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),a.snapshot)]}}))}))}function Mh(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Or.e)(this,(function(o){switch(o.label){case 0:return n=Pr(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter((function(t){return!lo(t,e)}))),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,ac(n.bh,r.targetId,!1).then((function(){n.Vl.La(r.targetId),$c(n.yl,r.targetId),Zh(n,r.targetId)})).catch(ya)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Zh(n,r.targetId),[4,ac(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Fh(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Or.e)(this,(function(u){switch(u.label){case 0:r=pf(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=Pr(t),i=Xr.now(),o=e.reduce((function(t,e){return t.add(e.key)}),gs());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Tc.Xo(t,o).next((function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],h=Bo(c,n.get(c.key));null!=h&&s.push(new Qo(c.key,h,xi(h.proto.mapValue),Ro.exists(!0)))}return r.zo.Ri(t,i,s,e)}))})).then((function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}}))}(r.bh,e)];case 2:return i=u.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new is(Ur)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,tf(r,i.ri)];case 3:return u.sent(),[4,fh(r.yl)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=Ou(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function qh(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r;return Object(Or.e)(this,(function(i){switch(i.label){case 0:n=Pr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ic(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach((function(t,e){var r=n.xl.get(e);r&&(kr(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?kr(r.Pl):t.Qe.size>0&&(kr(r.Pl),r.Pl=!1))})),[4,tf(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ya(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Bh(t,e,n){var r=Pr(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach((function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Pr(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)})),r&&jh(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function zh(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r,i,o,s,u,a;return Object(Or.e)(this,(function(c){switch(c.label){case 0:return(r=Pr(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new is(ni.H)).zt(o,new Pi(o,Kr.min())),u=gs().add(o),a=new Is(Kr.min(),new Map,new us(Ur),s,u),[4,qh(r,a)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),$h(r),[3,4];case 2:return[4,ac(r.bh,e,!1).then((function(){return Zh(r,e,n)})).catch(ya)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Hh(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Or.e)(this,(function(o){switch(o.label){case 0:n=Pr(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,nc(n.bh,e)];case 2:return i=o.sent(),Yh(n,r,null),Wh(n,r),n.Vl.Na(r,"acknowledged"),[4,tf(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ya(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Gh(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r,i;return Object(Or.e)(this,(function(o){switch(o.label){case 0:r=Pr(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Pr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.zo.Pi(t,e).next((function(e){return kr(null!==e),r=e.keys(),n.zo.Ci(t,e)})).next((function(){return n.zo.$i(t)})).next((function(){return n.Tc.Xo(t,r)}))}))}(r.bh,e)];case 2:return i=o.sent(),Yh(r,e,n),Wh(r,e),r.Vl.Na(e,"rejected",n),[4,tf(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ya(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Qh(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Or.e)(this,(function(u){switch(u.label){case 0:ih((n=Pr(t)).yl)||jr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=Pr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.zo.Vi(t)}))}(n.bh)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return o=u.sent(),s=Ou(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Wh(t,e){(t.Fl.get(e)||[]).forEach((function(t){t.resolve()})),t.Fl.delete(e)}function Yh(t,e,n){var r=Pr(t),i=r.$l[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function Zh(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach((function(e){t.Nl.Fi(e)||Xh(t,e)}))}function Xh(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&($c(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),$h(t))}function Kh(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Dh?(t.Nl.nr(o.key,e),Jh(t,o)):o instanceof kh?(jr("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Fi(o.key)||Xh(t,o.key)):Dr()}}function Jh(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(jr("SyncEngine","New document in limbo: "+n),t.Dl.add(r),$h(t))}function $h(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new ni($r.ot(e)),r=t.Ol.next();t.xl.set(r,new Lh(n)),t.Cl=t.Cl.zt(n,r),Jc(t.yl,new mo(ho(ro(n.path)),r,2,Zr.q))}}function tf(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Or.e)(this,(function(u){switch(u.label){case 0:return r=Pr(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach((function(t,u){s.push(r.Ll(u,e,n).then((function(t){if(t){r.Ml&&r.Vl.Ba(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Ka.oc(u.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),r.bl.ah(i),[4,function(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u,a,c;return Object(Or.e)(this,(function(h){switch(h.label){case 0:n=Pr(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return fu.forEach(e,(function(e){return fu.forEach(e.ic,(function(r){return n.persistence.Ti.nr(t,e.targetId,r)})).next((function(){return fu.forEach(e.rc,(function(r){return n.persistence.Ti.ir(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!yu(r=h.sent()))throw r;return jr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=(s=o[i]).targetId,s.fromCache||(a=n.fc.get(u),c=a.Lt(a.Ot),n.fc=n.fc.zt(u,c));return[2]}}))}))}(r.bh,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function ef(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r;return Object(Or.e)(this,(function(i){switch(i.label){case 0:return(n=Pr(t)).currentUser.isEqual(e)?[3,3]:(jr("SyncEngine","User change. New user:",e.A()),[4,ec(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach((function(t){t.forEach((function(t){t.reject(new qr(Fr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,tf(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function nf(t,e){var n=Pr(t),r=n.xl.get(e);if(r&&r.Pl)return gs().add(r.key);var i=gs(),o=n.Sl.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=n.vl.get(u[s]);i=i.Pe(a.view._l)}return i}function rf(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Or.e)(this,(function(o){switch(o.label){case 0:return[4,cc((n=Pr(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ml&&Kh(n,e.targetId,i.Il),i)]}}))}))}function of(t){return Object(Or.b)(this,void 0,void 0,(function(){var e;return Object(Or.e)(this,(function(n){return[2,fc((e=Pr(t)).bh).then((function(t){return tf(e,t)}))]}))}))}function sf(t,e,n,r){return Object(Or.b)(this,void 0,void 0,(function(){var i,o;return Object(Or.e)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=Pr(t),r=Pr(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.yi(t,e).next((function(e){return e?n.Tc.Xo(t,e):fu.resolve(null)}))}))}((i=Pr(t)).bh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,fh(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Yh(i,e,r||null),Wh(i,e),function(t,e){Pr(Pr(t).zo).xi(e)}(i.bh,e)):Dr(),s.label=4;case 4:return[4,tf(i,o)];case 5:return s.sent(),[3,7];case 6:jr("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function uf(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u,a;return Object(Or.e)(this,(function(c){switch(c.label){case 0:return df(n=Pr(t)),pf(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,af(n,r.it())]);case 1:return i=c.sent(),n.kl=!0,[4,bh(n.yl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Jc(n.yl,s[o]);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(u=[],a=Promise.resolve(),n.Sl.forEach((function(t,e){n.Vl.Ma(e)?u.push(e):a=a.then((function(){return Zh(n,e),ac(n.bh,e,!0)})),$c(n.yl,e)})),[4,a]);case 4:return c.sent(),[4,af(n,u)];case 5:return c.sent(),function(t){var e=Pr(t);e.xl.forEach((function(t,n){$c(e.yl,n)})),e.Nl.Oc(),e.xl=new Map,e.Cl=new is(ni.H)}(n),n.kl=!1,[4,bh(n.yl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function af(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u,a,c,h,f,l,d,p;return Object(Or.e)(this,(function(v){switch(v.label){case 0:n=Pr(t),r=[],i=[],o=0,s=e,v.label=1;case 1:return o<s.length?(a=void 0,(c=n.Sl.get(u=s[o]))&&0!==c.length?[4,uc(n.bh,ho(c[0]))]:[3,7]):[3,13];case 2:a=v.sent(),h=0,f=c,v.label=3;case 3:return h<f.length?(l=n.vl.get(f[h]),[4,rf(n,l)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,hc(n.bh,u)];case 8:return p=v.sent(),[4,uc(n.bh,p)];case 9:return a=v.sent(),[4,Vh(n,cf(p),u,!1)];case 10:v.sent(),v.label=11;case 11:r.push(a),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}}))}))}function cf(t){return no(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function hf(t){var e=Pr(t);return Pr(Pr(e.bh).persistence).Uo()}function ff(t,e,n,r){return Object(Or.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Or.e)(this,(function(u){switch(u.label){case 0:return(i=Pr(t)).kl?(jr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,fc(i.bh)];case 3:return o=u.sent(),s=Is.Me(e,"current"===n),[4,tf(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,ac(i.bh,e,!0)];case 6:return u.sent(),Zh(i,e,r),[3,8];case 7:Dr(),u.label=8;case 8:return[2]}}))}))}function lf(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r,i,o,s,u,a,c,h,f;return Object(Or.e)(this,(function(l){switch(l.label){case 0:if(!(r=df(t)).kl)return[3,10];i=0,o=e,l.label=1;case 1:return i<o.length?r.Sl.has(s=o[i])?(jr("SyncEngine","Adding an already active target "+s),[3,5]):[4,hc(r.bh,s)]:[3,6];case 2:return u=l.sent(),[4,uc(r.bh,u)];case 3:return a=l.sent(),[4,Vh(r,cf(u),a.targetId,!1)];case 4:l.sent(),Jc(r.yl,a),l.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Or.e)(this,(function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,ac(r.bh,t,!1).then((function(){$c(r.yl,t),Zh(r,t)})).catch(ya)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,l.label=7;case 7:return h<f.length?[5,c(f[h])]:[3,10];case 8:l.sent(),l.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function df(t){var e=Pr(t);return e.yl.Dh.Lh=qh.bind(null,e),e.yl.Dh.vn=nf.bind(null,e),e.yl.Dh.Mh=zh.bind(null,e),e.bl.ah=Th.bind(null,e.gl),e.bl.Bl=Ah.bind(null,e.gl),e}function pf(t){var e=Pr(t);return e.yl.Dh.Bh=Hh.bind(null,e),e.yl.Dh.qh=Gh.bind(null,e),e}var vf=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.e)(this,(function(e){switch(e.label){case 0:return this.Qt=Bc(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}}))}))},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return tc(this.persistence,new Ja,t.Jl,this.Qt)},t.prototype.jl=function(t){return new Oc(_c.ia,this.Qt)},t.prototype.Wl=function(t){return new Cc},t.prototype.terminate=function(){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.e)(this,(function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}}))}))},t}(),yf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Or.d)(e,t),e.prototype.initialize=function(e){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.e)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,lc(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,pf(this.Yl._a)];case 4:return n.sent(),[4,fh(this.Yl.yl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Hl=function(t){return tc(this.persistence,new Ja,t.Jl,this.Qt)},e.prototype.zl=function(t){return new Pa(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=Ya(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?va.Ys(this.cacheSizeBytes):va.ti;return new Ga(this.synchronizeTabs,e,t.clientId,n,t._s,Fc(),qc(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Cc},e}(vf),gf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Or.d)(e,t),e.prototype.initialize=function(e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Or.e)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof Pc?(this.Vl._a={eu:sf.bind(null,n),nu:ff.bind(null,n),su:lf.bind(null,n),Uo:hf.bind(null,n),tu:of.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro((function(t){return Object(Or.b)(r,void 0,void 0,(function(){return Object(Or.e)(this,(function(e){switch(e.label){case 0:return[4,uf(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=Fc();if(!Pc.Kn(e))throw new qr(Fr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ya(t.yu.t,t.yu.persistenceKey);return new Pc(e,t._s,n,t.clientId,t.Jl)},e}(yf),bf=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n=this;return Object(Or.e)(this,(function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return Bh(n._a,t,1)},this.yl.Dh.n_=ef.bind(null,this._a),[4,bh(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.t_=function(t){return new Oh},t.prototype.Xl=function(t){var e=Bc(t.yu.t),n=new Mc(t.yu);return function(t,e,n){return new Wc(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return Bh(s._a,t,0)},o=Uc.Kn()?new Uc:new Lc,new Zc(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,s){var u=new Uh(t,e,n,r,i,o);return s&&(u.kl=!0),u}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(Or.b)(this,void 0,void 0,(function(){var e;return Object(Or.e)(this,(function(n){switch(n.label){case 0:return e=Pr(t),jr("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,Kc(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}}))}))}(this.yl)},t}(),mf=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),wf=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new hu,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then((function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.e)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Ql=function(){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.e)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}}))}))},t.prototype.c_=function(){return Object(Or.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(Or.e)(this,(function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new Sh(JSON.parse(r),t.length+n)]}}))}))},t.prototype.l_=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.a_=function(){return Object(Or.b)(this,void 0,void 0,(function(){var t,e;return Object(Or.e)(this,(function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.h_=function(t){return Object(Or.b)(this,void 0,void 0,(function(){var e;return Object(Or.e)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(Or.b)(this,void 0,void 0,(function(){var t,e;return Object(Or.e)(this,(function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new qr(Fr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new ei(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),Ef=function(t){this._methodName=t},Of=function(t){this.d_=t};function If(t,e,n){if(!n)throw new qr(Fr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function _f(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new qr(Fr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Tf(t,e,n,r){if(!0===e&&!0===r)throw new qr(Fr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Af(t){if(!ni.wt(t))throw new qr(Fr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function jf(t){if(ni.wt(t))throw new qr(Fr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Nf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Dr()}function Sf(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new qr(Fr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Nf(t);throw new qr(Fr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function xf(t,e){if(e<=0)throw new qr(Fr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Df=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new qr(Fr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new qr(Fr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Tf("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),kf=new Map,Pf=function(){function t(t,e){this.w_="(lite)",this.E_=new Df({}),this.T_=!1,t instanceof _r?(this.I_=t,this.m_=new Gr):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new qr(Fr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _r(t.options.projectId)}(t),this.m_=new Qr(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new qr(Fr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new qr(Fr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Df(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Gr;switch(t.type){case"gapi":var e=t.client;return kr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Yr(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new qr(Fr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=kf.get(this))&&(jr("ComponentProvider","Removing Datastore"),kf.delete(this),t.terminate()),Promise.resolve();var t},t}(),Cf=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Uf(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Lf=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Uf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ro(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Or.d)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new Cf(this.firestore,null,new ni(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Lf);function Rf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Of&&(t=t.d_),If("collection","path",e),t instanceof Pf)return jf(n=$r.ot.apply($r,Object(Or.i)([e],r))),new Uf(t,null,n);if(!(t instanceof Cf||t instanceof Uf))throw new qr(Fr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return jf(n=$r.ot.apply($r,Object(Or.i)([t.path],r)).child($r.ot(e))),new Uf(t.firestore,null,n)}function Vf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Of&&(t=t.d_),1===arguments.length&&(e=Lr.u()),If("doc","path",e),t instanceof Pf)return Af(n=$r.ot.apply($r,Object(Or.i)([e],r))),new Cf(t,null,new ni(n));if(!(t instanceof Cf||t instanceof Uf))throw new qr(Fr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Af(n=t.D_.child($r.ot.apply($r,Object(Or.i)([e],r)))),new Cf(t.firestore,t instanceof Uf?t.v_:null,new ni(n))}function Mf(t,e){return t instanceof Of&&(t=t.d_),e instanceof Of&&(e=e.d_),(t instanceof Cf||t instanceof Uf)&&(e instanceof Cf||e instanceof Uf)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Ff(t,e){return t instanceof Of&&(t=t.d_),e instanceof Of&&(e=e.d_),t instanceof Lf&&e instanceof Lf&&t.firestore===e.firestore&&lo(t.C_,e.C_)&&t.v_===e.v_}var qf=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new qr(Fr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new qr(Fr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return Ur(this.x_,t.x_)||Ur(this.N_,t.N_)},t}(),Bf=/^__.*__$/,zf=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new Qo(t,this.data,this.Gt,e,this.fieldTransforms):new Go(t,this.data,e,this.fieldTransforms)},t}(),Hf=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Qo(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function Gf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dr()}}var Qf=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return ll(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find((function(e){return t.nt(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.nt(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Gf(this.k_)&&Bf.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Wf=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||Bc(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Qf({k_:t,methodName:e,j_:n,path:ei.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function Yf(t){var e=t.p_(),n=Bc(t.I_);return new Wf(t.I_,!!e.ignoreUndefinedProperties,n)}function Zf(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);al("Data must be an object, but it was:",s,r);var u,a,c=sl(r,s);if(o.merge)u=new si(s.Gt),a=s.fieldTransforms;else if(o.mergeFields){for(var h=[],f=0,l=o.mergeFields;f<l.length;f++){var d=cl(e,l[f],n);if(!s.contains(d))throw new qr(Fr.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");dl(h,d)||h.push(d)}u=new si(h),a=s.fieldTransforms.filter((function(t){return u.Tt(t.field)}))}else u=null,a=s.fieldTransforms;return new zf(new Ni(c),u,a)}var Xf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.d)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ef);function Kf(t,e,n){return new Qf({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var Jf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.d)(e,t),e.prototype.z_=function(t){return new Lo(t.path,new jo)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ef),$f=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Or.d)(e,t),e.prototype.z_=function(t){var e=Kf(this,t,!0),n=this.H_.map((function(t){return ol(t,e)})),r=new No(n);return new Lo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ef),tl=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Or.d)(e,t),e.prototype.z_=function(t){var e=Kf(this,t,!0),n=this.H_.map((function(t){return ol(t,e)})),r=new xo(n);return new Lo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ef),el=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Or.d)(e,t),e.prototype.z_=function(t){var e=new ko(t.Qt,Oo(t.Qt,this.J_));return new Lo(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Ef);function nl(t,e,n,r){var i=t.G_(1,e,n);al("Data must be an object, but it was:",i,r);var o=[],s=new Si;ii(r,(function(t,r){var u=fl(e,t,n);r instanceof Of&&(r=r.d_);var a=i.U_(u);if(r instanceof Xf)o.push(u);else{var c=ol(r,a);null!=c&&(o.push(u),s.set(u,c))}}));var u=new si(o);return new Hf(s.Pt(),u,i.fieldTransforms)}function rl(t,e,n,r,i,o){var s=t.G_(1,e,n),u=[cl(e,r,n)],a=[i];if(o.length%2!=0)throw new qr(Fr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(cl(e,o[c])),a.push(o[c+1]);for(var h=[],f=new Si,l=u.length-1;l>=0;--l)if(!dl(h,u[l])){var d=u[l],p=a[l];p instanceof Of&&(p=p.d_);var v=s.U_(d);if(p instanceof Xf)h.push(d);else{var y=ol(p,v);null!=y&&(h.push(d),f.set(d,y))}}var g=new si(h);return new Hf(f.Pt(),g,s.fieldTransforms)}function il(t,e,n,r){return void 0===r&&(r=!1),ol(n,t.G_(r?4:3,e))}function ol(t,e){if(t instanceof Of&&(t=t.d_),ul(t))return al("Unsupported field value:",e,t),sl(t,e);if(t instanceof Ef)return function(t,e){if(!Gf(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=ol(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Of&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Oo(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Xr.fromDate(t);return{timestampValue:Ls(e.Qt,n)}}if(t instanceof Xr)return n=new Xr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ls(e.Qt,n)};if(t instanceof qf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Br)return{bytesValue:Us(e.Qt,t.I)};if(t instanceof Cf){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ms(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+Nf(t))}(t,e)}function sl(t,e){var n={};return oi(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):ii(t,(function(t,r){var i=ol(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function ul(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Xr||t instanceof qf||t instanceof Br||t instanceof Cf||t instanceof Ef)}function al(t,e,n){if(!ul(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Nf(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function cl(t,e,n){if(e instanceof Of&&(e=e.d_),e instanceof wf)return e.f_;if("string"==typeof e)return fl(t,e);throw ll("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var hl=new RegExp("[~\\*/\\[\\]]");function fl(t,e,n){if(e.search(hl)>=0)throw ll("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(wf.bind.apply(wf,Object(Or.i)([void 0],e.split("."))))).f_}catch(r){throw ll("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ll(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new qr(Fr.INVALID_ARGUMENT,(u+=". ")+t+a)}function dl(t,e){return t.some((function(t){return t.isEqual(e)}))}var pl=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Or.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Or.e)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new qr(Fr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return Object(Or.e)(this,(function(a){switch(a.label){case 0:return n=Pr(t),r=Gs(n.Qt)+"/documents",i={documents:e.map((function(t){return qs(n.Qt,t)}))},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){kr(!!e.found);var n=Bs(t,e.found.name),r=Vs(e.found.updateTime),i=new Ni({mapValue:{fields:e.found.fields}});return new ki(n,r,i,{})}(t,e):"missing"in e?function(t,e){kr(!!e.missing),kr(!!e.readTime);var n=Bs(t,e.missing),r=Vs(e.readTime);return new Pi(n,r)}(t,e):Dr()}(n.Qt,t);s.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=s.get(t.toString());kr(!!e),u.push(e)})),u)]}}))}))}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Pi||t instanceof ki?n.sf(t):Dr()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new $o(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Or.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Or.e)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=ni._t(n);e.mutations.push(new ts(r,e.jt(r)))})),[4,function(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Or.e)(this,(function(o){switch(o.label){case 0:return n=Pr(t),r=Gs(n.Qt)+"/documents",i={writes:e.map((function(t){return Zs(n.Qt,t)}))},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof ki)e=t.version;else{if(!(t instanceof Pi))throw Dr();e=Kr.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new qr(Fr.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Ro.updateTime(e):Ro.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Kr.min()))throw new qr(Fr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ro.updateTime(e)}return Ro.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),vl=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new zc(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu((function(){return Object(Or.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Or.e)(this,(function(r){return t=new pl(this.Sh),(e=this.uf(t))&&e.then((function(e){n._s.Ps((function(){return t.commit().then((function(){n.Es.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!di(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps((function(){return e.af(),Promise.resolve()}))):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ns(e)}return!1},t}(),yl=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=zr.UNAUTHENTICATED,this.clientId=Lr.u(),this._f=function(){},this.C=new hu,this.credentials.v((function(t){jr("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()}))}return t.prototype.getConfiguration=function(){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.e)(this,(function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this._s.wf)throw new qr(Fr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new hu;return this._s.Tf((function(){return Object(Or.b)(t,void 0,void 0,(function(){var t,n;return Object(Or.e)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Ou(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function gl(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(Or.e)(this,(function(o){switch(o.label){case 0:return t._s.Af(),jr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff((function(n){r.isEqual(n)||(r=n,t._s.po((function(){return Object(Or.b)(i,void 0,void 0,(function(){return Object(Or.e)(this,(function(t){switch(t.label){case 0:return[4,ec(e.bh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Po((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function bl(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r;return Object(Or.e)(this,(function(i){switch(i.label){case 0:return t._s.Af(),[4,ml(t)];case 1:return n=i.sent(),jr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t._s.po((function(){return function(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r;return Object(Or.e)(this,(function(i){switch(i.label){case 0:return(n=Pr(t))._s.Af(),jr("RemoteStore","RemoteStore received new credentials"),r=ih(n),n.Nh.add(3),[4,Kc(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,Xc(n)];case 3:return i.sent(),[2]}}))}))}(e.yl,n)}))})),t.If=e,[2]}}))}))}function ml(t){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.e)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(jr("FirestoreClient","Using default OfflineComponentProvider"),[4,gl(t,new vf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function wl(t){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.e)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(jr("FirestoreClient","Using default OnlineComponentProvider"),[4,bl(t,new bf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function El(t){return ml(t).then((function(t){return t.persistence}))}function Ol(t){return ml(t).then((function(t){return t.bh}))}function Il(t){return wl(t).then((function(t){return t.yl}))}function _l(t){return wl(t).then((function(t){return t._a}))}function Tl(t){return Object(Or.b)(this,void 0,void 0,(function(){var e,n;return Object(Or.e)(this,(function(r){switch(r.label){case 0:return[4,wl(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=Rh.bind(null,e._a),n.Hh=Mh.bind(null,e._a),n)]}}))}))}function Al(t,e,n){var r=this;void 0===n&&(n={});var i=new hu;return t._s.Ps((function(){return Object(Or.b)(r,void 0,void 0,(function(){var r;return Object(Or.e)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new mf({next:function(o){e.Ps((function(){return _h(t,s)}));var u=o.docs.has(n);!u&&o.fromCache?i.reject(new qr(Fr.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new qr(Fr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Nh(ro(n.path),o,{includeMetadataChanges:!0,nl:!0});return Ih(t,s)},[4,Tl(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}}))}))})),i.promise}function jl(t,e,n){var r=this;void 0===n&&(n={});var i=new hu;return t._s.Ps((function(){return Object(Or.b)(r,void 0,void 0,(function(){var r;return Object(Or.e)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new mf({next:function(n){e.Ps((function(){return _h(t,s)})),n.fromCache&&"server"===r.source?i.reject(new qr(Fr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Nh(n,o,{includeMetadataChanges:!0,nl:!0});return Ih(t,s)},[4,Tl(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}}))}))})),i.promise}var Nl=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new zc(this,"async_queue_retry"),this.vf=function(){var e=qc();e&&jr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=qc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=qc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(Or.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Or.e)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!yu(t=n.sent()))throw t;return jr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,Nr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Eu.Ts(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Dr()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Or.b)(this,void 0,void 0,(function(){var t;return Object(Or.e)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ds-e.ds}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()}))},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function Sl(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.kf={},this.Mf=new hu,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)}}();var xl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new Nl,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Or.d)(e,t),e.prototype.b_=function(){return this.qf||kl(this),this.qf.terminate()},e}(Pf);function Dl(t){return t.qf||kl(t),t.qf.df(),t.qf}function kl(t){var e=t.p_(),n=function(t,e,n){return new Ir(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new yl(t.m_,t.Bf,n)}function Pl(t,e,n){var r=this,i=new hu;return t._s.enqueue((function(){return Object(Or.b)(r,void 0,void 0,(function(){var r;return Object(Or.e)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,gl(t,n)];case 1:return o.sent(),[4,bl(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Fr.FAILED_PRECONDITION||t.code===Fr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Cl(t){if(t.R_||t.P_)throw new qr(Fr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ll=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),yi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ci(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(hi(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw Dr()}},t.prototype.Hf=function(t,e){var n=this,r={};return ii(t.fields||{},(function(t,i){r[t]=n.Uf(i,e)})),r},t.prototype.Gf=function(t){return new qf(ci(t.latitude),ci(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.Uf(t,e)}))},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return fi(n)?t(n):n}(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(li(t));default:return null}},t.prototype.Qf=function(t){var e=ai(t);return new Xr(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=$r.ot(t);kr(cu(n));var r=new _r(n.get(1),n.get(3)),i=new ni(n.Y(5));return r.isEqual(e)||Nr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Ul=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Cf(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new Rl(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(Vl("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),Rl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.d)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ul);function Vl(t,e){return"string"==typeof e?fl(t,e):e instanceof Of?e.d_.f_:e.f_}function Ml(t){if(oo(t)&&0===t.xt.length)throw new qr(Fr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Fl=function(){};function ql(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var Bl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(Or.d)(e,t),e.prototype.td=function(t){var e=Yf(t.firestore),n=function(t,e,n,r,i,o,s){var u;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new qr(Fr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Zl(s,o);for(var a=[],c=0,h=s;c<h.length;c++)a.push(Yl(r,t,h[c]));u={arrayValue:{values:a}}}else u=Yl(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Zl(s,o),u=il(n,"where",s,"in"===o||"not-in"===o);var f=Fi.create(i,o,u);return function(t,e){if(e.Ct()){var n=uo(t);if(null!==n&&!n.isEqual(e.field))throw new qr(Fr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=so(t);null!==r&&Xl(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new qr(Fr.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new Lf(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new eo(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Fl),zl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(Or.d)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new qr(Fr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new qr(Fr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ki(e,n);return function(t,e){if(null===so(t)){var n=uo(t);null!==n&&Xl(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new Lf(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new eo(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Fl),Hl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(Or.d)(e,t),e.prototype.td=function(t){return new Lf(t.firestore,t.v_,fo(t.C_,this.od,this.ad))},e}(Fl),Gl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Or.d)(e,t),e.prototype.td=function(t){var e=Wl(t,this.type,this.ud,this.hd);return new Lf(t.firestore,t.v_,function(t,e){return new eo(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Fl),Ql=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Or.d)(e,t),e.prototype.td=function(t){var e=Wl(t,this.type,this.ud,this.hd);return new Lf(t.firestore,t.v_,function(t,e){return new eo(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Fl);function Wl(t,e,n,r){if(n[0]instanceof Of&&(n[0]=n[0].d_),n[0]instanceof Ul)return function(t,e,n,r,i){if(!r)throw new qr(Fr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=co(t);s<u.length;s++){var a=u[s];if(a.field.ut())o.push(Oi(e,r.key));else{var c=r.field(a.field);if(fi(c))throw new qr(Fr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=a.field.rt();throw new qr(Fr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Zi(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=Yf(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new qr(Fr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.ut()){if("string"!=typeof c)throw new qr(Fr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ao(t)&&-1!==c.indexOf("/"))throw new qr(Fr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child($r.ot(c));if(!ni.wt(h))throw new qr(Fr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var f=new ni(h);u.push(Oi(e,f))}else{var l=il(n,r,c);u.push(l)}}return new Zi(u,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Yl(t,e,n){if(n instanceof Of&&(n=n.d_),"string"==typeof n){if(""===n)throw new qr(Fr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ao(e)&&-1!==n.indexOf("/"))throw new qr(Fr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child($r.ot(n));if(!ni.wt(r))throw new qr(Fr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Oi(t,new ni(r))}if(n instanceof Cf)return Oi(t,n.S_);throw new qr(Fr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Nf(n)+".")}function Zl(t,e){if(!Array.isArray(t)||0===t.length)throw new qr(Fr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new qr(Fr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Xl(t,e,n){if(!n.isEqual(e))throw new qr(Fr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Kl(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Jl=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Or.d)(e,t),e.prototype.Wf=function(t){return new Br(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Cf(this.firestore,null,e)},e}(Ll),$l=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),td=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this).Yf=e,u.ld=e,u.metadata=o,u}return Object(Or.d)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new ed(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(Vl("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(Ul),ed=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.d)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(td),nd=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new $l(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach((function(r){t.call(e,new ed(n.Yf,n.Xf,r.key,r,new $l(n._d.De.has(r.key),n._d.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new qr(Fr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map((function(e){return{type:"added",doc:new ed(t.Yf,t.Xf,e.doc.key,e.doc,new $l(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}}))}var r=t._d.Se;return t._d.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new ed(t.Yf,t.Xf,e.doc.key,e.doc,new $l(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:rd(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.dd=e),this.fd},t}();function rd(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dr()}}function id(t,e){return t instanceof td&&e instanceof td?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof nd&&e instanceof nd&&t.Yf===e.Yf&&Ff(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var od=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Or.d)(e,t),e.prototype.Wf=function(t){return new Br(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Cf(this.firestore,null,e)},e}(Ll);function sd(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Sf(t,Cf);var o=Sf(t.firestore,xl),s=Yf(o);return e instanceof Of&&(e=e.d_),ad(o,[("string"==typeof e||e instanceof wf?rl(s,"updateDoc",t.S_,e,n,r):nl(s,"updateDoc",t.S_,e)).F_(t.S_,Ro.exists(!0))])}function ud(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Of&&(t=t.d_);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||Sl(i[u])||(s=i[u],u++);var a,c,h,f={includeMetadataChanges:s.includeMetadataChanges};if(Sl(i[u])){var l=i[u];i[u]=null===(e=l.next)||void 0===e?void 0:e.bind(l),i[u+1]=null===(n=l.error)||void 0===n?void 0:n.bind(l),i[u+2]=null===(r=l.complete)||void 0===r?void 0:r.bind(l)}if(t instanceof Cf)c=Sf(t.firestore,xl),h=ro(t.S_.path),a={next:function(e){i[u]&&i[u](cd(c,t,e))},error:i[u+1],complete:i[u+2]};else{var d=Sf(t,Lf);c=Sf(d.firestore,xl),h=d.C_;var p=new od(c);a={next:function(t){i[u]&&i[u](new nd(c,p,d,t))},error:i[u+1],complete:i[u+2]},Ml(t.C_)}return function(t,e,n,r){var i=this,o=new mf(r),s=new Nh(e,o,n);return t._s.Ps((function(){return Object(Or.b)(i,void 0,void 0,(function(){var e;return Object(Or.e)(this,(function(n){switch(n.label){case 0:return e=Ih,[4,Tl(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.i_(),t._s.Ps((function(){return Object(Or.b)(i,void 0,void 0,(function(){var e;return Object(Or.e)(this,(function(n){switch(n.label){case 0:return e=_h,[4,Tl(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Dl(c),h,f,a)}function ad(t,e){return function(t,e){var n=this,r=new hu;return t._s.Ps((function(){return Object(Or.b)(n,void 0,void 0,(function(){var n;return Object(Or.e)(this,(function(i){switch(i.label){case 0:return n=Fh,[4,_l(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Dl(t),e)}function cd(t,e,n){var r=n.docs.get(e.S_),i=new od(t);return new td(t,i,e.S_,r,new $l(n.hasPendingWrites,n.fromCache),e.v_)}var hd=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=Yf(t)}return t.prototype.set=function(t,e,n){this.md();var r=fd(t,this.Yf),i=Kl(r.v_,e,n),o=Zf(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,Ro.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=fd(t,this.Yf);return e instanceof Of&&(e=e.d_),o="string"==typeof e||e instanceof wf?rl(this.Id,"WriteBatch.update",s.S_,e,n,r):nl(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,Ro.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=fd(t,this.Yf);return this.Ed=this.Ed.concat(new $o(e.S_,Ro.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new qr(Fr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function fd(t,e){if(t instanceof Of&&(t=t.d_),t.firestore!==e)throw new qr(Fr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var ld=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(Or.d)(e,t),e.prototype.get=function(e){var n=this,r=fd(e,this.Yf),i=new od(this.Yf);return t.prototype.get.call(this,e).then((function(t){return new td(n.Yf,i,r.S_,t.Zf,new $l(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=Yf(t)}return t.prototype.get=function(t){var e=this,n=fd(t,this.Yf),r=new Jl(this.Yf);return this.Ad.ef([n.S_]).then((function(t){if(!t||1!==t.length)return Dr();var i=t[0];if(i instanceof Pi)return new Ul(e.Yf,r,n.S_,null,n.v_);if(i instanceof ki)return new Ul(e.Yf,r,i.key,i,n.v_);throw Dr()}))},t.prototype.set=function(t,e,n){var r=fd(t,this.Yf),i=Kl(r.v_,e,n),o=Zf(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=fd(t,this.Yf);return e instanceof Of&&(e=e.d_),o="string"==typeof e||e instanceof wf?rl(this.Id,"Transaction.update",s.S_,e,n,r):nl(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=fd(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function dd(){if("undefined"==typeof Uint8Array)throw new qr(Fr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function pd(){if("undefined"==typeof atob)throw new qr(Fr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var vd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.d)(e,t),e.fromBase64String=function(t){return pd(),new e(Br.fromBase64String(t))},e.fromUint8Array=function(t){return dd(),new e(Br.fromUint8Array(t))},e.prototype.toBase64=function(){return pd(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return dd(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Of),yd=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Cl(t=Sf(t,xl));var n=Dl(t),r=t.p_(),i=new bf;return Pl(n,i,new yf(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Cl(t=Sf(t,xl));var e=Dl(t),n=t.p_(),r=new bf;return Pl(e,r,new gf(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new qr(Fr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new hu;return t.Bf.Tf((function(){return Object(Or.b)(e,void 0,void 0,(function(){var e;return Object(Or.e)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.e)(this,(function(e){switch(e.label){case 0:return du.Kn()?[4,du.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Ya(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.d_)},t}(),gd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof _r||(i.Pd=e),i}return Object(Or.d)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Sf(t,Pf)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Sr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return Object(Or.b)(e,void 0,void 0,(function(){var e,n;return Object(Or.e)(this,(function(r){switch(r.label){case 0:return[4,El(t)];case 1:return e=r.sent(),[4,Il(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=Pr(t);return e.Nh.delete(0),Xc(e)}(n))]}}))}))}))}(Dl(Sf(this.d_,xl)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return Object(Or.b)(e,void 0,void 0,(function(){var e,n;return Object(Or.e)(this,(function(r){switch(r.label){case 0:return[4,El(t)];case 1:return e=r.sent(),[4,Il(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(Or.b)(this,void 0,void 0,(function(){var e;return Object(Or.e)(this,(function(n){switch(n.label){case 0:return(e=Pr(t)).Nh.add(0),[4,Kc(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Dl(Sf(this.d_,xl)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Tf("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new hu;return t._s.Ps((function(){return Object(Or.b)(e,void 0,void 0,(function(){var e;return Object(Or.e)(this,(function(r){switch(r.label){case 0:return e=Qh,[4,_l(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Dl(Sf(this.d_,xl)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new mf(e);return t._s.Ps((function(){return Object(Or.b)(n,void 0,void 0,(function(){var e;return Object(Or.e)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Pr(t).Wh.add(e),e.next()},[4,Tl(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.i_(),t._s.Ps((function(){return Object(Or.b)(n,void 0,void 0,(function(){var e;return Object(Or.e)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Pr(t).Wh.delete(e)},[4,Tl(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Dl(t=Sf(t,xl)),Sl(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new qr(Fr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Dd(this,Rf(this.d_,t))}catch(t){throw Id(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Od(this,Vf(this.d_,t))}catch(t){throw Id(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Nd(this,function(t,e){if(t=Sf(t,Pf),If("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new qr(Fr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Lf(t,null,function(t){return new eo($r.ct(),t)}(e))}(this.d_,t))}catch(t){throw Id(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new hu;return t._s.Ps((function(){return Object(Or.b)(n,void 0,void 0,(function(){var n;return Object(Or.e)(this,(function(i){switch(i.label){case 0:return[4,function(t){return wl(t).then((function(t){return t.Sh}))}(t)];case 1:return n=i.sent(),new vl(t._s,n,e,r).run(),[2]}}))}))})),r.promise}(Dl(t),(function(n){return e(new ld(t,n))}))}(this.d_,(function(n){return t(new md(e,n))}))},e.prototype.batch=function(){var t=this;return Dl(this.d_),new wd(new hd(this.d_,(function(e){return ad(t.d_,e)})))},e.prototype.loadBundle=function(t){throw new qr(Fr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new qr(Fr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Of),bd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Or.d)(e,t),e.prototype.Wf=function(t){return new vd(new Br(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return Od.yd(e,this.firestore,null)},e}(Ll),md=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new bd(e),r}return Object(Or.d)(e,t),e.prototype.get=function(t){var e=this,n=kd(t);return this.d_.get(n).then((function(t){return new Ad(e.Yf,new td(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=kd(t);return n?(_f("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=kd(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(Or.i)([s,e,n],i)),this},e.prototype.delete=function(t){var e=kd(t);return this.d_.delete(e),this},e}(Of),wd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.d)(e,t),e.prototype.set=function(t,e,n){var r=kd(t);return n?(_f("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=kd(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(Or.i)([s,e,n],i)),this},e.prototype.delete=function(t){var e=kd(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(Of),Ed=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(Or.d)(e,t),e.prototype.fromFirestore=function(t,e){var n=new ed(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new jd(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new bd(t),n),i.set(n,o)),o},e}(Of);Ed.Vd=new WeakMap;var Od=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new bd(e),r}return Object(Or.d)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new qr(Fr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new Cf(n.d_,r,new ni(t)))},e.yd=function(t,n,r){return new e(n,new Cf(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Dd(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Dd(this.firestore,Rf(this.d_,t))}catch(t){throw Id(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Of&&(t=t.d_),t instanceof Cf&&Mf(this.d_,t)},e.prototype.set=function(t,e){e=_f("DocumentReference.set",e);try{return function(t,e,n){t=Sf(t,Cf);var r=Sf(t.firestore,xl),i=Kl(t.v_,e,n);return ad(r,[Zf(Yf(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Ro.Kt())])}(this.d_,t,e)}catch(t){throw Id(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?sd(this.d_,t):sd.apply(void 0,Object(Or.i)([this.d_,t,e],n))}catch(t){throw Id(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return ad(Sf((t=this.d_).firestore,xl),[new $o(t.S_,Ro.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=_d(e),i=Td(e,(function(e){return new Ad(t.firestore,new td(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))}));return ud(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Sf(t,Cf);var e=Sf(t.firestore,xl),n=Dl(e),r=new od(e);return function(t,e){var n=this,r=new hu;return t._s.Ps((function(){return Object(Or.b)(n,void 0,void 0,(function(){var n;return Object(Or.e)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r,i;return Object(Or.e)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Pr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Tc.Ho(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof ki?n.resolve(i):i instanceof Pi?n.resolve(null):n.reject(new qr(Fr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Ou(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Ol(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new td(e,r,t.S_,n,new $l(n instanceof ki&&n.Vt,!0),t.v_)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=Sf(t,Cf);var e=Sf(t.firestore,xl);return Al(Dl(e),t.S_,{source:"server"}).then((function(n){return cd(e,t,n)}))}(this.d_):function(t){t=Sf(t,Cf);var e=Sf(t.firestore,xl);return Al(Dl(e),t.S_).then((function(n){return cd(e,t,n)}))}(this.d_)).then((function(t){return new Ad(e.firestore,new td(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Ed.gd(this.firestore,t)))},e}(Of);function Id(t,e,n){return t.message=t.message.replace(e,n),t}function _d(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Sl(r))return r}return{}}function Td(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Sl(t[0])?t[0]:Sl(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ad=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Or.d)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Od(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return id(this.d_,t.d_)},e}(Of),jd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.d)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(Ad),Nd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new bd(e),r}return Object(Or.d)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,ql(this.d_,function(t,e,n){var r=e,i=Vl("where",t);return new Bl(i,r,n)}(t,n,r)))}catch(t){throw Id(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,ql(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=Vl("orderBy",t);return new zl(r,n)}(t,n)))}catch(t){throw Id(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,ql(this.d_,function(t){return xf("limit",t),new Hl("limit",t,"F")}(t)))}catch(t){throw Id(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,ql(this.d_,function(t){return xf("limitToLast",t),new Hl("limitToLast",t,"L")}(t)))}catch(t){throw Id(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ql(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gl("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Id(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ql(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gl("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Id(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ql(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ql("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Id(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ql(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ql("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Id(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Ff(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Sf(t,Lf);var e=Sf(t.firestore,xl),n=Dl(e),r=new od(e);return function(t,e){var n=this,r=new hu;return t._s.Ps((function(){return Object(Or.b)(n,void 0,void 0,(function(){var n;return Object(Or.e)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r,i,o,s,u;return Object(Or.e)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,cc(t,e,!0)];case 1:return u=a.sent(),r=new Ph(e,u.Rc),i=r.fl(u.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=Ou(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,Ol(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new nd(e,r,t,n)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=Sf(t,Lf);var e=Sf(t.firestore,xl),n=Dl(e),r=new od(e);return jl(n,t.C_,{source:"server"}).then((function(n){return new nd(e,r,t,n)}))}(this.d_):function(t){t=Sf(t,Lf);var e=Sf(t.firestore,xl),n=Dl(e),r=new od(e);return Ml(t.C_),jl(n,t.C_).then((function(n){return new nd(e,r,t,n)}))}(this.d_)).then((function(t){return new xd(e.firestore,new nd(e.firestore.d_,e.Xf,e.d_,t._d))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=_d(e),i=Td(e,(function(e){return new xd(t.firestore,new nd(t.firestore.d_,t.Xf,t.d_,e._d))}));return ud(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Ed.gd(this.firestore,t)))},e}(Of),Sd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Or.d)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new jd(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(Of),xd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Or.d)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Nd(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map((function(e){return new jd(t.Yf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map((function(t){return new Sd(e.Yf,t)}))},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach((function(r){t.call(e,new jd(n.Yf,r))}))},e.prototype.isEqual=function(t){return id(this.d_,t.d_)},e}(Of),Dd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(Or.d)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new Od(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Od(this.firestore,void 0===t?Vf(this.d_):Vf(this.d_,t))}catch(t){throw Id(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Sf(t.firestore,xl),r=Vf(t),i=Kl(t.v_,e);return ad(n,[Zf(Yf(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Ro.exists(!1))]).then((function(){return r}))}(this.d_,t).then((function(t){return new Od(e.firestore,t)}))},e.prototype.isEqual=function(t){return Mf(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Ed.gd(this.firestore,t)))},e}(Nd);function kd(t){return t instanceof Of&&(t=t.d_),Sf(t,Cf)}var Pd,Cd=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(wf.bind.apply(wf,Object(Or.i)([void 0],e))))||this}return Object(Or.d)(e,t),e.documentId=function(){return new e(ei.ht().rt())},e.prototype.isEqual=function(t){return t instanceof Of&&(t=t.d_),t instanceof wf&&this.d_.f_.isEqual(t.f_)},e}(Of),Ld=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.d)(e,t),e.serverTimestamp=function(){var t=new Jf("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Xf("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $f("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tl("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new el("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(Of),Ud=n("QoMx"),Rd={Firestore:gd,GeoPoint:qf,Timestamp:Xr,Blob:vd,Transaction:md,WriteBatch:wd,DocumentReference:Od,DocumentSnapshot:Ad,Query:Nd,QueryDocumentSnapshot:jd,QuerySnapshot:xd,CollectionReference:Dd,FieldPath:Cd,FieldValue:Ld,setLogLevel:function(t){Tr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Ud.a("firestore",(function(t){return function(t,e){return new gd(t,new xl(t,e),new yd)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Rd)))})(Pd=m.a),Pd.registerVersion("@firebase/firestore","2.1.7"),n("fQLH"),n("gQst"),n("AouM"),n("AqJ0"),n("2Mvu"),n("bacK");const Vd=new o.t("angularfire2.auth.use-emulator");function Md(t,e){return function(t,e=s.b){return new u.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Fd(t,e){return Md(t,e).pipe(Object(l.a)(t=>({payload:t,type:"query"})))}function qd(t,e){return Fd(t,e).pipe(Object(h.a)(void 0),Object(f.a)(),Object(l.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Bd(t,e,n){return qd(t,n).pipe(Object(d.a)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return zd(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return zd(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return zd(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Object(p.a)(),Object(l.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function zd(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Hd(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Gd{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=qd(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(l.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Object(h.a)(void 0),Object(f.a)(),Object(v.a)(([t,e])=>e.length>0||!t),Object(l.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(d.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Hd(t);return Bd(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Fd(this.query,this.afs.schedulers.outsideAngular).pipe(Object(l.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(a.a)(this.query.get(t)).pipe(Object(y.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Qd(this.ref.doc(t),this.afs)}}class Qd{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Jd(n,e);return new Gd(r,i,this.afs)}snapshotChanges(){return Md(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(h.a)(void 0),Object(f.a)(),Object(l.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(l.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(a.a)(this.ref.get(t)).pipe(Object(y.b)(this.afs.schedulers.insideAngular))}}class Wd{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?qd(this.query,this.afs.schedulers.outsideAngular).pipe(Object(l.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(v.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):qd(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(d.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Hd(t);return Bd(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Fd(this.query,this.afs.schedulers.outsideAngular).pipe(Object(l.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(a.a)(this.query.get(t)).pipe(Object(y.b)(this.afs.schedulers.insideAngular))}}const Yd=new o.t("angularfire2.enableFirestorePersistence"),Zd=new o.t("angularfire2.firestore.persistenceSettings"),Xd=new o.t("angularfire2.firestore.settings"),Kd=new o.t("angularfire2.firestore.use-emulator");function Jd(t,e=(t=>t)){return{query:e(t),ref:t}}let $d=(()=>{class t{constructor(t,e,n,i,o,s,u,h,f){this.schedulers=new g.d(s),this.keepUnstableUntilFirst=Object(g.h)(this.schedulers);const l=Object(g.g)(t,s,e);!b.a.auth&&f&&Object(g.j)();const d=h;[this.firestore,this.persistenceEnabled$]=Object(g.f)(l.name+".firestore","AngularFirestore",l,()=>{const t=s.runOutsideAngular(()=>l.firestore());if(i&&t.settings(i),d&&t.useEmulator(...d),n&&!Object(r.x)(o)){const e=()=>{try{return Object(a.a)(t.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(Pd){return"undefined"!=typeof console&&console.warn(Pd),Object(c.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(c.a)(!1)]},[i,d,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Jd(n,e),o=this.schedulers.ngZone.run(()=>r);return new Gd(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Wd(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Qd(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(o.ic(g.c),o.ic(g.b,8),o.ic(Yd,8),o.ic(Xd,8),o.ic(o.H),o.ic(o.E),o.ic(Zd,8),o.ic(Kd,8),o.ic(Vd,8))},t.\u0275prov=Object(o.Ub)({factory:function(){return new t(Object(o.ic)(g.c),Object(o.ic)(g.b,8),Object(o.ic)(Yd,8),Object(o.ic)(Xd,8),Object(o.ic)(o.H),Object(o.ic)(o.E),Object(o.ic)(Zd,8),Object(o.ic)(Kd,8),Object(o.ic)(Vd,8))},token:t,providedIn:"any"}),t})(),tp=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Yd,useValue:!0},{provide:Zd,useValue:e}]}}}return t.\u0275mod=o.Wb({type:t}),t.\u0275inj=o.Vb({factory:function(e){return new(e||t)},providers:[$d]}),t})();var ep=n("Z+in"),np=n("tVEQ");function rp(t,e){1&t&&(o.ec(0,"div",100),o.ec(1,"button",101),o.Uc(2,"Delete Conversations"),o.dc(),o.ec(3,"button",101),o.Uc(4,"Settings"),o.dc(),o.dc())}function ip(t,e){if(1&t&&(o.Zb(0,"i",102),o.Uc(1)),2&t){var n=o.qc();o.Kb(1),o.Wc(" ","chat"===n.selectedTab?"Recent Chats":"","")}}function op(t,e){if(1&t&&(o.Zb(0,"i",103),o.Uc(1)),2&t){var n=o.qc();o.Kb(1),o.Wc(" ","calls"===n.selectedTab?"Recent Calls":"","")}}function sp(t,e){if(1&t&&(o.Zb(0,"i",104),o.Uc(1)),2&t){var n=o.qc();o.Kb(1),o.Wc(" ","contact"===n.selectedTab?"Contacts":"","")}}function up(t,e){if(1&t&&(o.Zb(0,"i",105),o.Uc(1)),2&t){var n=o.qc();o.Kb(1),o.Wc(" ","settings"===n.selectedTab?"Settings":"","")}}var ap=function(){function t(t,e){this.firestore=t,this.dataService=e,this.selectedTab="chat"}return t.prototype.ngOnInit=function(){this.loginUser=this.dataService.getUser(),this.firestore.collection("users").doc("test").set({id:1,username:"testUser"})},t.\u0275fac=function(e){return new(e||t)(o.Yb($d),o.Yb(i.a))},t.\u0275cmp=o.Sb({type:t,selectors:[["app-chat2"]],decls:370,vars:0,consts:[[1,"animated","fadeIn"],[1,"card-group","custom-container","mx-0","row"],[1,"card","col-md-8","p-0"],[1,"card-header"],[1,"d-inline-flex"],[1,"avatar","mr-2"],["src","assets/img/avatars/5.jpg","alt","admin@bootstrapmaster.com","height","30","width","auto",1,"img-avatar"],[1,"avatar-status","badge-success"],["href","profile.html","title","Mike Litorus"],[1,"small","text-primary","ml-2"],[1,"small","d-block"],[1,"card-header-actions","float-right"],[1,"nav","custom-menu"],[1,"nav-item"],[1,"px-2","py-2"],[1,"fa","fa-2x","fa-phone"],[1,"fa","fa-2x","fa-video-camera"],["dropdown","",1,"nav-item","dropdown","dropdown-action"],["aria-expanded","false","data-toggle","dropdown","dropdownToggle","",1,"px-2","py-2"],[1,"fa","fa-2x","fa-ellipsis-v"],["class","dropdown-menu dropdown-menu-right",4,"dropdownMenu"],[1,"card-body"],[1,"message-content"],[1,"message"],[1,"d-flex","justify-content-start","mb-4"],[1,"img_cont_msg"],["src","https://static.turbosquid.com/Preview/001292/481/WV/_D.jpg",1,"rounded-circle","user_img_msg"],[1,"msg_cotainer"],[1,"msg_time"],[1,"d-flex","justify-content-end","mb-4"],[1,"msg_cotainer_send"],[1,"msg_time_send"],["src","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMTEhUTExMWFhUXGBgaGBcXFxgXFxgdFxcXHRcXGhcYHSggGBolHRYVITEhJSkrLi4uFx8zODMtNygtLisBCgoKDg0OGhAQGyslHyUtLS0tLS0tLS0tLS0tLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLf/AABEIAOEA4QMBIgACEQEDEQH/xAAcAAACAgMBAQAAAAAAAAAAAAAEBQMGAAECBwj/xABBEAABAwIDBAgFAgQDCAMAAAABAAIRAyEEEjEFQVFhBhMicYGRobEyUsHR8ELhBxQjcjOS8RUWNENigqKyU3OE/8QAGgEAAgMBAQAAAAAAAAAAAAAAAAECAwQFBv/EACkRAAICAgEDBAIBBQAAAAAAAAABAhEDIRIEMUEFEyJRMjNhFCNxgeH/2gAMAwEAAhEDEQA/APQq9PM0gbxz13bxv5rxnb+c13kVKbXNOjw4VALACNXtOY24CbCFfNodLX1AAwZZY4MiILhEDsiZtxOnNUfpPiKdWMQwAO/W0FrSdTeXkuIJ1DRKmpplfktf8JRWbWc0gPptY64uWkuZbX4SQ8Rujgrr0hq5g5rg46RbSI08JXjnQzpg7AVn1GsFRtRkOYXEGxkEG97nirmOmxxbbYd1KSXSarR2QZzBoEmADyKhKq2aceRxkn9CnpoGOytboAdL8PVeYVWQTxk+69E6SuljKosHkgCZMa35gqnfy7alSoC6L25ws+J6o09TJTlyiAbNDutaBqTaPP6FfSGHORoDKNAWF8gM21nevn2hT6pzX5hLTLeIt7EWK9i6KdJ6NejTaajBVa0Nc0mDYRInWVZRkZYcViC6jVD202gscIAjUEQTwuV4rtDFmlZph2s2ieHeYPkrx0yxpnqmk6SeF5i2h3a8V57jgKjoiQDabkxIJ9ChLdhekK62KrPu6XRxmY8NVJRqPGkDvGikoVQHQ2bbtN+hBKkq12zDjra14n2UhA7sQ/iJ7kNXa48STyR73AGMpka6QPX2XHWuvkbpvQAJR2c49pxDe8wpHspCwOY8hbzNvJRV6jnGCQY3WP3RWGwObUwOIiPZAA7WuJ+ENHEwPr9F0eqGsuPJGHZzeTuRdr5iPVY3BHcyOcA2QAOGM1aw+Q+yyriQ21xyCIds8zJdHfI9ioqzLRDT4n6piAztFs2D/MLn/aLdAHDmY+i5xNEHS35yQVQXj2ugAmrip3+32UZfOoEodzY/dFYBgLmtcQGkgE6wCdbJMaLD0XpZi93/AEtHq5XTZdd7aNekwCHgF17wJFvOVHT6EOwbBVZVbWpuaM0AgCYggzDhrw1Rez6WZ7WBoGYEbxaDvJNrBVWpIspxkgF1Wp1bXNdEDqrawO0IUOCpONWmTJOdtzzMazzRbXZqVOoAMjqj2tcB2C4NiBxPZPktU6rmkOBAgg6Dcpxk3BoJv5II6p/4FiYZhwH+YLazcWavcRRMZWL6DS1zHQ5pgAghzjqXT2b2jW66pUDTqt6xzmU3uAqgSS0kw+wNxFwE/Z0bZQw1VjSXFwkk6y27dLSOO9C7ZdSp0qbxmJqMl3a5g+hOvNW7iUuSyulGkC4rolhTX/o4sClBJfVYdRfLDIInSTwKS4+pToNFNpeRmJMOJI+UAmzeMDdxXdSg+R1dCoC+MhcDlkn4pbYnS5Qm1cFUa91OqYLYOgNuMjXvUqfllUYtSobYOp12zze9Ct3nLUE+5cPBVnEnK5zhx99U02DULevpXAdlMR8mb6EeSW7Sw8XBsTB74lCVSY0viAuxBO9S4SscwvvHuhHs1Cn2ZhnVKjWtmSR7q0rXcve0qzi0OBmAbkk5i0WEndoq2KxhgBu2JO8edjonm1HhoYNcr2g33EO95Vb2thSycrszSRB4gnsn1jkQUgbJWiS4kuMncDpxJ3IhhaBZs905fGBB8Uqp5mkBxOXi7NB36jcmrMKCAWl27Ql7b8HC48QUMDH1HE2ad3ICO7cozh3v+J2UcCHZfT6roNM2mf8AMPAb/Bcio4T2r30BHoQhAdEOb8JbHIkTy4FDV8XV+b1j6LVSTfKTzAj7BDVqZFiT5T6oA76walrhxgz9Qo31mfMfI/usFASIDr6TZcnD8u8Xn90xHXXu/TVt4j3ChqYmof1zHMe0LsYPh9Quzg5bb4gfNMAR2Kdo8X5k/VcdZ+H/AEU1Si4W1HCELk5JAd5xvH55rttY/N9FzRaN65dT5oAunRPpDXaw0nF1ShGWILuqJktI+VskhN9hbQZWYGzq3QmJ3Ec1RNj7UdQcbWcC0931V1wWzMNlo56mRpaDnB7YeIm8HW27eq+NOyxytIe1qAIaCJDPhBJIbaLDQGCRbitdW1dUNs0TI7FjDSaYl/MDjx04wisLj84MQI1GVoPLQJ2iptg+bmfNYmHXu+ZbRofJm34tjy+mwgwSL6xuMdyX4XDU6tFrXMJLDUpmCNA4OYYmR39youN2vWbU+UzIAaBodIA/JVo2X0hey7WjLUOZ5y/CYguEjukKMvslhbuh9VZUDIYwEiwzvyxzsDKp3Txz6Zp1HBmaIImQQ0ggEaibju7lc8VtKWtcKmbfaBA0Lrd6VYrZ7Kjy97Gvfxd2tNNbJwp7J5OcHT0VKkzrNotL2ZG1mN1duqUhlcI3Zgg9v4J1Bz2OhwDtRvtAPfBE9xXoFPDgQAxttwjdyjcl/TijRqYUtZlFSm4OgCDrDt28EeSjJvkirk4nlsk6qy9EMOAXPOoAA4wTJ8TB8lX3U7wrL0StTe/i7xhrTHuVaM52hL3PEwC6e+IhQMYAMr3jS2hmdYMme5d16TnPBBtz019DCzEbNgdkzG4ye+27dfmgQXiMGAyC3M03BGt50/N5QGHpgNcGkggAtPhlMnhZp8Udg2viHOtltqY5X0i3mhamIAbMSGkhwGoG+O783IAHbXmzoPM39QuXPINiSP7gR5ESFDXe2QRZcPqcDu8x3IGgym0QTbdu/OakETOn5uSqlULjM2Redw3juKVjoLquabfngoyRvv6eaFNcb9O9a60agwmFHdTXswe68hDurHh9Fy6sDqR9udly4zo4JkaN1KkqBx5Lqowje36+iGqNQBM4W/Ch3HcugDExC0XygDnMmGCxHZyybacI/YpY8QpcHUyvadwISYy9bD2cSDUqPJefhE/4Y5DcT+yZMrOpuzDUeo4LWy8Z1jN2YRPO1lDjKxNyq72DHP8AvCz5XeixVnOeI8lidioA22JZRrttoTH/AFgfVpRmxsVTDRmIubk35g8d672cHOw5Y4dumXCHfNTIqNB43BHmpul+AZVZTxmHhrakGo0GMj7g27wQecHQp6Yskfo72ltUNqANLSXtyyHANgyB2pgapps3bNMsaHn+pEFrRcETzgyLrzetLSI4+Ewp6zWudnzTETxdbgfhO7XcklXYlxuF32Lk7bxbUDgDbNIlpIBEaC5Jsgsfif5lmZz221AMuJFwHchuVeqU5pF7Nzhm4jh4SoamJOjSQN/AfdR4u7NePPCUHCa/wb6v4nHhDfG0+qsHR8ZGjlc+31Crzqjv1HUWn3VnwQy0QADMEkxeT+eytMjVMIxOEksiwOU8+X1UWJaBUmBJEbwHC+vOwHgjesDerJ32+vpMJRtPEwQJ+ExutB177HzQImosgkgmC05ZAkcjx3Ku7SrFry5sQ6ZHH95BUzcduFiJ3eDlwXZwQRv7Q3jmEAAhwO6VtrDrp9E32FsttR+V099h6pjjOjNQXAkHeBZQeRJ0WxxNqyt0pGg+yLdSc0STrwCa4PZTmH+qwjh9xx/dHuwAqA+kyoc9k1AqbHiYi/fCytVn9IHqm2J2WZj9XDcf2QGJ2ecpI+Iat/ZTUiEosXOj9rfVazf9IjjP4FzUYdCPRQlo3lTINEtV9vyB3LimT+fnNaMLXWwmRZskb5UzAO5D9aN3nClw9KSPdAWcV6JHcoaeo7wisceem5QMYZE8QkMsOBxbqbtfDiE7NTMA4FVuZHPci8BjA0w423qADXPyWKXrqfzNW0goYYih1eIOhFSnSqyNHFvYeR36+KHr0mEPY6A3IMpgZg5vwjSS0iAY79ykJLm0XOEFtR9IxoG1RLY/7gpMTh8xFrkD9x5hS8g+wqFGm2k+mWglxJDyzQQLAm/E6pJU2VUy5mjM4n9JtHH3VrZRa3W0rYc1o7MeWnehRSJyyylBR+ivYLZ5aHsdJz5A6JganUcyEyw/R/qnh7agaGmwc2SRvB4zJTDryeHr9VrUi5OlkMqS2Mto9H6GKwjqjaeWqztBwsSGuOZpA1loPmqtiqxa6ZsHNB4WFx6r0LowTlcAwhs753x9ivN9qkFlRukkkeIHt9FK7H5GBrB+sgSCBEHTgqxteuesdfX33+onxTn+Zzm2uUEbpgR+eKS7TdmJPE/X/RAxYa51lN6WFL8r2zLvtdJmtJMC5XrfQ/osamGa4dh4uCQdY0PEGyryTUUW4ocmKth7HeDJkcwB7Qr9hGMpMmpJaBv38gAEXsjAEDttylpMiZHIzvslvSPESYmwtAke3csblyezYo0qRXeke2hUJaGBjByuefLeqnUx7m/C4z3nTn+ye4ykXGzB3fgSnF7JzauAHAx9YWiLVFMouxbi9sgwHCSOBvK3T2sHESRPke6d6kd0dbudPcfooH7Ey8VLlEgoSCH4Ev7TYnvHCygqbLzSHABw3wT6tRuBokEXsrFSwwcBI+6i8jRasSZ5xi8MWmCO5QCmNfZejYrZ7SCHCe9V7HbHpCTA8LKay2VzwVsrTQ0b/VSmraw8dSia1Om3T6oGrB0KtTszyVEtKk0XcbcDvWqcOqC28IGUx2aJe2x3+x+6TEhvisP+oaKNl9yaYSmSNJChxGEymQIURgvVt+UeSxT5DyWIFZZaTi9r25Y7Ie3jmY4EW8XKXHgENcORB39oT9V3haRzAgGNDusQQfdbbQinJ/S4tM78jvsQm+4l2FpudZKJw+znuvZvfPsnGVrdIHcFo1+amRB6Wymj4jPmPqp20GNiAB7qN1fmohXkwL9wJSY+4aK+XQkdxhUrpJs8sbTdBh5f5NcWa8wPRW4U3ndHejdq7NFWjhGkA/4gkf3k+8qqc+NM04MLnJxZ5U6vle08onvEj3RtbDNcy36rjz09Crd026D9W1houGYN7TTa8buCp+zmvkMIM3gExfh5j1TjkUlojLFKJnQ7Yz6+Mota2QHB5/tae1r3r6QweDDWwAvK/wCE2EnF1HgdkUzHe4tkd+q9fpLPmdyLYfGAs2nhDEtsVTNsYXEC7aXWdy9JcyUPXozoqePkshl8M8J2vsvaDv0FjeAtbiYuVVttbMrUXSc5aQIcR2TxuLW719E4vCvM5Y7iqVtXZtRriere2ZnJdp8NFbDLXgcsakeebA2C+tRdUJLb9g7jAuYi4mLrnC4h9N5pvM+oPcTcK21mO0l/+SPZQ0+j4e4l1N2szJHoFNzsI4mvILs+iCYg+SteD2ZLZ1WYPZMQY5c45q17JwkNjwVLey9aR57tqlkkqn45zn74Xp/TjZ56p5Gv7hePbSznPEjLoDqb3MK3FspzS0RVdm5tH34IOts+o3UeKI2aKlSo1gPxGNAQBvOiOr1alF/V1e0DoRMH7FaLaMtJiF9NM9hsmXRpYc51+iK21hQKZeN8R4kJ90X6MF+EZUDu255ME9nKJHnaU7tEJLiQuwcgDMRy3JtsrZDqrgHDsjU7iBu709wWwKbbvOd3/iPDf4pqwAaeSVMrcyL+TZ8jViJlaTpkLEr6v4EHiapDnN3Oh+vzCHeqnxG18HSs+sHkbm9r/wBB7lVzbPSxj3TTpmIiXBree4E+qbRNDykHOaIbuudBbW5WqrQ0S54A5fc2VGrbaq3h+UHWPufFQ4fD1axGVr3kmxgn/wAjb1T7CouGI2xh2NzSXgmBFwSNRuHugh0tq5XCi1rGgSc5kcoAiXa+RQ+zujIe3+piW0yLBgp1KrvPstHmn2ydjUKbSHYek8n9dTO49+Quyj996hyvsiSXkrTa+OxQn+sWXu2m8U/NggDmZXqnQ/BBuEw7TUZV6uo4Zm5o7ZLsvaANs0TySfD0crcgc/L8uZ2XuyzpyVg6PEFr6Wmjm+Fj46KrLGTjs09POpgXSoOqYk02yZ3JlszoyynhKjXNBe7M4E6i1iOGhTDZ+DFV4qOtUAIncUXQDv6jXTEfgWVWjbll8eC8UVP+GWHLHYmREuaWndBB3+Sv1J91UeiRLX1aZEGQdLEDQ+UWVow773Tm/kZ3HQxaJXfV2UNJyKDVOOzLK0AV8PyS6tRBT+qBF0DXa1SlEuxZGI3bNadQu2YFo3fRGPAUTsU0b1DsaVb7GmbPndZHsw0aKLDYxrj2U2pMEJxSZny5JR0ys9JcFmpPHFpXljtnTff9l7VtenLSvM304qOHNJtxZfi+cNlUrbPIJLew46kNFxwNpQGJ2L1rgXOJPdEfl16A3Dyo62BH5+c/RP3WN4kUTaezIw75vka5w7wx0eVz4K7dHsJ1WFoUyILabZ7yAT6kpdtLZhqtcwODZBud+7L3mYVhzbgtOF2jJ1daSOw1aAWg52gC5yk8VaYyWyxDzyWkCs8iobKr1BmZSeWzBMWHfKs2zejNNrQ59UuqX7LaM5ZbHxOdFpO5OaWDawuG+e0ZBBPG1j3o2myyi02WWV/BdH8r87hTLpkEh9u8TkP7p71T3j+pUdU4AuIbH9unhopoXYHNPihWyNlENFgB3QFknNEWiff9vNS2WZwmI6auX7WGGisZAYRI+adWjmbrh9YQqh00rE5Gk2vA+vMwk1qiUW0z3vZ4pVmNq0iMr2ggjeCEW7J8A1j8914D0D2/jabhhqP9RjiZaZ7Em7g4aC+i9c2FQqtxAdUdOambbhdp+ixT+Lo2cOUXKwtmygypnae9TFMKoQtVirmiUJ33Mo1IRZxPNAFCV8RCSlRL2lJjGvjgRqltfGgXlLMXtCN6R43afNPk2XQxRiOMftbh5pRQxRrVW09zj57/AKJXQc+u+JsrKMB1bWupjtMuOdrz5lBdaSLTg9n9WBDbJrhhbW3svKsV/ECvTqZXYdxA/LcVZdg9NmVwYOVw1a4QR4cOasi1HZiy4py8ln2m6AvN9rkiqHNEtE5o571ZNo7caTBIVRqbWYKpk2hRlLk9F+GHCOxphHAomqyyr+G2oMwYGuuTDgLDhKcHESFCiwXVoFRp5/Qo2d6U7Sq9pscfoVaqOwHm5e0DlJWrC6Rg6yO0xX1vNa61PG9HG73nwACKpbDpDUE95+yv5GLiVjruSxWz/ZNH5B5n7rEuQcTzylhwBEWUzaaJ6orfVKwAbIVmUKbqlnVlICOyhczXginNsoYJQBC1iQdK8AXtY4C7XHduIVl6k8fBdHCzu+6GxoB/hDg4rVXxHZDTzvP2XsXVDXf+fYqodEdmikC4CC8kxppafRXGdCsE3cjVK1FERqiY3gSoarluqYMISpVvCrky2ESKtVhLMZWOqJxL0txrxEWlQNC0VvauOINknDXVDeQ1PcVhQZ3lIsc98EMaSeXsrYUE2/BY9jvpsgD8KstOuNF5lgDiqRzVcO87wWFro8LFPaPSGoIy4Sq7vEeyk0RSkx5tPCNfqO8wvPtsgMqdiQ4WDhY+is9XpnVFn0AwcHBzfUhLauOw9R2ZwyHUzcHiBCaJODoRVMZW/UdURsnD9vM7tO5390VjcZQJAaR36e6ifUDNDbjZNkfxGWcB0oh2LgWSOtipDYN1JnmBxSonF8nSDTXzGSi8J/FLqqjsNXpXY7I2oDYgRllsTMQlzLFVfbGyajsfnynq3Fjy7d2WtzCeMhW4mth6hi4uMD2P/beIcJaxoHcT7lDu2vWd+sjugR6JXh8aYaWyOSOqVJJMeSug7jZycq4ypEn8/V/+R/mVihz8liZXbNRzWNbOgnuurY3Z9IERTbrOkm3fzR1mjcB5JcyagU1mz6p0pu8o91O3YVY/KO932BVjq4+kNXt859kJV25SHzHuH1MI5MdIAp9HCR2qnk37lEUujlIal7vGB6KM9IgbNpn/ALiPoFC7blQ7mjwJ90bYWkNaeyaQjsDxv7optFrbBoHcAq0cfWefjN9ALeUKwbKwjmiXklx4kmOWqqyy4osgrJadP0KYUnWhDxD43ELb+yY8ljUi6W9A2IeTNrj1QdV8gXU+PcYzDdqk1bGtEGeyfRQk9mjHHRlerG9LcRWkc1PiKoIsljgZjXmmiyiG5KY7JwQmXBRUqE7k5wDALEFOwJ34dutkBiMc2me0zxCcGnASTadKQbT4JpjTIa21aNQEFzXDg4D2KruO2Vh3mQ2P7HFo8hZA7V2OSTAcPNJqmGrMtmeB4q5bJc68Bu0NkURZofPN5Stmx3kf4jomwm37o/DYZ5d2nE+aaNZlanyorklIX7PwkCXGY0XbNSfJaqvJOUeN1I0WSbOj6d0/KfN9kdjVO8PgBVoEyBDrTNjzMWFykgNuYKf7BeS1zZMET5qzEk5bMnq1xm2Q7NbJN5DQb6ab12cQePqtj+m10/q7LePM9yCLgtjSSpHAtydsL61bQfWd6xQoKLPV2hVdq93gY9kM9zjqSZ4rkrbjCdEjIUVeGgucQ0DUkmB5ITaW1W098u+UfU7lXNq7VqVRBDQAZiT6ooEhq/pFSaTlDndwgeZKjp9L6Vg5j2ibnsujjYESqpVqG8geBQdWDofBOiR730UxGEqtzYeq2o79W57eRYbt8k9c6F8x4fEvpPD2Pcx7dHNJBHiPZeldDv4lZy2hjCA42bXEAE7hUGjSfmFuQWLNhl3WzRBp6PTa3aFtRopGv61nBw9CELTqQVlXsnO3Q6/dZbLXD/gOatyDYjUfm5INtYLV1PxbPsrFi2CoJFnDTnyKQ4qobgiCNRvUGaYOypjaZbIM242I8OC23aYF/rKl2vgw4ToeI/Lqo4oVKZI/PJWximEnR6DgdpNO9N8NigYgryKjtgtNyU0w/SUjfbw/Ap+0/BX7iPW6VYHepKjgvOcH0rB1cEcOkgj4rd6XBj5IsmKcOR+iV18K06gJTU22HWkqF+1rWT4MfJB1TCtboAkm0qt8rRJ5LjE7YJs2Z90EcPUccxdlUuNdzV03TyzPS0TUKETvJ1Uj2wJ0Cjq41rBAh7uWg70BUxj3fEfBFHoI8MUeMQ0vhjnk2Any3qLZ/SNhd1bJk6OsBYEnW/BTNoZqTm73NI8wiOiWw8NTB605nuBE6FunwjcfdX4pRim33OH6tilOSS+jf8yXXMk7vt7LtkqWtgQx0TPAjQjcQugAtC2ebcWnRFB5raIy96xS4sfty+hcemdMH4CR/cJ/9Sgcd0qc+Q1xY3gNf832Shz1C4ooYX/MsM9onxhQ1Hc3Dxn6oR4HALWfiPJMDp73jQz3qE1mk3kFF02tdo6DwdceChr4Wd0cxogCMttxCgq0vJcua5uhWCvxSHZf+hf8QTQaKGKDn022ZUHaewfK4E9sDjr3r1LZe1aNdmejUbUZocpmORBu08iF84SDyU+z9oVaDxUovdTeN7TE8iNHDkZWXJ0yltF8M3hn0U7s93tyQG0abag4OGjhu+45KldH/wCJjXxTxbch06xgJYf7mat7xIVlq4xrgHscHNcJDmkEHxCxThKHc245KW0JsWHNOV4h27e13cUlxjAZkQVZcVUa9uV1/dV/GNLde03jv8eaIkmVvGYG5MfZLamEhWaqEDXp8lojIzyiI+qK6ax24nzTLqwugwKfJkOIHTY/5iisPh3G5eY8l3lGgRLIAhJyNvR4FlyJPsjuiMvw256nzK25gPxEu71H1i11nC/ddVnpYRUVSVBNKk0aDwC6bgQ42ssoYJxu45G89VvEbUYwZGGeaCUnFL5BnWhrmtB018FHtekDUD26uHr/AKITBjPe95uiKtMtLWA9qQWuNm3GhPHVTSOP10uU0/4GuzmtqMFMuDngSzeXZjdo8iQOSFdjmB5YIn6jUDut6qHC1+rDqhDWVqUuzD9fJvEadyRUQQesce3Np75Lj7rd0qb2zBHDHnzLNmfw9Fi56w/IPMra6Vm3X0UZ3eo3PK25RuK57PMGdZO+65f5LlwBUZkcx6pBZJ1sa+YRdKvzS7NP2XTDwQMPcAUHVocFIyqui+e9AABCwVeKIqDj5qB9JAjZMiyJ2VtuthnTTd2Tqx0ljvDceYulzgQszg6qLSemSjJp6PUNk7fp4hsskOHxMPxN9O0OYU1erqvKqVV1NwewlrhoR+aK67E242u0g9mqBdvzRvb9tyxZMDjtdjbjzqWn3Cq7OFkBVJBuj3c1FUYoIsaACVy2k5MWUgbR5olmEHBTsjxFgDWCXeKnO06B1YfBp+ylLWzBI7lt+GJ0UW7PQ+m4ZQx8l3YM7a2HH6D4grR6QCP6bPIQphs4C51W/wCVA0CWjc/d+0LnY59X43OA4AI3C4BpuDPepjmHwhqGqU3ON3X5KRU/jt7G2AIFRrYsJ07k0pbPFWWPJIHw3Ai2vKJKW7GwhgvO4Hx4lNWOH3V0YXE8513Wf3xZt+GMZScBIMyNHAAAH19EgfXa1rqj/hFo48kXtyoOtyt3Q3x3+pVT6RY2SKbfhHut+NcIEnl4w5Dn/e1vyu/zLSpmZYn7rKf6qQ+cSFznHcUQSoKjJVTOWcvXBK4JIsdFjikBp48CuRU46rCVG47j4IAIa9d50LTqbjquy5AwkPWi2NFCHLptRAGyVDUoBESCuXUjqECAbhdU3kEOYS1zTIO8KZzuIXBY06GEDRZMH0mYQBVaWu3uaJb3xqO66cse17Q5jg5u4gyO7v5KgGmeRUmAxtSg/My4/U3c4c+fNZp4F3RohnfaR6FQoyQTu9EXX7LSUDsjaVOqzMw94OrTwP5ddbaxwZRqO4NPqLesLLT5UbLVWQ4qg5jsr27gQZGjgCDz1WU6R/S49yTbF2uP5Uda4g0SGTBJyPksBgbiHgeCKb0iww/5jj3McrZQd9ju9L1mF4lckv8AY0a928HyWOSWp0oobhUd/wBoHuUtxXSs/wDLpBvNxJ9BAQsUvonk9T6aC/KyykTxPJQ0qwfUFGmQ6odYuGDe5x+nFUnFbVrVPiqGODeyPIJt/D+sW4sCJzNI7ogyFbHD9nH6n1dzTWNV/J6hSZlsP06fn0W3PABO6JOgsB+y6ul+3KmSi8zd0NHjr7FXxWziQuc0vsqONxPx1TxJHedFSazyTJVh6R1srWsHefRVtyun9G3qJbUfo5WLcrFEzbLDh1p2q2sSZSD1lDTW1iQGlDWWLECNvXe5YsQM6K2sWIGbRDFixAEWKQK2sQB1TWjqsWIGO+hf+O7/AOs+6b9MP8MfnBYsWR/sRqh+oRbM/wCDxv8A+b/2qJA7VbWLV4Mi7s2FzU1W1iGJHIVk6Af8a3+130WliQz1j90m6Tf4bf7x7OWLFLH+RZ037Eeb9Jf8XwSRYsU5dy7P+bOVixYokD//2Q==",1,"rounded-circle","user_img_msg"],[1,"card-footer"],[1,"d-flex"],["data-toggle","tooltip","title","","type","button","data-original-title","Emoji",1,"btn","btn-light","btn-sm","d-sm-inline-block"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-smile"],["cx","12","cy","12","r","10"],["d","M8 14s1.5 2 4 2 4-2 4-2"],["x1","9","y1","9","x2","9.01","y2","9"],["x1","15","y1","9","x2","15.01","y2","9"],["data-toggle","tooltip","title","","type","button","data-original-title","Emoji",1,"btn","btn-danger","btn-sm","d-inline","d-sm-none","btn-close-chat"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-arrow-left"],["x1","19","y1","12","x2","5","y2","12"],["points","12 19 5 12 12 5"],["data-toggle","tooltip","title","","type","button","data-original-title","Add files",1,"btn","btn-light","btn-sm","d-none","d-sm-inline-block"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-paperclip"],["d","M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"],["rows","1","type","text","placeholder","Write a message.",1,"form-control"],[1,"form-buttons"],["type","submit",1,"btn","btn-primary","btn-sm","ml-1"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-send"],["x1","22","y1","2","x2","11","y2","13"],["points","22 2 15 22 11 13 2 9 22 2"],[1,"card","p-0","col-md-4"],[3,"selectTab"],["tabHeading","","class","app-link"],[1,"chat-aside-container"],[1,"card","m-0","p-0","contacts_card","border-0"],[1,"card-header","border-0","bg-transparent"],[1,"input-group"],["type","text","placeholder","Search...","name","",1,"form-control","search"],[1,"input-group-prepend"],[1,"input-group-text","search_btn"],[1,"fa","fa-search"],[1,"card-body","p-0","border-0","contacts_body"],[1,"contacts"],[1,"active-user"],[1,"d-flex","bd-highlight"],[1,"img_cont"],["src","https://static.turbosquid.com/Preview/001292/481/WV/_D.jpg",1,"rounded-circle","user_img"],[1,"online_icon"],[1,"user_info"],["src","https://2.bp.blogspot.com/-8ytYF7cfPkQ/WkPe1-rtrcI/AAAAAAAAGqU/FGfTDVgkcIwmOTtjLka51vineFBExJuSACLcBGAs/s320/31.jpg",1,"rounded-circle","user_img"],[1,"online_icon","offline"],["src","https://i.pinimg.com/originals/ac/b9/90/acb990190ca1ddbb9b20db303375bb58.jpg",1,"rounded-circle","user_img"],["src","http://profilepicturesdp.com/wp-content/uploads/2018/07/sweet-girl-profile-pictures-9.jpg",1,"rounded-circle","user_img"],["src","https://static.turbosquid.com/Preview/001214/650/2V/boy-cartoon-3D-model_D.jpg",1,"rounded-circle","user_img"],[1,"p-3","chat-aside-container"],[1,"py-3","pb-5","mr-3","float-left"],[1,"avatar"],["src","assets/img/avatars/7.jpg","alt","admin@bootstrapmaster.com",1,"img-avatar"],[1,"text-muted"],[1,"text-muted","float-right","mt-1"],[1,"text-truncate","font-weight-bold"],[1,"aside-options"],[1,"clearfix","mt-4"],[1,"switch","switch-label","switch-pill","switch-success","switch-sm","float-right"],["type","checkbox","checked","",1,"switch-input"],["data-checked","On","data-unchecked","Off",1,"switch-slider"],[1,"clearfix","mt-3"],["type","checkbox",1,"switch-input"],[1,"switch-handle"],[1,"text-uppercase","mb-1","mt-4"],[1,"progress","progress-xs"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-info",2,"width","25%"],[1,"text-uppercase","mb-1","mt-2"],["role","progressbar","aria-valuenow","70","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-warning",2,"width","70%"],["role","progressbar","aria-valuenow","95","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","95%"],["role","progressbar","aria-valuenow","10","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success",2,"width","10%"],[1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item"],[1,"icon-list"],[1,"icon-phone"],[1,"icon-user"],[1,"icon-settings"]],template:function(t,e){1&t&&(o.ec(0,"div",0),o.ec(1,"div",1),o.ec(2,"div",2),o.ec(3,"div",3),o.ec(4,"div",4),o.ec(5,"div",5),o.Zb(6,"img",6),o.Zb(7,"span",7),o.dc(),o.ec(8,"div"),o.ec(9,"a",8),o.ec(10,"span"),o.Uc(11,"Mike Litorus"),o.dc(),o.dc(),o.ec(12,"i",9),o.Uc(13,"Typing..."),o.dc(),o.ec(14,"span",10),o.Uc(15,"Last seen today at 7:50 AM"),o.dc(),o.dc(),o.dc(),o.ec(16,"div",11),o.ec(17,"ul",12),o.ec(18,"li",13),o.ec(19,"span",14),o.Zb(20,"i",15),o.dc(),o.dc(),o.ec(21,"li",13),o.ec(22,"span",14),o.Zb(23,"i",16),o.dc(),o.dc(),o.ec(24,"li",17),o.ec(25,"span",18),o.Zb(26,"i",19),o.dc(),o.Sc(27,rp,5,0,"div",20),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(28,"div",21),o.ec(29,"div",22),o.ec(30,"div",23),o.ec(31,"div",24),o.ec(32,"div",25),o.Zb(33,"img",26),o.dc(),o.ec(34,"div",27),o.Uc(35," Hi, how are you samim? "),o.ec(36,"span",28),o.Uc(37,"8:40 AM, Today"),o.dc(),o.dc(),o.dc(),o.ec(38,"div",29),o.ec(39,"div",30),o.Uc(40," Hi Khalid i am good tnx how about you? "),o.ec(41,"span",31),o.Uc(42,"8:55 AM, Today"),o.dc(),o.dc(),o.ec(43,"div",25),o.Zb(44,"img",32),o.dc(),o.dc(),o.ec(45,"div",24),o.ec(46,"div",25),o.Zb(47,"img",26),o.dc(),o.ec(48,"div",27),o.Uc(49," I am good too, thank you for your chat template "),o.ec(50,"span",28),o.Uc(51,"9:00 AM, Today"),o.dc(),o.dc(),o.dc(),o.ec(52,"div",29),o.ec(53,"div",30),o.Uc(54," You are welcome "),o.ec(55,"span",31),o.Uc(56,"9:05 AM, Today"),o.dc(),o.dc(),o.ec(57,"div",25),o.Zb(58,"img",32),o.dc(),o.dc(),o.ec(59,"div",24),o.ec(60,"div",25),o.Zb(61,"img",26),o.dc(),o.ec(62,"div",27),o.Uc(63," I am looking for your next templates "),o.ec(64,"span",28),o.Uc(65,"9:07 AM, Today"),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(66,"div",33),o.ec(67,"form",34),o.ec(68,"div",34),o.ec(69,"button",35),o.pc(),o.ec(70,"svg",36),o.Zb(71,"circle",37),o.Zb(72,"path",38),o.Zb(73,"line",39),o.Zb(74,"line",40),o.dc(),o.dc(),o.oc(),o.ec(75,"button",41),o.pc(),o.ec(76,"svg",42),o.Zb(77,"line",43),o.Zb(78,"polyline",44),o.dc(),o.dc(),o.oc(),o.ec(79,"button",45),o.pc(),o.ec(80,"svg",46),o.Zb(81,"path",47),o.dc(),o.dc(),o.dc(),o.oc(),o.Zb(82,"textarea",48),o.ec(83,"div",49),o.ec(84,"button",50),o.pc(),o.ec(85,"svg",51),o.Zb(86,"line",52),o.Zb(87,"polygon",53),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.oc(),o.ec(88,"div",54),o.ec(89,"tabset"),o.ec(90,"tab",55),o.mc("selectTab",(function(){return e.selectedTab="chat"})),o.Sc(91,ip,2,1,"ng-template",56),o.ec(92,"div",57),o.ec(93,"div",58),o.ec(94,"div",59),o.ec(95,"div",60),o.Zb(96,"input",61),o.ec(97,"div",62),o.ec(98,"span",63),o.Zb(99,"i",64),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(100,"div",65),o.ec(101,"ul",66),o.ec(102,"li",67),o.ec(103,"div",68),o.ec(104,"div",69),o.Zb(105,"img",70),o.Zb(106,"span",71),o.dc(),o.ec(107,"div",72),o.ec(108,"span"),o.Uc(109,"Khalid"),o.dc(),o.ec(110,"p"),o.Uc(111,"Kalid is online"),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(112,"li"),o.ec(113,"div",68),o.ec(114,"div",69),o.Zb(115,"img",73),o.Zb(116,"span",74),o.dc(),o.ec(117,"div",72),o.ec(118,"span"),o.Uc(119,"Taherah Big"),o.dc(),o.ec(120,"p"),o.Uc(121,"Taherah left 7 mins ago"),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(122,"li"),o.ec(123,"div",68),o.ec(124,"div",69),o.Zb(125,"img",75),o.Zb(126,"span",71),o.dc(),o.ec(127,"div",72),o.ec(128,"span"),o.Uc(129,"Sami Rafi"),o.dc(),o.ec(130,"p"),o.Uc(131,"Sami is online"),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(132,"li"),o.ec(133,"div",68),o.ec(134,"div",69),o.Zb(135,"img",76),o.Zb(136,"span",74),o.dc(),o.ec(137,"div",72),o.ec(138,"span"),o.Uc(139,"Nargis Hawa"),o.dc(),o.ec(140,"p"),o.Uc(141,"Nargis left 30 mins ago"),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(142,"li"),o.ec(143,"div",68),o.ec(144,"div",69),o.Zb(145,"img",77),o.Zb(146,"span",74),o.dc(),o.ec(147,"div",72),o.ec(148,"span"),o.Uc(149,"Rashid Samim"),o.dc(),o.ec(150,"p"),o.Uc(151,"Rashid left 50 mins ago"),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(152,"tab",55),o.mc("selectTab",(function(){return e.selectedTab="calls"})),o.Sc(153,op,2,1,"ng-template",56),o.ec(154,"div",57),o.ec(155,"div",58),o.ec(156,"div",59),o.ec(157,"div",60),o.Zb(158,"input",61),o.ec(159,"div",62),o.ec(160,"span",63),o.Zb(161,"i",64),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(162,"div",65),o.ec(163,"ul",66),o.ec(164,"li",67),o.ec(165,"div",68),o.ec(166,"div",69),o.Zb(167,"img",70),o.Zb(168,"span",71),o.dc(),o.ec(169,"div",72),o.ec(170,"span"),o.Uc(171,"Khalid"),o.dc(),o.ec(172,"p"),o.Uc(173,"Kalid is online"),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(174,"li"),o.ec(175,"div",68),o.ec(176,"div",69),o.Zb(177,"img",73),o.Zb(178,"span",74),o.dc(),o.ec(179,"div",72),o.ec(180,"span"),o.Uc(181,"Taherah Big"),o.dc(),o.ec(182,"p"),o.Uc(183,"Taherah left 7 mins ago"),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(184,"li"),o.ec(185,"div",68),o.ec(186,"div",69),o.Zb(187,"img",75),o.Zb(188,"span",71),o.dc(),o.ec(189,"div",72),o.ec(190,"span"),o.Uc(191,"Sami Rafi"),o.dc(),o.ec(192,"p"),o.Uc(193,"Sami is online"),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(194,"li"),o.ec(195,"div",68),o.ec(196,"div",69),o.Zb(197,"img",76),o.Zb(198,"span",74),o.dc(),o.ec(199,"div",72),o.ec(200,"span"),o.Uc(201,"Nargis Hawa"),o.dc(),o.ec(202,"p"),o.Uc(203,"Nargis left 30 mins ago"),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(204,"li"),o.ec(205,"div",68),o.ec(206,"div",69),o.Zb(207,"img",77),o.Zb(208,"span",74),o.dc(),o.ec(209,"div",72),o.ec(210,"span"),o.Uc(211,"Rashid Samim"),o.dc(),o.ec(212,"p"),o.Uc(213,"Rashid left 50 mins ago"),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(214,"tab",55),o.mc("selectTab",(function(){return e.selectedTab="contact"})),o.Sc(215,sp,2,1,"ng-template",56),o.ec(216,"div",78),o.ec(217,"div",23),o.ec(218,"div",79),o.ec(219,"div",80),o.Zb(220,"img",81),o.Zb(221,"span",7),o.dc(),o.dc(),o.ec(222,"div"),o.ec(223,"small",82),o.Uc(224,"Lukasz Holeczek"),o.dc(),o.ec(225,"small",83),o.Uc(226,"1:52 PM"),o.dc(),o.dc(),o.ec(227,"div",84),o.Uc(228,"Lorem ipsum dolor sit amet"),o.dc(),o.ec(229,"small",82),o.Uc(230,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt..."),o.dc(),o.dc(),o.Zb(231,"hr"),o.ec(232,"div",23),o.ec(233,"div",79),o.ec(234,"div",80),o.Zb(235,"img",81),o.Zb(236,"span",7),o.dc(),o.dc(),o.ec(237,"div"),o.ec(238,"small",82),o.Uc(239,"Lukasz Holeczek"),o.dc(),o.ec(240,"small",83),o.Uc(241,"1:52 PM"),o.dc(),o.dc(),o.ec(242,"div",84),o.Uc(243,"Lorem ipsum dolor sit amet"),o.dc(),o.ec(244,"small",82),o.Uc(245,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt..."),o.dc(),o.dc(),o.Zb(246,"hr"),o.ec(247,"div",23),o.ec(248,"div",79),o.ec(249,"div",80),o.Zb(250,"img",81),o.Zb(251,"span",7),o.dc(),o.dc(),o.ec(252,"div"),o.ec(253,"small",82),o.Uc(254,"Lukasz Holeczek"),o.dc(),o.ec(255,"small",83),o.Uc(256,"1:52 PM"),o.dc(),o.dc(),o.ec(257,"div",84),o.Uc(258,"Lorem ipsum dolor sit amet"),o.dc(),o.ec(259,"small",82),o.Uc(260,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt..."),o.dc(),o.dc(),o.Zb(261,"hr"),o.ec(262,"div",23),o.ec(263,"div",79),o.ec(264,"div",80),o.Zb(265,"img",81),o.Zb(266,"span",7),o.dc(),o.dc(),o.ec(267,"div"),o.ec(268,"small",82),o.Uc(269,"Lukasz Holeczek"),o.dc(),o.ec(270,"small",83),o.Uc(271,"1:52 PM"),o.dc(),o.dc(),o.ec(272,"div",84),o.Uc(273,"Lorem ipsum dolor sit amet"),o.dc(),o.ec(274,"small",82),o.Uc(275,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt..."),o.dc(),o.dc(),o.Zb(276,"hr"),o.ec(277,"div",23),o.ec(278,"div",79),o.ec(279,"div",80),o.Zb(280,"img",81),o.Zb(281,"span",7),o.dc(),o.dc(),o.ec(282,"div"),o.ec(283,"small",82),o.Uc(284,"Lukasz Holeczek"),o.dc(),o.ec(285,"small",83),o.Uc(286,"1:52 PM"),o.dc(),o.dc(),o.ec(287,"div",84),o.Uc(288,"Lorem ipsum dolor sit amet"),o.dc(),o.ec(289,"small",82),o.Uc(290,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt..."),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(291,"tab",55),o.mc("selectTab",(function(){return e.selectedTab="settings"})),o.Sc(292,up,2,1,"ng-template",56),o.ec(293,"div",78),o.ec(294,"h6"),o.Uc(295,"Settings"),o.dc(),o.ec(296,"div",85),o.ec(297,"div",86),o.ec(298,"small"),o.ec(299,"b"),o.Uc(300,"Option 1"),o.dc(),o.dc(),o.ec(301,"label",87),o.Zb(302,"input",88),o.Zb(303,"span",89),o.dc(),o.dc(),o.ec(304,"div"),o.ec(305,"small",82),o.Uc(306,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."),o.dc(),o.dc(),o.dc(),o.ec(307,"div",85),o.ec(308,"div",90),o.ec(309,"small"),o.ec(310,"b"),o.Uc(311,"Option 2"),o.dc(),o.dc(),o.ec(312,"label",87),o.Zb(313,"input",91),o.Zb(314,"span",89),o.dc(),o.dc(),o.ec(315,"div"),o.ec(316,"small",82),o.Uc(317,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."),o.dc(),o.dc(),o.dc(),o.ec(318,"div",85),o.ec(319,"div",90),o.ec(320,"small"),o.ec(321,"b"),o.Uc(322,"Option 3"),o.dc(),o.dc(),o.ec(323,"label",87),o.Zb(324,"input",91),o.Zb(325,"span",89),o.Zb(326,"span",92),o.dc(),o.dc(),o.dc(),o.ec(327,"div",85),o.ec(328,"div",90),o.ec(329,"small"),o.ec(330,"b"),o.Uc(331,"Option 4"),o.dc(),o.dc(),o.ec(332,"label",87),o.Zb(333,"input",88),o.Zb(334,"span",89),o.dc(),o.dc(),o.dc(),o.Zb(335,"hr"),o.ec(336,"h6"),o.Uc(337,"System Utilization"),o.dc(),o.ec(338,"div",93),o.ec(339,"small"),o.ec(340,"b"),o.Uc(341,"CPU Usage"),o.dc(),o.dc(),o.dc(),o.ec(342,"div",94),o.Zb(343,"div",95),o.dc(),o.ec(344,"small",82),o.Uc(345,"348 Processes. 1/4 Cores."),o.dc(),o.ec(346,"div",96),o.ec(347,"small"),o.ec(348,"b"),o.Uc(349,"Memory Usage"),o.dc(),o.dc(),o.dc(),o.ec(350,"div",94),o.Zb(351,"div",97),o.dc(),o.ec(352,"small",82),o.Uc(353,"11444GB/16384MB"),o.dc(),o.ec(354,"div",96),o.ec(355,"small"),o.ec(356,"b"),o.Uc(357,"SSD 1 Usage"),o.dc(),o.dc(),o.dc(),o.ec(358,"div",94),o.Zb(359,"div",98),o.dc(),o.ec(360,"small",82),o.Uc(361,"243GB/256GB"),o.dc(),o.ec(362,"div",96),o.ec(363,"small"),o.ec(364,"b"),o.Uc(365,"SSD 2 Usage"),o.dc(),o.dc(),o.dc(),o.ec(366,"div",94),o.Zb(367,"div",99),o.dc(),o.ec(368,"small",82),o.Uc(369,"25GB/256GB"),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc())},directives:[ep.a,ep.d,ep.b,np.d,np.a,np.b],styles:[".custom-container[_ngcontent-%COMP%]{position:relative;width:100%;height:80vmin}.chat-aside-container[_ngcontent-%COMP%]{height:70vmin;overflow-y:scroll}.message-content[_ngcontent-%COMP%]{height:58vmin;padding:20px;overflow-y:scroll}.user_img[_ngcontent-%COMP%], .user_img_msg[_ngcontent-%COMP%]{height:40px;width:40px;border:1.5px solid #f5f6fa}.img_cont[_ngcontent-%COMP%]{position:relative;height:45px;width:45px}.img_cont_msg[_ngcontent-%COMP%]{height:40px;width:40px}.msg_cotainer[_ngcontent-%COMP%]{margin-left:10px;background-color:#82ccdd}.msg_cotainer[_ngcontent-%COMP%], .msg_cotainer_send[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;border-radius:25px;padding:10px;position:relative}.msg_cotainer_send[_ngcontent-%COMP%]{margin-right:10px;background-color:#78e08f}.msg_time[_ngcontent-%COMP%]{left:0}.msg_time[_ngcontent-%COMP%], .msg_time_send[_ngcontent-%COMP%]{position:absolute;bottom:-15px;font-size:10px}.msg_time_send[_ngcontent-%COMP%]{right:0}.msg_head[_ngcontent-%COMP%]{position:relative}.contacts[_ngcontent-%COMP%]{list-style:none;padding:0}.contacts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%!important;padding:5px 10px;margin-bottom:15px!important}.active-user[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.3)}.online_icon[_ngcontent-%COMP%]{position:absolute;height:15px;width:15px;background-color:#4cd137;border-radius:50%;bottom:.2em;right:.4em;border:1.5px solid #fff}.offline-user[_ngcontent-%COMP%]{background-color:#c23616!important}.user_info[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;margin-left:15px}.user_info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px}.user_info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;margin-bottom:0!important}"]}),t}(),cp=n("5/c3"),hp=n("AytR"),fp=[{path:"",data:{title:"Chat"},children:[{path:"",component:ap,data:{title:""}}]}],lp=function(){function t(){}return t.\u0275mod=o.Wb({type:t}),t.\u0275inj=o.Vb({factory:function(e){return new(e||t)},imports:[[r.c,cp.g.forChild(fp),g.a.initializeApp(hp.a.firebase),tp,np.c,ep.c]]}),t}()},e2bd:function(t,e,n){"use strict";var r,i,o=n("D57K"),s=n("B/oq"),u=n("QoMx"),a=n("Gjt8"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),h=new s.b("app","Firebase",c),f="@firebase/app",l=((i={})[f]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new a.b("@firebase/app"),p=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new u.b(e.name),this._addComponent(new u.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw h.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var u=o.name;if("string"!=typeof u||!u)throw h.create("bad-app-name",{appName:String(u)});if(Object(s.c)(e,u))throw h.create("duplicate-app",{appName:u});var a=new t(n,o,r);return e[u]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=l[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&c.push("and"),a&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}o(new u.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw h.create("invalid-log-argument");Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.2.9",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.c)(e,t))throw h.create("no-app",{appName:t});return e[t]}function o(o){var u=o.name;if(n.has(u))return d.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw h.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&Object(s.f)(a,o.serviceProps),r[u]=a,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,u);return n.apply(this,o.multipleInstances?t:[])}}for(var c=0,f=Object.keys(e);c<f.length;c++)e[f[c]]._addComponent(o);return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(p);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var m=v;!function(t,e){t.INTERNAL.registerComponent(new u.a("platform-logger",(function(t){return new y(t)}),"PRIVATE")),t.registerVersion(f,"0.6.15",void 0),t.registerVersion("fire-js","")}(m),e.a=m},lykB:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return A})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return g})),n.d(e,"f",(function(){return _})),n.d(e,"g",(function(){return E})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return y})),n.d(e,"j",(function(){return O}));var r=n("3yEJ"),i=n("diMa"),o=n("U3QC"),s=n("bacK"),u=n("CxUu"),a=n("1C3z"),c=n("xzNC");function h(){}class f{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class l{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",h,{},h,h)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new f(Zone.current)),this.insideAngular=t.run(()=>new f(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new l(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(u.b)(t.insideAngular))}}const v=["ngOnDestroy"],y=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(v.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),g=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new a.t("angularfire2.app.options"),m=new a.t("angularfire2.app.nameOrConfig"),w=new a.V("6.1.4");function E(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&I("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{I("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},I=(t,...e)=>{Object(a.db)()&&"undefined"!=typeof console&&console[t](...e)};function _(e,n,r,i,o){const[s,...u]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&I("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(a){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:E,deps:[b,a.E,[new a.F,m]]};let A=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",a.U.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:m,useValue:n}]}}}return t.\u0275mod=a.Wb({type:t}),t.\u0275inj=a.Vb({factory:function(e){return new(e||t)(a.ic(a.H))},providers:[T]}),t})()}).call(this,n("cyaT")(t))},xzNC:function(t,e,n){"use strict";var r=n("e2bd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.2.9","app")}}]);